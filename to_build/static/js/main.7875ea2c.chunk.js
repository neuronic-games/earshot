(this["webpackJsonpbinaural-meet"]=this["webpackJsonpbinaural-meet"]||[]).push([[0],{275:function(e,t){},525:function(e,t){},526:function(e,t){},527:function(e,t){},534:function(e,t){},535:function(e,t){},536:function(e,t){},537:function(e,t){},538:function(e,t){},543:function(e,t,n){"use strict";n.r(t);var i=n(14);var o=function(e){var t=new URL(decodeURI(e)),n=["room","name","headphone","speaker","cameraOn","muteMic","testBot","skipEntrance"].reduce((function(e,n){return e[n]=t.searchParams.get(n),e}),{});return n.room=t.pathname.substr(1).replace(/[./@]/,"_")+(n.room?n.room:""),n}(window.location.href),a=n(24);function r(e){if(!e)throw new Error("Not a truthy value")}/Chrome/.test(navigator.userAgent),/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);function s(e,t){var n,i=new Map(e),o=Object(a.a)(t);try{for(o.s();!(n=o.n()).done;){var r=n.value;i.delete(r[0])}}catch(s){o.e(s)}finally{o.f()}return i}function c(){return!!navigator.userAgent.match(/iPhone|Android.+Mobile/)}function l(){return window.parent.screen.width<window.parent.screen.height}function u(e){return e.host===window.location.host&&e.pathname===window.location.pathname}var p=n(35);function v(e){return Math.abs(Math.sign(e.a)*Math.sqrt(Math.pow(e.a,2)+Math.pow(e.c,2)))}function h(e){return Math.abs(Math.sign(e.d)*Math.sqrt(Math.pow(e.b,2)+Math.pow(e.d,2)))}function b(e){return Math.atan2(-e.c,e.a)}function f(e,t,n){var i,o=(new DOMMatrix).translate(-e[0],-e[1]),a=(i=new DOMMatrix).translateSelf.apply(i,Object(p.a)(e));return[a,t,o,n].reduce((function(e,t){return e.multiplySelf(t)}),new DOMMatrix)}function m(e,t){return[e.a*t[0]+e.c*t[1]+e.e,e.b*t[0]+e.d*t[1]+e.f]}function g(e,t){return[e.a*t[0]+e.c*t[1],e.b*t[0]+e.d*t[1]]}function A(e,t){return[e[0]+t[0],e[1]+t[1]]}function j(e,t){return[e[0]-t[0],e[1]-t[1]]}function O(e,t){return t.map((function(t){return e*t}))}function y(e,t){return[e*t[0],e*t[1]]}function x(e){var t=0;return e.forEach((function(e){return t+=e*e})),Math.sqrt(t)}function C(e){return e*Math.PI/180}function w(e){return 180*e/Math.PI}function S(e,t){var n=C(e.orientation),i=Math.sin(n),o=Math.cos(n),a=[t.position[0]-e.position[0],t.position[1]-e.position[1]],r=[a[1]*i+a[0]*o,a[1]*o-a[0]*i],s=t.orientation-e.orientation;return{position:r,orientation:s<0?s+360:s}}function k(e){var t=C(e.orientation);return{position:[e.position[0],0,-e.position[1]],orientation:[Math.sin(t),0,Math.cos(t)]}}function I(e,t){var n=e*(Math.PI/180),i=Math.cos(n),o=Math.sin(n);return[i*t[0]-o*t[1],o*t[0]+i*t[1]]}function T(e,t){return e[0]*t[0]+e[1]*t[1]}function E(e){return Math.sqrt(e.reduce((function(e,t){return e+t*t}),0))}function M(e,t){if(0===e.orientation)return[e.position[1],e.position[0]+t[0],e.position[1]+t[1],e.position[0]];var n=I(e.orientation,e.position),i=I(e.orientation,[t[0],0]),o=I(e.orientation,[0,t[1]]),a=[n[0],n[0]+i[0],n[0]+o[0],n[0]+i[0]+o[0]],r=[n[1],n[1]+i[1],n[1]+o[1],n[1]+i[1]+o[1]];return a.sort((function(e,t){return e-t})),r.sort((function(e,t){return e-t})),[r[0],a[3],r[3],a[0]]}function P(e,t,n){return n[3]<=e[0]-t&&e[0]+t<=n[1]&&n[0]<=e[1]-t&&e[1]+t<=n[2]}function R(e){return Math.round(100*e)/100}function D(e){return"".concat(R(e.position[0]),",").concat(R(e.position[1]),",").concat(R(e.orientation))}function B(e){return"".concat(e.position[0],",").concat(e.position[1],",").concat(e.show?"t":"")}function N(e){var t=e.split(",");return{position:[Number(t[0]),Number(t[1])],orientation:Number(t[2])}}function z(e){var t=e.split(",");return{position:[Number(t[0]),Number(t[1])],show:!!t[2]}}function F(e){return function(){return new Promise((function(t,n){try{e(),t()}catch(i){throw n(i),i}}))}}function Q(e){for(var t=0,n=0;n!==e.length;n+=1)t=e.charCodeAt(n)+13*t;var i=t%4096;return[17*(Math.floor(i/256)%16),17*(Math.floor(i/16)%16),17*(Math.floor(i)%16)]}function L(e){return U(e)?[255,255,136]:[0,0,136]}function U(e){return e[0]+e[1]+.2*e[2]<340}function G(e){return[255-e[0],255-e[1],255-e[2]]}function Y(e){var t=[Math.floor(e[0]),Math.floor(e[1]),Math.floor(e[2])],n=t[1],i=t[2];return"#".concat("0".concat(t[0].toString(16)).slice(-2)).concat("0".concat(n.toString(16)).slice(-2)).concat("0".concat(i.toString(16)).slice(-2))}function H(e){return function(e){var t=e[0]/17,n=e[1]/17,i=e[2]/17,o=U(e)?"#FF8":"#008";return["#".concat(t.toString(16)).concat(n.toString(16)).concat(i.toString(16)),o,"#".concat((15-t).toString(16)).concat((15-n).toString(16)).concat((15-i).toString(16))]}(Q(e))}function W(e,t){return"rgba(".concat(e[0],",").concat(e[1],",").concat(e[2],",").concat(t,")")}var J=n(18),K=n(13),V=(n(54),n(2)),X=n(3),Z=n(225),q=n(278),_=n(618),$=n(135);function ee(e,t){return Z.a.t(e,t)}function te(){return Object(_.a)()}var ne={en:{translation:{enAbout:"A video chat with a 2D map, where you will hear others' voices based on the location. It holds multiple conversations in a venue parallelly, and you may walk around between them. Sharing screens, cameras, texts, images, YouTube, and documents on google drive are supported. You may drop or paste on the map.",enTopPageUrl:"https://scrapbox.io/binaural-meet/Top_page",enMoreInfo:"... more info",YourName:"MY NAME",Venue:"MEETING SPACE",EnterTheVenue:"Enter the venue",Contents:"Contents","Create and Share":"Create and Share","Share Text":"Share Text","Share iframe":"Share web page (Can't display many sites)","Share image":"Share image","Share zone image":"Share zone image","Select video camera to share":"Select video camera to share","Meeting Space":"Meeting Space",shareImport:"_Load...",shareImportTip:"Load the shared content from the downloaded .json file.",shareDownload:"_Save Meeting Space",shareDownloadTip:"Download all shared contents except screen sharing and cameras to a file.",shareIframe:"I_frame",shareIframeTip:"Web pages that can be displayed are limited to those that can be displayed in an iframe.",shareText:"_Text (can paste directly)",sharePaste:"Paste from clipboard (_v)",sharePasteTip:"Ctrl+V / Cmd+V shortcut directly works on the map. URL to PDF, images, YouTube, Google Docs",shareImage:"Ima_ge (can paste directly)",shareZoneImage:"_Chat Zone",shareImageTip:"Image files will be uploaded to gyazo.com. You can also paste the URL of the image.",shareGDrive:"Import Files from Google Drive",shareGDriveTip:"Upload any available file from Google Drive",shareWhiteboard:"_Whiteboard",shareWhiteboardTip:"Place the wbo.ophir.dev whiteboard.",shareEditEnd:"Stop editing",shareCamera:"_Camera",shareScreenBackground:"Screen as the _background",stopScreenBackground:"Stop _background screen",shareScreenContent:"_Screen",shareScreenContentTip:"Reducing the screen update frequency (fps) will reduce the network load.",stopScreen:"C_lose all screen and camera windows",frameRateSetting:"Frame rate:",fps:"fps",shareMouse:"_Mouse cursor",shareMouseTip:"Show the mouse cursor to other participants. The avatar also always gazes at the mouse cursor.",stopMouse:"Stop sharing _Mouse cursor",recorderMenuTitle:"_Record and playback",recorderStart:"Start _recording",recorderStop:"Stop _recording",playerStop:"Stop _playback",playerPlayfile:"_Load and play",ttCreateAndshare:"_Create and share",ttMicMute:"_Mic mute",ttPlayAndRec:"_Record and Playback",headphoneL1Chrome:"Stereo headphone (Caution: no echo cancel)",headphoneL1:"Stereo headphone",headphoneL2:"Monaural speaker",etConnection:"No connection",emConnection:"Please check internet connection. Earshot Chat uses https. If internet is OK, the server may have problems.",etMicPermission:"No permission to use microphone",emMicPermission:"Your browser does not permit to use microphone. Please give the permission and reload your browser.",etNoMic:"No microphone",emNoMic:"Please check if your PC has a microphone. Earshot Chat requires it.",emClose:"Close",emNeverShow:"Never show this in this session",etNoChannel:"No data channel",emNoChannel:"Please check firewall setting. Earshot Chat connect to https (port 443/TCP) and port 8801-8810/UDP or 80/TCP.",etDataConnection:"Data connection failed",etRtcConnection:"Media connection failed",emDataConnection:"Please check firewall setting. Earshot Chat connect to https (port 443/TCP).",emRtcConnection:"Please check firewall setting. Earshot Chat connect to https (port 443/TCP).",ctTitle:"Show Title",ctUnTitle:"Hide Title",etRetry:"Please reload",emRetry:"The connection had been cut off once. Please click the reload button of the browser.",imageDropzoneText:"Drag and drop images here or click",lsTitle:"Avatar and notification setting",lsName:"Name",lsColor:"Color",lsColorAvatar:"Avatar",lsColorText:"Text",lsAutoColor:"Auto",lsImage:"Avatar image",lsEmail:"Input email to use Gravatar's image",lsImageFile:"Upload file to use image file",btSave:"Save and close",btCancel:"Cancel change",lsNotifyCall:"Called",lsNotifyTouch:"Touched",lsNotifyNear:"Approached",lsNotifyYarn:"Yarn phone",rsCall:"Call",lsNotification:"Notification",rsConnectYarnPhone:"Connect yarn phone",rsCutYarnPhone:"Disconnect yarn phone",rsChatTo:"Send chat only to {{name}}",ctPin:"Lock position and size",ctUnpin:"Unlock position and size",ctEdit:"Start editing (No view sync)",ctEndEdit:"End editing (Sync view)",ctUploadZone:"Upload and share",ctEditIframe:"Browse page (No sync)",ctEndEditIframe:"End browse (No sync)",ctEditText:"Edit (No scroll sync)",ctEndEditText:"End edit (Sync scroll)",ctEditWhiteboard:"Edit (No scroll sync)",ctEndEditWhiteboard:"End edit (No scroll sync)",ctEditGDrive:"Edit/Update (No scroll sync)",ctEndEditGDrive:"End edit (No auto-update)",ctEndEditYoutube:"Sync play pos",ctEditYoutube:"No sync",ctMoveTop:"Move to the top",ctMoveBottom:"Move to the bottom",ctWallpaper:"Make this wallpaper",ctUnWallpaper:"Remove this from wallpaper",ctCopyToClipboard:"Copy to clipboard",ctMaximize:"Zoom and move to maximize this content",ctUnMaximize:"Unmaximize and restore the view",ctDelete:"Delete",ctClose:"Close",ctName:"Titile",ctStreamingMedia:"Streaming Media (Twitch feed)",ctFocus:"Show it in the center",ctFrameVisible:"Normal frame",ctFrameInvisible:"Invisible frame",ctOpenAudioZone:"Meeting space",ctClosedAudioZone:"Sound proof",ctNotAudioZone:"Just an image",ctOpaque:"Opaque",ctTransparent:"Transparent",ctGenerateAvatar:"Customize Avatar",deleteMsg:"Remove",upload:"Upload",Save:"Save",Clear:"Clear",Cancel:"Cancel",broadcastMyVoice:"Broadcast my voice",showTrackedFace:"Show only facial feature points",trackWholeBody:"Track whole body",soundLocalizationBasedOn:"Sound localization based on",stereoNote:"Are you really using headphones?",stereoNoteDesc:"If you use it with a speaker, it will echo back the other party's voice, making it very difficult for the other party to speak.",stereoConfirmed:"Confirmed and change into headphone mode",stereoCancel:"Keep loudspeaker mode",slAvatar:"Avatar (avatar's direction)",slUser:"User (top is front)",usage:"How to use",cmJoined:"{{name}} joined.",cmLeft:"{{name}} Left.",cmNameChanged:"{{old}} changed its name to {{new}}.",cmCallBy:"{{name}} called you.",cmCallTo:"You called {{name}}.",cmToAll:"To all",cmToName:"To {{name}}",cmSend:"Send (CTRL+Enter)",cmPrivateFrom:"Private from {{name}}",cmPrivateTo:"Private to {{name}}",noCalled:"{{name}} called you.",noTouched:"{{name}} touched you.",noNear:"{{name}} approached you.",noYarn:"{{name}} connected yarn.",afkTitle:"In away from keyboard mode (L / Esc)",afkMessage:"Hit any key or click mouse to return.",gdFailed:"The file in Google Drive could not be accessed.\r\nChange the file-sharing settings so that everyone on the Internet can see it.",videoLimit:"Limit on the number of video streams",audioLimit:"Limit on the number of audio streams",connectionStatus:"Connection Status",deleteImageMsg:"Remove Image?",deleteZoneMsg:"Remove Chat Zone?",deleteTextMsg:"Remove Text?",deleteYes:"Remove",ctKick:"Kick user from meeting",deleteNo:"Don't Remove",copyClipboard:"Meeting address copied to clipboard",deleteAlert:"ALERT",ctProximity:"Enable Chat Zone",ctUnProximity:"Disable Chat Zone",ctStopWatchOn:"Start zone stopwatch",ctStopWatchOff:"Stop zone stopwatch",ctScaleRotate:"Enable Scale and Rotate",ctUnScaleRotate:"Disable Scale and Rotate",settingPreference:"_Preferences...",meetingSpace:"_Meeting Space",meetingDesc:"Meeting Description",broadcastMyVideo:"Broadcast my video",broadcastMySpeakVideo:"Speak & Show",stereoswitch:"Stereo sound (via headset)",speakerSetting:"Change the browser default setting to access the mic and speaker",permissionTitle:"Please grant Earshot access to your camera and microphone so that other participants can see and hear you.",welcomePermission:"Hi! Welcome to Earshot",reqPermission:"REQUEST ACCESS"}},ja:{translation:{enAbout:"\u4f4d\u7f6e\u306b\u5fdc\u3058\u3066\u58f0\u304c\u5c4a\u304f2D\u30de\u30c3\u30d7\u4ed8\u304d\u30d3\u30c7\u30aa\u30c1\u30e3\u30c3\u30c8\u3067\u3059\u3002\u4f1a\u5834\u5185\u306b\u8907\u6570\u306e\u4f1a\u8a71\u304c\u4e26\u7acb\u3057\u3001\u4f1a\u8a71\u9593\u3092\u6b69\u304d\u56de\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u753b\u9762\u3001\u30ab\u30e1\u30e9\u3001\u30c6\u30ad\u30b9\u30c8\u3001\u753b\u50cf\u3001YouTube\u3001Google\u30c9\u30e9\u30a4\u30d6\u306e\u6587\u66f8\u3092\u5171\u6709\u3067\u304d\u307e\u3059\u3002\u30de\u30c3\u30d7\u306bURL\u7b49\u3092\u30c9\u30ed\u30c3\u30d7/\u30da\u30fc\u30b9\u30c8\u3067\u304d\u307e\u3059\u3002",enTopPageUrl:"https://scrapbox.io/binaural-meet/%E3%83%88%E3%83%83%E3%83%97%E3%83%9A%E3%83%BC%E3%82%B8",enMoreInfo:"\u8a73\u7d30",YourName:"\u304a\u540d\u524d\u3092\u5165\u529b\u304f\u3060\u3055\u3044",Venue:"\u4f1a\u5834\u540d",EnterTheVenue:"\u5165\u5834",Contents:"\u5171\u6709",createAndShareTitle:"\u5171\u6709 (_c)","Create and Share":"\u30c6\u30ad\u30b9\u30c8\u306e\u5171\u6709","Share Text":"\u30c6\u30ad\u30b9\u30c8\u306e\u5171\u6709","Share iframe":"\u30c6\u30ad\u30b9\u30c8\u306e\u5171\u6709","Share image":"\u30c6\u30ad\u30b9\u30c8\u306e\u5171\u6709","Share zone image":"\u30c6\u30ad\u30b9\u30c8\u306e\u5171\u6709","Select video camera to share":"\u30c6\u30ad\u30b9\u30c8\u306e\u5171\u6709","Meeting Space":"\u30c6\u30ad\u30b9\u30c8\u306e\u5171\u6709",shareImport:"\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30a4\u30f3\u30dd\u30fc\u30c8 (_i)",shareImportTip:"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u3001\u5171\u6709\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002",shareDownload:"\u30d5\u30a1\u30a4\u30eb\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 (_d)",shareDownloadTip:"\u753b\u9762\u5171\u6709\u3068\u30ab\u30e1\u30e9\u4ee5\u5916\u306e\u5168\u5171\u6709\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002",shareIframe:"Web\u30da\u30fc\u30b8 (_f)",shareIframeTip:"\u8868\u793a\u3067\u304d\u308bWeb\u30da\u30fc\u30b8\u306fiframe\u3067\u8868\u793a\u3067\u304d\u308b\u3082\u306e\u306b\u9650\u3089\u308c\u307e\u3059\u3002",shareText:"\u30c6\u30ad\u30b9\u30c8 (_t / \u76f4\u63a5\u30da\u30fc\u30b9\u30c8\u53ef)",sharePaste:"\u30da\u30fc\u30b9\u30c8 (_v)",sharePasteTip:"\u30de\u30c3\u30d7\u4e0a\u3067 Ctrl+V / Cmd+V \u3067\u3082\u8cbc\u4ed8\u3051\u3067\u304d\u307e\u3059\u3002PDF\u3001\u753b\u50cf\u3001YouTube\u3001Google Docs\u3078\u306eURL\u3092\u8a8d\u8b58\u3057\u307e\u3059\u3002",shareImage:"\u753b\u50cf (_g)",shareZoneImage:"\u753b\u50cf (_g / \u76f4\u63a5\u30da\u30fc\u30b9\u30c8\u53ef)",shareImageTip:"\u30de\u30c3\u30d7\u4e0a\u3067 Ctrl+V / Cmd+V \u3067\u8cbc\u4ed8\u3051\u3067\u304d\u307e\u3059\u3002\u753b\u50cf\u306f gyazo.com \u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\u753b\u50cf\u306eURL\u3082\u8cbc\u4ed8\u3051\u3067\u304d\u307e\u3059\u3002",shareGDrive:"Import Files from Google Drive",shareGDriveTip:"Upload any available file from Google Drive",shareWhiteboard:"\u30db\u30ef\u30a4\u30c8\u30dc\u30fc\u30c9 (_w)",shareWhiteboardTip:"wbo.ophir.dev \u306e\u30db\u30ef\u30a4\u30c8\u30dc\u30fc\u30c9\u3092\u7f6e\u304d\u307e\u3059\u3002",deleteMsg:"\u6620\u50cf\u30b9\u30c8\u30ea",ctGenerateAvatar:"\u9632\u97f3\u4f1a\u8b70\u5ba4",ctUploadZone:"\u4e0d\u900f\u660e",shareEditEnd:"\u7de8\u96c6\u7d42\u4e86",shareCamera:"\u30d3\u30c7\u30aa\u30ab\u30e1\u30e9 (_c)",shareScreenBackground:"\u80cc\u666f\u306b\u753b\u9762\u5171\u6709 (_b)",stopScreenBackground:"\u80cc\u666f\u306e\u753b\u9762\u5171\u6709\u3092\u505c\u6b62 (_b)",shareScreenContent:"\u753b\u9762\u5171\u6709 (_s)",shareScreenContentTip:"\u753b\u9762\u66f4\u65b0\u306e\u983b\u5ea6(fps)\u3092\u4e0b\u3052\u308b\u3068\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8ca0\u8377\u304c\u6e1b\u308a\u307e\u3059\u3002",stopScreen:"\u753b\u9762\u5171\u6709\u30fb\u30ab\u30e1\u30e9\u3092\u3059\u3079\u3066\u9589\u3058\u308b (_l)",shareMouse:"\u30de\u30a6\u30b9\u30ab\u30fc\u30bd\u30eb (_m)",shareMouseTip:"\u30de\u30a6\u30b9\u30ab\u30fc\u30bd\u30eb\u304c\u4ed6\u306e\u53c2\u52a0\u8005\u306b\u3082\u898b\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u30a2\u30d0\u30bf\u30fc\u306e\u76ee\u3082\u30de\u30a6\u30b9\u30ab\u30fc\u30bd\u30eb\u3092\u5411\u3044\u3066\u3044\u307e\u3059\u3002",recorderMenuTitle:"\u9332\u753b\u3068\u518d\u751f(_r)",recorderStart:"\u9332\u753b\u958b\u59cb(_r)",recorderStop:"\u9332\u753b\u505c\u6b62(_r)",playerStop:"\u518d\u751f\u505c\u6b62(_p)",playerPlayfile:"\u30d5\u30a1\u30a4\u30eb\u3092\u518d\u751f(_l)",ttCreateAndshare:"\u4f5c\u6210\u3068\u5171\u6709 (_c)",ttPlayAndRec:"\u9332\u753b\u3068\u518d\u751f (_r)",stopMouse:"\u30de\u30a6\u30b9\u30ab\u30fc\u30bd\u30eb\u306e\u5171\u6709\u505c\u6b62 (_m)",frameRateSetting:"\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8",fps:"fps",ttMicMute:"\u30de\u30a4\u30af\u306e\u30df\u30e5\u30fc\u30c8 (_m)",headphoneL1Chrome:"\u30d8\u30c3\u30c9\u30d5\u30a9\u30f3 (\u30b9\u30c6\u30ec\u30aa / \u6ce8\u610f:\u30a8\u30b3\u30ad\u30e3\u30f3\u306a\u3057)",headphoneL1:"\u30d8\u30c3\u30c9\u30d5\u30a9\u30f3 (\u30b9\u30c6\u30ec\u30aa)",headphoneL2:"\u30b9\u30d4\u30fc\u30ab\u30fc (\u30e2\u30ce\u30e9\u30eb)",etConnection:"\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u306a\u3057",emConnection:"\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002Earshot Chat\u306f https \u3092\u4f7f\u3044\u307e\u3059\u3002\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u306e\u554f\u984c\u3067\u306a\u3051\u308c\u3070\u3001\u30b5\u30fc\u30d0\u306e\u554f\u984c\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002",etMicPermission:"\u30de\u30a4\u30af\u5229\u7528\u4e0d\u53ef",emMicPermission:"\u30d6\u30e9\u30a6\u30b6\u304c\u30de\u30a4\u30af\u306e\u5229\u7528\u3092\u8a31\u53ef\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u30d6\u30e9\u30a6\u30b6\u306eURL\u306e\u5de6\u306e\u9375\u306e\u30a2\u30a4\u30b3\u30f3\u304b\u3089\u8a31\u53ef\u3057\u3001\u30d6\u30e9\u30a6\u30b6\u3092\u30ea\u30ed\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002",etNoMic:"\u30de\u30a4\u30af\u304c\u3042\u308a\u307e\u305b\u3093",emNoMic:"Earshot Chat\u306b\u306f\u30de\u30a4\u30af\u304c\u5fc5\u8981\u3067\u3059\u3002\u30d1\u30bd\u30b3\u30f3\u306b\u30de\u30a4\u30af\u304c\u3064\u3044\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002",emClose:"\u9589\u3058\u308b",emNeverShow:"\u3053\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u3067\u306f\u8868\u793a\u3057\u306a\u3044",etDataConnection:"\u30c7\u30fc\u30bf\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3067\u304d\u307e\u305b\u3093",etRtcConnection:"\u30e1\u30c7\u30a3\u30a2\u30b5\u30fc\u30d0\u306b\u901a\u4fe1\u304c\u3067\u304d\u307e\u305b\u3093",emDataConnection:"\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u8a2d\u5b9a\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002Earshot Chat \u306f https(443\u756a)\u30dd\u30fc\u30c8\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002",emRtcConnection:"\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u8a2d\u5b9a\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002Earshot Chat \u306f https(443\u756a)\u30dd\u30fc\u30c8\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002",etRetry:"\u30d6\u30e9\u30a6\u30b6\u306e\u66f4\u65b0\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044",emRetry:"\u4e00\u5ea6\u63a5\u7d9a\u304c\u5207\u308c\u307e\u3057\u305f\u3002\u30d6\u30e9\u30a6\u30b6\u306e\u66f4\u65b0(\u30ea\u30ed\u30fc\u30c9)\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002",imageDropzoneText:"\u753b\u50cf\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3059\u308b\u304b\u3001\u30af\u30ea\u30c3\u30af\u3057\u3066\u304f\u3060\u3055\u3044",lsTitle:"\u30a2\u30d0\u30bf\u30fc\u3068\u901a\u77e5\u306e\u8a2d\u5b9a",lsColor:"\u8272",lsColorAvatar:"\u30a2\u30d0\u30bf\u30fc\u8272",lsColorText:"\u6587\u5b57\u8272",lsAutoColor:"\u81ea\u52d5",lsName:"\u304a\u540d\u524d",lsImage:"\u30a2\u30d0\u30bf\u30fc\u306e\u753b\u50cf",lsEmail:"Gravatar\u306e\u753b\u50cf\u3092\u4f7f\u3046\u5834\u5408\u306fEmail\u3092\u5165\u529b",lsImageFile:"\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u306e\u5834\u5408\u306f\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9",btSave:"\u4fdd\u5b58\u3057\u3066\u9589\u3058\u308b",btCancel:" \u3082\u3068\u306b\u623b\u3059 ",lsNotification:"\u901a\u77e5\u306e\u8a2d\u5b9a",lsNotifyCall:"\u547c\u51fa",lsNotifyTouch:"\u63a5\u89e6",lsNotifyNear:"\u63a5\u8fd1",lsNotifyYarn:"\u7cf8\u96fb\u8a71",rsCall:"\u547c\u3073\u51fa\u3059",rsConnectYarnPhone:"\u7cf8\u96fb\u8a71\u3092\u3064\u306a\u3050",rsCutYarnPhone:"\u7cf8\u96fb\u8a71\u3092\u5207\u308b",rsChatTo:"{{name}}\u3060\u3051\u306b\u30c1\u30e3\u30c3\u30c8\u3092\u9001\u308b",ctPin:"\u4f4d\u7f6e/\u30b5\u30a4\u30ba\u3092\u56fa\u5b9a\u3059\u308b",ctUnpin:"\u4f4d\u7f6e/\u30b5\u30a4\u30ba\u3092\u53ef\u5909\u306b\u3059\u308b",ctEditIframe:"\u30da\u30fc\u30b8\u3092\u30d6\u30e9\u30a6\u30ba (\u975e\u540c\u671f)",ctEndEditIframe:"\u30d6\u30e9\u30a6\u30ba\u3092\u7d42\u4e86 (\u540c\u671f\u306a\u3057)",ctEditText:"\u7de8\u96c6\u958b\u59cb (\u8868\u793a\u4f4d\u7f6e\u306f\u975e\u540c\u671f)",ctEndEditText:"\u7de8\u96c6\u7d42\u4e86 (\u8868\u793a\u4f4d\u7f6e\u3092\u540c\u671f)",ctEditWhiteboard:"\u7de8\u96c6\u958b\u59cb (\u8868\u793a\u4f4d\u7f6e\u306f\u975e\u540c\u671f)",ctEndEditWhiteboard:"\u7de8\u96c6\u7d42\u4e86 (\u8868\u793a\u4f4d\u7f6e\u306f\u975e\u540c\u671f)",ctEditGDrive:"\u7de8\u96c6\u958b\u59cb\u30fb\u8868\u793a\u66f4\u65b0 (\u8868\u793a\u4f4d\u7f6e\u306f\u975e\u540c\u671f)",ctEndEditGDrive:"\u7de8\u96c6\u7d42\u4e86 (\u81ea\u52d5\u66f4\u65b0\u306a\u3057)",ctEndEditYoutube:"\u518d\u751f\u4f4d\u7f6e\u3092\u540c\u671f",ctEditYoutube:"\u540c\u671f\u3057\u306a\u3044",ctMoveTop:"\u4e00\u756a\u4e0a\u306b\u79fb\u52d5",ctMoveBottom:"\u4e00\u756a\u4e0b\u306b\u79fb\u52d5",ctWallpaper:"\u58c1\u7d19\u306b\u3059\u308b",ctUnWallpaper:"\u58c1\u7d19\u304b\u3089\u306f\u305a\u3059",ctCopyToClipboard:"\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc",ctMaximize:"\u6700\u5927\u5316\u3059\u308b\u3088\u3046\u306b\u62e1\u5927\u3059\u308b",ctUnMaximize:"\u6700\u5927\u5316\u3068\u62e1\u5927\u3092\u623b\u3059",ctFocus:"\u4e2d\u592e\u306b\u8868\u793a",ctDelete:"\u524a\u9664\u3059\u308b",ctClose:"\u9589\u3058\u308b",ctName:"\u30bf\u30a4\u30c8\u30eb",ctStreamingMedia:"\u30bf\u30a4\u30c8\u30eb",ctFrameVisible:"\u30d5\u30ec\u30fc\u30e0\u3042\u308a",ctFrameInvisible:"\u30d5\u30ec\u30fc\u30e0\u306a\u3057",ctOpenAudioZone:"\u4f1a\u8b70\u5834\u6240",ctClosedAudioZone:"\u9632\u97f3\u4f1a\u8b70\u5ba4",ctNotAudioZone:"\u305f\u3060\u306e\u753b\u50cf",ctOpaque:"\u4e0d\u900f\u660e",ctTransparent:"\u900f\u660e",upload:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9",Save:"\u4fdd\u5b58",Clear:"\u30af\u30ea\u30a2",Cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",broadcastMyVoice:"\u58f0\u3092\u5168\u54e1\u306b\u5c4a\u3051\u308b",showTrackedFace:"\u9854\u306e\u7279\u5fb4\u70b9\u306e\u307f\u8868\u793a",trackWholeBody:"\u5168\u8eab\u3092\u30c8\u30e9\u30c3\u30af",soundLocalizationBasedOn:"\u97f3\u50cf\u5b9a\u4f4d\u306e\u5411\u304d\u306e\u57fa\u6e96",stereoNote:"\u672c\u5f53\u306b\u30d8\u30c3\u30c9\u30d5\u30a9\u30f3\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u304b\uff1f",stereoNoteDesc:"\u30b9\u30d4\u30fc\u30ab\u30fc\u3067\u4f7f\u7528\u3059\u308b\u3068\u76f8\u624b\u306e\u58f0\u3092\u30a8\u30b3\u30fc\u30d0\u30c3\u30af\u3057\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u76f8\u624b\u304c\u3068\u3066\u3082\u8a71\u3057\u306b\u304f\u304f\u306a\u308a\u307e\u3059\u3002",stereoConfirmed:"\u78ba\u8a8d\u3057\u305f\u306e\u3067\u3001\u30d8\u30c3\u30c9\u30d5\u30a9\u30f3\u30e2\u30fc\u30c9\u306b\u5909\u66f4",stereoCancel:"\u30b9\u30d4\u30fc\u30ab\u30e2\u30fc\u30c9\u306e\u307e\u307e\u306b\u3059\u308b",slAvatar:"\u30a2\u30d0\u30bf\u30fc\u306e\u5411\u304d",slUser:"\u30e6\u30fc\u30b6\u30fc\u306e\u5411\u304d(\u4e0a\u304c\u524d)",usage:"\u4f7f\u3044\u65b9",cmJoined:"{{name}}\u304c\u53c2\u52a0\u3002",cmLeft:"{{name}}\u304c\u9000\u51fa\u3002",cmNameChanged:"{{old}} \u304c {{new}} \u306b\u540d\u524d\u3092\u5909\u66f4\u3002",cmCallBy:"{{name}}\u304c\u3042\u306a\u305f\u3092\u547c\u3073\u307e\u3057\u305f\u3002",cmCallTo:"\u3042\u306a\u305f\u304c{{name}}\u3092\u547c\u3073\u307e\u3057\u305f\u3002",cmToAll:"\u5168\u54e1\u3078",cmToName:"{{name}}\u3078",cmSend:"\u9001\u4fe1 (CTRL+Enter)",cmPrivateFrom:"{{name}}\u304b\u3089\u500b\u4eba\u5b9b",cmPrivateTo:"\u81ea\u5206\u304b\u3089{{name}}\u5b9b",noCalled:"{{name}}\u304c\u547c\u3073\u307e\u3057\u305f\u3002",noTouched:"{{name}}\u304c\u89e6\u308c\u307e\u3057\u305f\u3002",noNear:"{{name}}\u304c\u8fd1\u3065\u304d\u307e\u3057\u305f\u3002",noYarn:"{{name}}\u304c\u7cf8\u96fb\u8a71\u3092\u3064\u306a\u304e\u307e\u3057\u305f\u3002",afkTitle:"\u96e2\u5e2d\u4e2d\u30e2\u30fc\u30c9 (L / Esc)",afkMessage:"\u30ad\u30fc\u304b\u30de\u30a6\u30b9\u30af\u30ea\u30c3\u30af\u3067\u623b\u308a\u307e\u3059\u3002",gdFailed:"Google Drive\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\r\n\u30d5\u30a1\u30a4\u30eb\u3092\u5171\u6709\u8a2d\u5b9a\u3092\u5909\u3048\u3001\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306e\u5168\u54e1\u304c\u95b2\u89a7\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",videoLimit:"\u6620\u50cf\u30b9\u30c8\u30ea\u30fc\u30e0\u6570\u306e\u4e0a\u9650",audioLimit:"\u97f3\u58f0\u30b9\u30c8\u30ea\u30fc\u30e0\u6570\u306e\u4e0a\u9650",connectionStatus:"\u901a\u4fe1\u72b6\u614b",deleteImageMsg:"\u6620\u50cf\u30b9\u30c8\u30ea\u30fc\u30e0\u6570\u306e\u4e0a\u9650?",deleteZoneMsg:"\u6620\u50cf\u30b9\u30c8\u30ea\u30fc\u30e0\u6570\u306e\u4e0a\u9650?",deleteTextMsg:"\u6620\u50cf\u30b9\u30c8\u30ea\u30fc\u30e0\u6570\u306e\u4e0a\u9650?",deleteYes:"\u901a\u4fe1\u72b6\u614b",deleteNo:"\u901a\u4fe1\u72b6\u614b",copyClipboard:"\u901a\u4fe1\u72b6\u614b",deleteAlert:"\u901a\u4fe1\u72b6\u614b",ctProximity:"\u4f4d\u7f6e/\u30b5\u30a4\u30ba\u3092\u56fa\u5b9a\u3059\u308b",ctUnProximity:"\u4f4d\u7f6e/\u30b5\u30a4\u30ba\u3092\u53ef\u5909\u306b\u3059\u308b",ctScaleRotate:"\u4f4d\u7f6e/\u30b5\u30a4\u30ba\u3092\u53ef\u5909\u306b\u3059\u308b",ctUnScaleRotate:"\u4f4d\u7f6e/\u30b5\u30a4\u30ba\u3092\u53ef\u5909\u306b\u3059\u308b",ctStopWatchOn:"\u4f4d\u7f6e/\u30b5\u30a4\u30ba\u3092\u53ef\u5909\u306b\u3059\u308b",ctStopWatchOff:"\u4f4d\u7f6e/\u30b5\u30a4\u30ba\u3092\u53ef\u5909\u306b\u3059\u308b",ctKick:"\u4e2d\u592e\u306b\u8868\u793a",settingPreference:"\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30a4\u30f3\u30dd\u30fc\u30c8 (_i)",meetingSpace:"\u30d5\u30a1\u30a4\u30eb\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 (_d)",meetingDesc:"\u30d5\u30a1\u30a4\u30eb\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 (_d)",broadcastMyVideo:"\u58f0\u3092\u5168\u54e1\u306b\u5c4a\u3051\u308b",broadcastMySpeakVideo:"\u58f0\u3092\u5168\u54e1\u306b\u5c4a\u3051\u308b",stereoswitch:"\u58f0\u3092\u5168\u54e1\u306b\u5c4a\u3051\u308b",ctTitle:"\u4f4d\u7f6e/\u30b5\u30a4\u30ba\u3092\u56fa\u5b9a\u3059\u308b",ctUnTitle:"\u4f4d\u7f6e/\u30b5\u30a4\u30ba\u3092\u53ef\u5909\u306b\u3059\u308b",speakerSetting:"\u4f4d\u7f6e/\u30b5\u30a4\u30ba\u3092\u53ef\u5909\u306b\u3059\u308b",permissionTitle:"\u4f4d\u7f6e/\u30b5\u30a4\u30ba\u3092\u53ef\u5909\u306b\u3059\u308b",welcomePermission:"\u4f4d\u7f6e/\u30b5\u30a4\u30ba\u3092\u53ef\u5909\u306b\u3059\u308b",reqPermission:"\u58f0\u3092\u5168\u54e1\u306b\u5c4a\u3051\u308b"}}},ie=Object.keys(ne),oe={resources:ne,supportedLngs:ie,fallbackLng:ie[0],interpolation:{escapeValue:!1}};var ae=60,re={name:"",email:"",avatarSrc:"",color:[],textColor:[],randomAvatar:[],faceTrack:!1,notifyCall:!0,notifyTouch:!1,notifyNear:!1,notifyYarn:!1},se={name:"",avatarSrc:"",color:[],textColor:[],randomAvatar:[]},ce={located:!0,onStage:!1,awayFromKeyboard:!1},le={height:0,center:[0,0]};var ue,de,pe,ve,he,be,fe=n(5),me=n(43),ge=n(25),Ae=n(11),je=n(12),Oe=n(279),ye=n.n(Oe),xe=(ue=Object(V.a)((function e(){Object(X.a)(this,e),Object(J.a)(this,"audioInputDevice",de,this),Object(J.a)(this,"videoInputDevice",pe,this),Object(J.a)(this,"audioOutputDevice",ve,this),Object(fe.g)(this)})),de=Object(K.a)(ue.prototype,"audioInputDevice",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),pe=Object(K.a)(ue.prototype,"videoInputDevice",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),ve=Object(K.a)(ue.prototype,"audioOutputDevice",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),ue),Ce=5e3,we=[0,0],Se=n(38),ke=n.n(Se);var Ie,Te,Ee,Me,Pe,Re,De,Be,Ne,ze,Fe,Qe,Le,Ue,Ge,Ye,He,We,Je,Ke,Ve,Xe,Ze,qe,_e,$e,et,tt,nt,it,ot,at,rt,st,ct,lt,ut,dt,pt,vt,ht,bt,ft,mt,gt,At,jt,Ot,yt,xt,Ct,wt,St,kt,It,Tt,Et,Mt,Pt,Rt,Dt,Bt,Nt,zt,Ft,Qt,Lt,Ut,Gt,Yt,Ht,Wt,Jt,Kt,Vt,Xt,Zt,qt,_t,$t,en,tn,nn,on,an,rn,sn,cn={pose:{position:[we[0],we[1]],orientation:0}},ln=(he=function(){function e(){Object(X.a)(this,e),Object(J.a)(this,"pose",be,this),this.pose=ke.a.cloneDeep(cn.pose),Object(fe.g)(this)}return Object(V.a)(e,null,[{key:"fromPlain",value:function(t){(new e).pose=function(e){return Object(fe.h)(e,void 0,{deep:!1})}(ke.a.cloneDeep(t.pose))}}]),e}(),be=Object(K.a)(he.prototype,"pose",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he),un=(Ie=fe.h.ref,Te=fe.h.ref,Ee=function(){function e(){Object(X.a)(this,e),Object(J.a)(this,"audio",Me,this),Object(J.a)(this,"avatar",Pe,this),Object(J.a)(this,"avatarOk",Re,this),Object(fe.g)(this)}return Object(V.a)(e,[{key:"audioStream",get:function(){if(this.audio){var e=new MediaStream;return this.audio&&e.addTrack(this.audio),e}}},{key:"avatarStream",get:function(){if(this.avatar){var e=new MediaStream;return this.avatar&&e.addTrack(this.avatar),e}}},{key:"onMuteChanged",value:function(e,t){e===this.avatar&&(this.avatarOk=!t)}}]),e}(),Me=Object(K.a)(Ee.prototype,"audio",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Pe=Object(K.a)(Ee.prototype,"avatar",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Re=Object(K.a)(Ee.prototype,"avatarOk",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!this.avatar||!this.avatar.muted}}),Object(K.a)(Ee.prototype,"audioStream",[fe.d],Object.getOwnPropertyDescriptor(Ee.prototype,"audioStream"),Ee.prototype),Object(K.a)(Ee.prototype,"avatarStream",[fe.d],Object.getOwnPropertyDescriptor(Ee.prototype,"avatarStream"),Ee.prototype),Object(K.a)(Ee.prototype,"onMuteChanged",[fe.b],Object.getOwnPropertyDescriptor(Ee.prototype,"onMuteChanged"),Ee.prototype),Ee),dn=(De=Object(V.a)((function e(){Object(X.a)(this,e),Object(J.a)(this,"micMuted",Be,this),Object(J.a)(this,"speakerMuted",Ne,this),Object(J.a)(this,"headphone",ze,this),Object(J.a)(this,"emoticon",Fe,this),Object(J.a)(this,"pingIcon",Qe,this),Object(J.a)(this,"pingX",Le,this),Object(J.a)(this,"pingY",Ue,this),Object(J.a)(this,"remoteID",Ge,this),Object(J.a)(this,"remoteX",Ye,this),Object(J.a)(this,"remoteY",He,this),Object(fe.g)(this)})),Be=Object(K.a)(De.prototype,"micMuted",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ne=Object(K.a)(De.prototype,"speakerMuted",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ze=Object(K.a)(De.prototype,"headphone",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fe=Object(K.a)(De.prototype,"emoticon",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qe=Object(K.a)(De.prototype,"pingIcon",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Le=Object(K.a)(De.prototype,"pingX",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ue=Object(K.a)(De.prototype,"pingY",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ge=Object(K.a)(De.prototype,"remoteID",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ye=Object(K.a)(De.prototype,"remoteX",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),He=Object(K.a)(De.prototype,"remoteY",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),De),pn=(We=fe.h.shallow,Je=fe.h.shallow,Ke=fe.h.shallow,Ve=fe.h.shallow,Xe=fe.h.ref,Ze=fe.b.bound,qe=function(e){Object(Ae.a)(n,e);var t=Object(je.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(X.a)(this,n),e=t.call(this),Object(J.a)(e,"id",_e,Object(ge.a)(e)),Object(J.a)(e,"zIndex",$e,Object(ge.a)(e)),Object(J.a)(e,"physics",et,Object(ge.a)(e)),Object(J.a)(e,"viewpoint",tt,Object(ge.a)(e)),Object(J.a)(e,"mouse",nt,Object(ge.a)(e)),Object(J.a)(e,"information",it,Object(ge.a)(e)),Object(J.a)(e,"muteAudio",ot,Object(ge.a)(e)),Object(J.a)(e,"muteSpeaker",at,Object(ge.a)(e)),Object(J.a)(e,"muteVideo",rt,Object(ge.a)(e)),Object(J.a)(e,"audioLevel",st,Object(ge.a)(e)),Object(J.a)(e,"recording",ct,Object(ge.a)(e)),Object(J.a)(e,"quality",lt,Object(ge.a)(e)),Object(J.a)(e,"vrmRigs",ut,Object(ge.a)(e)),e.information=i?re:se,Object(fe.g)(Object(ge.a)(e)),e}return Object(V.a)(n,[{key:"setAudioLevel",value:function(e){this.audioLevel=e}},{key:"showAudio",get:function(){return!this.muteAudio}},{key:"showVideo",get:function(){return!this.muteVideo}},{key:"getColor",value:function(){var e=this.information.color;e.length||(e=this.information.name.length?Q(this.information.name):[208,208,224]);var t=this.information.textColor;t.length||(t=L(e));var n=G(e);return[Y(e),Y(t),Y(n)]}},{key:"getColorRGB",value:function(){return this.information.color.length?this.information.color:Q(this.information.name)}},{key:"getTextColorRGB",value:function(){var e=this.information.textColor;if(!e.length){var t=this.information.color;t.length||(t=Q(this.information.name)),e=L(t)}return e}},{key:"setPhysics",value:function(e){Object.assign(this.physics,e)}}]),n}(ln),_e=Object(K.a)(qe.prototype,"id",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$e=Object(K.a)(qe.prototype,"zIndex",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),et=Object(K.a)(qe.prototype,"physics",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ce}}),tt=Object(K.a)(qe.prototype,"viewpoint",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le}}),nt=Object(K.a)(qe.prototype,"mouse",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{position:[0,0],show:!1}}}),it=Object(K.a)(qe.prototype,"information",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=Object(K.a)(qe.prototype,"muteAudio",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),at=Object(K.a)(qe.prototype,"muteSpeaker",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rt=Object(K.a)(qe.prototype,"muteVideo",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),st=Object(K.a)(qe.prototype,"audioLevel",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(K.a)(qe.prototype,"setAudioLevel",[fe.b],Object.getOwnPropertyDescriptor(qe.prototype,"setAudioLevel"),qe.prototype),ct=Object(K.a)(qe.prototype,"recording",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(K.a)(qe.prototype,"showAudio",[fe.d],Object.getOwnPropertyDescriptor(qe.prototype,"showAudio"),qe.prototype),Object(K.a)(qe.prototype,"showVideo",[fe.d],Object.getOwnPropertyDescriptor(qe.prototype,"showVideo"),qe.prototype),lt=Object(K.a)(qe.prototype,"quality",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),ut=Object(K.a)(qe.prototype,"vrmRigs",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Object(K.a)(qe.prototype,"setPhysics",[Ze],Object.getOwnPropertyDescriptor(qe.prototype,"setPhysics"),qe.prototype),qe),vn=["email"],hn=(dt=fe.h.shallow,pt=fe.h.ref,vt=fe.h.ref,ht=fe.b.bound,bt=fe.b.bound,ft=fe.b.bound,mt=function(e){Object(Ae.a)(n,e);var t=Object(je.a)(n);function n(){var e;return Object(X.a)(this,n),(e=t.call(this,!0)).devicePreference=new xe,Object(J.a)(e,"tracks",gt,Object(ge.a)(e)),Object(J.a)(e,"useStereoAudio",At,Object(ge.a)(e)),Object(J.a)(e,"emoticon",jt,Object(ge.a)(e)),Object(J.a)(e,"pingIcon",Ot,Object(ge.a)(e)),Object(J.a)(e,"pingX",yt,Object(ge.a)(e)),Object(J.a)(e,"pingY",xt,Object(ge.a)(e)),Object(J.a)(e,"remoteID",Ct,Object(ge.a)(e)),Object(J.a)(e,"remoteX",wt,Object(ge.a)(e)),Object(J.a)(e,"remoteY",St,Object(ge.a)(e)),Object(J.a)(e,"headphoneConfirmed",kt,Object(ge.a)(e)),Object(J.a)(e,"thirdPersonView",It,Object(ge.a)(e)),Object(J.a)(e,"soundLocalizationBase",Tt,Object(ge.a)(e)),Object(J.a)(e,"uploaderPreference",Et,Object(ge.a)(e)),Object(J.a)(e,"zone",Mt,Object(ge.a)(e)),Object(J.a)(e,"remoteVideoLimit",Pt,Object(ge.a)(e)),Object(J.a)(e,"remoteAudioLimit",Rt,Object(ge.a)(e)),Object(J.a)(e,"audioInputDevice",Dt,Object(ge.a)(e)),Object(J.a)(e,"videoInputDevice",Bt,Object(ge.a)(e)),Object(J.a)(e,"audioOutputDevice",Nt,Object(ge.a)(e)),e.information=e.information,Object(J.a)(e,"informationToSend",zt,Object(ge.a)(e)),e.informationToSend=void 0,Object(fe.g)(Object(ge.a)(e)),e.loadInformationFromStorage(),o.name&&(e.information.name=o.name),e.useStereoAudio=null!==o.headphone,e.muteAudio=null!==o.muteMic,e.muteVideo=null===o.cameraOn,e.emoticon="",e.pingIcon=!1,e.pingX=0,e.pingY=0,e.remoteID="",e.remoteX=0,e.remoteY=0,e.loadMediaSettingsFromStorage(),e.loadPhysicsFromStorage(),Object(fe.c)((function(){var t="https://www.gravatar.com/avatar/",n="https://binaural.me/public_packages/uploader/vrm",i=e.information.avatarSrc;if((!i||i.includes(t,0)||i.includes(n,0))&&e.information.email){var o=e.information.email.trim();if(o.includes(n)&&".vrm"===o.slice(-4))i=o;else{var a=ye()(e.information.email.trim().toLowerCase());i="".concat(t).concat(a,"?d=404")}}i&&(".vrm"===i.slice(-4)?e.information.avatarSrc=i:function(e){var t=new Image;return t.src=e,new Promise((function(n,i){t.onload=function(){n(e)},t.onerror=function(){i("")}}))}(i).then((function(t){e.information.avatarSrc=t})).catch((function(){e.information.avatarSrc=""})))})),e}return Object(V.a)(n,[{key:"setThirdPersonView",value:function(e){this.thirdPersonView=e}},{key:"trackStates",get:function(){return{micMuted:this.muteAudio,speakerMuted:this.muteSpeaker,headphone:this.useStereoAudio,emoticon:this.emoticon,pingIcon:this.pingIcon,pingX:this.pingX,pingY:this.pingY,remoteID:this.remoteID,remoteX:this.remoteX,remoteY:this.remoteY}}},{key:"sendInformation",value:function(){var e=this.information,t=(e.email,Object(me.a)(e,vn));this.informationToSend=t}},{key:"saveInformationToStorage",value:function(e){var t=sessionStorage;e&&(t=localStorage),t.setItem("localParticipantInformation",JSON.stringify(this.information))}},{key:"loadInformationFromStorage",value:function(){var e=localStorage;sessionStorage.getItem("localParticipantInformation")&&(e=sessionStorage);var t=e.getItem("localParticipantInformation");t&&Object.assign(this.information,JSON.parse(t))}},{key:"updateViewpointCenter",value:function(e){var t=e.toWindow(this.pose.position);this.viewpoint.center=j(y(.5,e.screenSize),t)}},{key:"saveMediaSettingsToStorage",value:function(){var e={stream:{muteVideo:this.muteVideo,muteAudio:this.muteAudio,muteSpeaker:this.muteSpeaker},device:this.devicePreference,headphone:this.useStereoAudio,soundLocalizationBase:this.soundLocalizationBase,uploadPreference:this.uploaderPreference};localStorage.setItem("localParticipantStreamControl",JSON.stringify(e)),sessionStorage.setItem("localParticipantStreamControl",JSON.stringify(e))}},{key:"loadMediaSettingsFromStorage",value:function(e){var t=localStorage.getItem("localParticipantStreamControl"),n=sessionStorage.getItem("localParticipantStreamControl"),i=void 0,o=void 0;t&&(i=JSON.parse(t)),n&&(o=JSON.parse(n));var a=i;a&&(a.stream.muteVideo=!0,o&&(a.stream.muteVideo=o.stream.muteVideo),e?Object.assign(e,a):(Object.assign(this,a.stream),Object.assign(this.devicePreference,a.device),this.useStereoAudio=a.headphone,this.soundLocalizationBase=a.soundLocalizationBase))}},{key:"savePhysicsToStorage",value:function(e){var t=sessionStorage;e&&(t=localStorage);var n={pose:this.pose,physics:this.physics};t.setItem("localParticipantPhysics",JSON.stringify(n))}},{key:"loadPhysicsFromStorage",value:function(){var e=localStorage;sessionStorage.getItem("localParticipantPhysics")&&(e=sessionStorage);var t=e.getItem("localParticipantPhysics");if(t){var n=JSON.parse(t);Object.assign(this.physics,n.physics),Object.assign(this.pose,n.pose)}}}]),n}(pn),gt=Object(K.a)(mt.prototype,"tracks",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new un}}),At=Object(K.a)(mt.prototype,"useStereoAudio",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jt=Object(K.a)(mt.prototype,"emoticon",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ot=Object(K.a)(mt.prototype,"pingIcon",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yt=Object(K.a)(mt.prototype,"pingX",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xt=Object(K.a)(mt.prototype,"pingY",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ct=Object(K.a)(mt.prototype,"remoteID",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),wt=Object(K.a)(mt.prototype,"remoteX",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),St=Object(K.a)(mt.prototype,"remoteY",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),kt=Object(K.a)(mt.prototype,"headphoneConfirmed",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),It=Object(K.a)(mt.prototype,"thirdPersonView",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return config.thirdPersonView}}),Tt=Object(K.a)(mt.prototype,"soundLocalizationBase",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return config.soundLocalizationBase?config.soundLocalizationBase:"user"}}),Et=Object(K.a)(mt.prototype,"uploaderPreference",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return config.uploaderPreference?config.uploaderPreference:"gyazo"}}),Mt=Object(K.a)(mt.prototype,"zone",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Pt=Object(K.a)(mt.prototype,"remoteVideoLimit",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return config.remoteVideoLimit||-1}}),Rt=Object(K.a)(mt.prototype,"remoteAudioLimit",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return config.remoteAudioLimit||-1}}),Dt=Object(K.a)(mt.prototype,"audioInputDevice",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Bt=Object(K.a)(mt.prototype,"videoInputDevice",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Nt=Object(K.a)(mt.prototype,"audioOutputDevice",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),zt=Object(K.a)(mt.prototype,"informationToSend",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(K.a)(mt.prototype,"setThirdPersonView",[fe.b],Object.getOwnPropertyDescriptor(mt.prototype,"setThirdPersonView"),mt.prototype),Object(K.a)(mt.prototype,"trackStates",[fe.d],Object.getOwnPropertyDescriptor(mt.prototype,"trackStates"),mt.prototype),Object(K.a)(mt.prototype,"sendInformation",[fe.b],Object.getOwnPropertyDescriptor(mt.prototype,"sendInformation"),mt.prototype),Object(K.a)(mt.prototype,"loadInformationFromStorage",[ht],Object.getOwnPropertyDescriptor(mt.prototype,"loadInformationFromStorage"),mt.prototype),Object(K.a)(mt.prototype,"updateViewpointCenter",[fe.b],Object.getOwnPropertyDescriptor(mt.prototype,"updateViewpointCenter"),mt.prototype),Object(K.a)(mt.prototype,"loadMediaSettingsFromStorage",[bt],Object.getOwnPropertyDescriptor(mt.prototype,"loadMediaSettingsFromStorage"),mt.prototype),Object(K.a)(mt.prototype,"loadPhysicsFromStorage",[ft],Object.getOwnPropertyDescriptor(mt.prototype,"loadPhysicsFromStorage"),mt.prototype),mt),bn=(Ft=fe.h.ref,Qt=function(e){Object(Ae.a)(n,e);var t=Object(je.a)(n);function n(e){var i;return Object(X.a)(this,n),(i=t.call(this)).information=i.information,i.informationReceived=!1,Object(J.a)(i,"trackStates",Lt,Object(ge.a)(i)),Object(J.a)(i,"called",Ut,Object(ge.a)(i)),Object(J.a)(i,"inLocalsZone",Gt,Object(ge.a)(i)),Object(J.a)(i,"closedZone",Yt,Object(ge.a)(i)),Object(J.a)(i,"videoBlob",Ht,Object(ge.a)(i)),Object(J.a)(i,"audioBlob",Wt,Object(ge.a)(i)),i.lastDistance=0,Object(fe.g)(Object(ge.a)(i)),i.id=e,i}return Object(V.a)(n,[{key:"call",value:function(){this.called=!0}}]),n}(pn),Lt=Object(K.a)(Qt.prototype,"trackStates",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new dn}}),Ut=Object(K.a)(Qt.prototype,"called",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gt=Object(K.a)(Qt.prototype,"inLocalsZone",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yt=Object(K.a)(Qt.prototype,"closedZone",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Ht=Object(K.a)(Qt.prototype,"videoBlob",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=Object(K.a)(Qt.prototype,"audioBlob",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(K.a)(Qt.prototype,"call",[fe.b],Object.getOwnPropertyDescriptor(Qt.prototype,"call"),Qt.prototype),Qt),fn=(Jt=fe.h.shallow,Kt=fe.h.ref,Vt=function(e){Object(Ae.a)(n,e);var t=Object(je.a)(n);function n(e){var i;return Object(X.a)(this,n),(i=t.call(this)).information=i.information,i.informationReceived=!1,Object(J.a)(i,"tracks",Xt,Object(ge.a)(i)),Object(J.a)(i,"trackStates",Zt,Object(ge.a)(i)),Object(J.a)(i,"called",qt,Object(ge.a)(i)),Object(J.a)(i,"inLocalsZone",_t,Object(ge.a)(i)),Object(J.a)(i,"closedZone",$t,Object(ge.a)(i)),i.lastDistance=0,Object(fe.g)(Object(ge.a)(i)),i.id=e,i}return Object(V.a)(n,[{key:"call",value:function(){this.called=!0}}]),n}(pn),Xt=Object(K.a)(Vt.prototype,"tracks",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new un}}),Zt=Object(K.a)(Vt.prototype,"trackStates",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new dn}}),qt=Object(K.a)(Vt.prototype,"called",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_t=Object(K.a)(Vt.prototype,"inLocalsZone",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$t=Object(K.a)(Vt.prototype,"closedZone",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Object(K.a)(Vt.prototype,"call",[fe.b],Object.getOwnPropertyDescriptor(Vt.prototype,"call"),Vt.prototype),Vt),mn=new(en=fe.h.shallow,tn=fe.h.shallow,nn=function(){function e(){Object(X.a)(this,e),Object(J.a)(this,"remote",on,this),this.local_=fe.h.box(new hn),Object(J.a)(this,"playback",an,this),Object(J.a)(this,"yarnPhones",rn,this),Object(J.a)(this,"yarnPhoneUpdated",sn,this),Object(fe.g)(this)}return Object(V.a)(e,[{key:"count",get:function(){return this.remote.size}},{key:"local",get:function(){return this.local_.get()}},{key:"localId",get:function(){return this.local.id}},{key:"setLocalId",value:function(e){this.local.id=e}},{key:"join",value:function(e){var t=new fn(e);return t.physics.located=!1,this.remote.set(e,t),t}},{key:"getOrCreateRemote",value:function(e){var t=this.remote.get(e);return t||(t=this.join(e)),t}},{key:"getRemote",value:function(e){return this.remote.get(e)}},{key:"leave",value:function(e){this.remote.delete(e)}},{key:"leaveAll",value:function(){this.remote.clear(),this.setLocalId("")}},{key:"find",value:function(e){return e===this.localId?this.local:this.remote.get(e)}},{key:"getOrCreatePlayback",value:function(e){var t=this.playback.get(e);return t||(t=new bn(e),this.playback.set(e,t)),t}},{key:"removePlayback",value:function(e){return this.playback.delete(e)}},{key:"addRemoteTrack",value:function(e,t){var n=mn.getOrCreateRemote(e);"audio"===t.kind?n.tracks.audio=t:n.tracks.avatar=t}},{key:"removeRemoteTrack",value:function(e,t){var n=this.remote.get(e);return!!n&&("audio"===t?n.tracks.audio=void 0:n.tracks.avatar=void 0,!0)}},{key:"isLocal",value:function(e){return e===this.localId}},{key:"audibleArea",value:function(){return[this.local.pose.position[0],this.local.pose.position[1],420]}}]),e}(),on=Object(K.a)(nn.prototype,"remote",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),an=Object(K.a)(nn.prototype,"playback",[tn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),rn=Object(K.a)(nn.prototype,"yarnPhones",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Set}}),sn=Object(K.a)(nn.prototype,"yarnPhoneUpdated",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(K.a)(nn.prototype,"count",[fe.d],Object.getOwnPropertyDescriptor(nn.prototype,"count"),nn.prototype),Object(K.a)(nn.prototype,"local",[fe.d],Object.getOwnPropertyDescriptor(nn.prototype,"local"),nn.prototype),Object(K.a)(nn.prototype,"localId",[fe.d],Object.getOwnPropertyDescriptor(nn.prototype,"localId"),nn.prototype),Object(K.a)(nn.prototype,"setLocalId",[fe.b],Object.getOwnPropertyDescriptor(nn.prototype,"setLocalId"),nn.prototype),Object(K.a)(nn.prototype,"join",[fe.b],Object.getOwnPropertyDescriptor(nn.prototype,"join"),nn.prototype),Object(K.a)(nn.prototype,"getOrCreateRemote",[fe.b],Object.getOwnPropertyDescriptor(nn.prototype,"getOrCreateRemote"),nn.prototype),Object(K.a)(nn.prototype,"leave",[fe.b],Object.getOwnPropertyDescriptor(nn.prototype,"leave"),nn.prototype),Object(K.a)(nn.prototype,"leaveAll",[fe.b],Object.getOwnPropertyDescriptor(nn.prototype,"leaveAll"),nn.prototype),nn);d.participants=mn;var gn,An,jn,On=mn,yn=Object(V.a)((function e(t,n,i,o,a,r,s){Object(X.a)(this,e),this.type="text",this.text=void 0,this.pid=void 0,this.name=void 0,this.avatarUrl=void 0,this.timestamp=void 0,this.colors=void 0,this.text=t,this.pid=n,this.name=i,this.avatarUrl=o,this.colors=a,this.timestamp=r,this.type=s})),xn=new(gn=function(){function e(){Object(X.a)(this,e),Object(J.a)(this,"messages",An,this),Object(J.a)(this,"sendTo",jn,this),Object(fe.g)(this)}return Object(V.a)(e,[{key:"limitMessages",value:function(){xn.messages.length>1e3&&xn.messages.splice(0,xn.messages.length-1e3)}},{key:"addMessage",value:function(e){this.messages.push(e),this.limitMessages()}},{key:"participantNameChanged",value:function(e,t){var n=On.find(e);if(n){var i=new yn("",n.id,n.information.name,n.information.avatarSrc,n.getColor(),Date.now(),"log");i.text=ee("cmNameChanged",{old:t,new:i.name}),this.addMessage(i)}}},{key:"participantJoined",value:function(e){var t=On.find(e);if(t){var n=new yn("",t.id,t.information.name,t.information.avatarSrc,t.getColor(),Date.now(),"log");n.text=ee("cmJoined",{name:n.name}),this.addMessage(n)}}},{key:"participantLeft",value:function(e){var t=On.find(e);if(t){var n=new yn("",t.id,t.information.name,t.information.avatarSrc,t.getColor(),Date.now(),"log");n.text=ee("cmLeft",{name:n.name}),this.addMessage(n)}}},{key:"calledBy",value:function(e){var t=new yn("",e.id,e.information.name,e.information.avatarSrc,e.getColor(),Date.now(),"called");t.text=ee("cmCallBy",{name:t.name}),this.addMessage(t)}},{key:"callTo",value:function(e){var t=new yn("",e.id,e.information.name,e.information.avatarSrc,e.getColor(),Date.now(),"callTo");t.text=ee("cmCallTo",{name:t.name}),this.addMessage(t)}}]),e}(),An=Object(K.a)(gn.prototype,"messages",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),jn=Object(K.a)(gn.prototype,"sendTo",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(K.a)(gn.prototype,"limitMessages",[fe.b],Object.getOwnPropertyDescriptor(gn.prototype,"limitMessages"),gn.prototype),Object(K.a)(gn.prototype,"addMessage",[fe.b],Object.getOwnPropertyDescriptor(gn.prototype,"addMessage"),gn.prototype),gn),Cn=xn,wn=n(10),Sn=Object(wn.a)(Object(wn.a)({},{PARTICIPANT_AFK:"p_afk",PARTICIPANT_TRACKSTATES:"p_trackSt",PARTICIPANT_VIEWPOINT:"p_viewpoint"}),{},{PARTICIPANT_INFO:"p_info",PARTICIPANT_VRMRIG:"p_vrm"}),kn={PARTICIPANT_TRACKLIMITS:"m_track_limits",YARN_PHONE:"YARN_PHONE",CHAT_MESSAGE:"m_chat",CALL_REMOTE:"call_remote",MUTE_VIDEO:"m_mute_video",MUTE_AUDIO:"m_mute_audio",AUDIO_LEVEL:"m_audio_level",RELOAD_BROWSER:"m_reload",KICK:"m_kick"},In=(new Set(Object.values(kn)),{CONTENT_UPDATE_REQUEST:"c_update",CONTENT_INFO_UPDATE:"c_info_update"}),Tn=new Set(Object.values(In)),En={CONTENT_REMOVE_REQUEST:"c_remove",PARTICIPANT_OUT:"p_out",MOUSE_OUT:"m_out",CONTENT_OUT:"c_out"},Mn=new Set(Object.values(En)),Pn={CONTENT_UPDATE_REQUEST_BY_ID:"c_update_by_id",REQUEST_ALL:"req_all",REQUEST_RANGE:"req_range",REQUEST_PARTICIPANT_STATES:"req_p_state"},Rn=Object(wn.a)(Object(wn.a)(Object(wn.a)(Object(wn.a)(Object(wn.a)(Object(wn.a)(Object(wn.a)({},In),En),kn),Sn),{PARTICIPANT_POSE:"mp",PARTICIPANT_MOUSE:"mm",PARTICIPANT_ON_STAGE:"p_onStage"}),Pn),{},{PARTICIPANT_LEFT:"m_participant_left",ROOM_PROP:"room_prop",REQUEST_TO:"req_to",FRAGMENT_HEAD:"frag_head",FRAGMENT_CONTENT:"frag_cont"});function Dn(e){var t,n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;delete i.playback,delete i.zIndex,delete i.zones}}catch(o){n.e(o)}finally{n.f()}return e}function Bn(e){var t,n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.overlapZones=[],i.surroundingZones=[]}}catch(o){n.e(o)}finally{n.f()}return e}var Nn=100,zn=31536e5;function Fn(e){return"text"===e.type||"pdf"===e.type}function Qn(e){return e&&("text"===e.type||"iframe"===e.type||"pdf"===e.type||"whiteboard"===e.type||"gdrive"===e.type||"youtube"===e.type)}function Ln(e){return e&&e.zorder<=zn}var Un=1048576;function Gn(e,t){return e.time-t.time}var Yn=n(117),Hn=config.corsProxyUrl||"https://binaural.me/cors_proxy/";function Wn(e){var t=e;return["http://","https://"].forEach((function(n){e.substring(0,n.length)===n&&(t=e.substring(n.length))})),t="".concat(Hn).concat(t)}var Jn=n(69),Kn=n(22),Vn=n.n(Kn),Xn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"858773398697-vki2lito392c5dlss9s31ap077nn0qbd.apps.googleusercontent.com",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"binarual-meet",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"AIzaSyAADCXxUujmh0VqXIzJofwl03MA5O8v8EQ",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:["https://www.googleapis.com/auth/drive.file"];Object(X.a)(this,e),this.clientId=void 0,this.clientSecret=void 0,this.appId=void 0,this.apiToken=void 0,this.scopes=void 0,this.loadState=0,this.clientId=t,this.clientSecret=n,this.appId=i,this.apiToken=o,this.scopes=a,gapi.load("auth",{callback:this.onAuthApiLoad.bind(this)})}return Object(V.a)(e,[{key:"onAuthApiLoad",value:function(){this.loadState++,gapi.client.load("drive","v3",this.onDriveLoad.bind(this))}},{key:"onDriveLoad",value:function(){this.loadState++}},{key:"login",value:function(){var e=Object(Jn.a)(Vn.a.mark((function e(){var t,n=this;return Vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){console.log(gapi.auth),gapi.auth.authorize({client_id:n.clientId,scope:n.scopes,immediate:!0},(function(i){return i.error?gapi.auth.authorize({client_id:n.clientId,scope:n.scopes,immediate:!1},(function(n){return n.error?t(n):e(n)})):e(i)}))}));case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"uploadFileToGoogleDrive",value:function(){var e=Object(Jn.a)(Vn.a.mark((function e(t){var n,i,o,a,r,s,c,l;return Vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.login();case 2:return e.next=4,gapi.client.drive.files.list({q:"name='Earshot Chat Files' and mimeType='application/vnd.google-apps.folder' and not trashed=true"});case 4:if(n=e.sent,i=n.result.files,o="",null!==i&&void 0!==i&&i.length){e.next=15;break}return a={name:"Earshot Chat Files",mimeType:"application/vnd.google-apps.folder"},e.next=11,gapi.client.drive.files.create({resource:a});case 11:r=e.sent,o=JSON.parse(r.body).id,e.next=16;break;case 15:o=i[0].id||"";case 16:return s={name:t.name,mimeType:t.type,parents:[o]},(c=new FormData).append("metadata",new Blob([JSON.stringify(s)],{type:"application/json"})),c.append("file",t),e.next=22,fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:new Headers({Authorization:"Bearer "+gapi.auth.getToken().access_token}),body:c}).then((function(e){return e.json()}));case 22:return l=e.sent,e.next=25,gapi.client.drive.permissions.create({fileId:l.id,resource:{role:"reader",type:"anyone"}});case 25:return e.abrupt("return","https://drive.google.com/uc?export=view&id=".concat(l.id));case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Zn=new Xn;function qn(e){return new Promise((function(t,n){var i=new FormData;i.append("access_token","e9889a51fca19f2712ec046016b7ec0808953103e32cd327b91f11bfddaa8533"),i.append("imagedata",e),fetch("https://upload.gyazo.com/api/upload",{method:"POST",body:i}).then((function(e){return e.json()})).then((function(e){t(e.url)})).catch((function(e){"TypeError: Failed to fetch"==="".concat(e)?n("type"):(console.error(e),n(""))}))}))}var _n,$n=Object.assign({},cn,{name:"",ownerName:"",ownerURL:"",color:[],textColor:[],type:"",url:"",size:[0,0],originalSize:[0,0],id:"",zorder:0,pinned:!1,overlapZones:[],surroundingZones:[],shareType:"",showTitle:!1,contentDesc:"",showStopWatch:!1,stopWatchToggle:!1,stopWatchReset:!1,scaleRotateToggle:!1,baseImage:"",baseIcon:"",baseColor:"",mediaURL:""}),ei=Object(V.a)((function e(){Object(X.a)(this,e),this.name=void 0,this.ownerName=void 0,this.ownerURL=void 0,this.color=void 0,this.textColor=void 0,this.type=void 0,this.url=void 0,this.id=void 0,this.zorder=void 0,this.pinned=void 0,this.pose=void 0,this.size=void 0,this.overlapZones=void 0,this.surroundingZones=void 0,this.originalSize=void 0,this.noFrame=void 0,this.opacity=void 0,this.shareType=void 0,this.showTitle=void 0,this.contentDesc=void 0,this.showStopWatch=void 0,this.stopWatchToggle=void 0,this.stopWatchReset=void 0,this.scaleRotateToggle=void 0,this.baseImage=void 0,this.baseIcon=void 0,this.baseColor=void 0,this.mediaURL=void 0,Object.assign(this,ke.a.cloneDeep($n))}));function ti(){var e=new ei;return e.ownerName=On.local.information.name,e.color=On.local.information.color,e.textColor=On.local.information.textColor,e.ownerURL=On.local.information.avatarSrc,e.zorder=Date.now(),e}function ni(e,t,n){e.type="pdf",e.url=t,e.pose.position[0]=n.mouseOnMap[0],e.pose.position[1]=n.mouseOnMap[1],e.size[0]=500,e.size[1]=1.41421356*e.size[0]}function ii(e,t,n,i,o){return new Promise((function(r,s){var c=ti(),l=new URL(e);if("youtu.be"===l.hostname||"youtube.com"===l.hostname||"www.youtube.com"===l.hostname){var u=l.search.slice(1).split("&"),d=new Map(u.map((function(e){return e.split("=")})));"youtu.be"===l.hostname&&d.set("v",l.pathname.slice(1)),c.url="";var p,v=Object(a.a)(d);try{for(v.s();!(p=v.n()).done;){var h=p.value;""===c.url?c.url="".concat(h[0],"=").concat(h[1]):c.url="".concat(c.url,"&").concat(h[0],"=").concat(h[1])}}catch(m){v.e(m)}finally{v.f()}c.type="youtube","contextmenu"===o?(c.pose.position[0]=Number(n),c.pose.position[1]=Number(i)):(c.pose.position[0]=t.mouseOnMap[0],c.pose.position[1]=t.mouseOnMap[1]),c.size[0]=640,c.size[1]=380}else if("drive.google.com"===l.hostname||"docs.google.com"===l.hostname){c.type="gdrive";var b=l.pathname.slice(l.pathname.indexOf("/d/")+3),f=b.slice(0,b.indexOf("/"));c.url="id=".concat(f),c.pose.position[0]=t.mouseOnMap[0],c.pose.position[1]=t.mouseOnMap[1],c.size[0]=900,c.size[1]=700}else"wbo.ophir.dev"===l.hostname?(c.type="whiteboard",c.url=e,c.pose.position[0]=t.mouseOnMap[0],c.pose.position[1]=t.mouseOnMap[1],c.size[0]=700,c.size[1]=740):".pdf"===l.pathname.substring(l.pathname.length-4)||".PDF"===l.pathname.substring(l.pathname.length-4)?ni(c,e,t):function(e){return new Promise((function(t,n){var i=new XMLHttpRequest;i.timeout=5e3,i.open("GET",e),i.onreadystatechange=function(){if(this.readyState===this.LOADING){var e=this.getResponseHeader("Content-Type");this.abort(),t(e)}},i.send()}))}(Wn(e)).then((function(n){"application/pdf"===n&&(ni(c,e,t),r(c))})).finally((function(){c.type||(c.type="iframe",c.url=e,c.pose.position[0]=t.mouseOnMap[0],c.pose.position[1]=t.mouseOnMap[1],c.size[0]=600,c.size[1]=800,r(c))}));c.type&&(r(c),Go("".concat(c.type," created url = ").concat(c.url)))}))}function oi(e,t,n,i,o){var a=ti();a.type="text";var r={messages:[{message:e,pid:On.localId,name:On.local.information.name,color:On.local.information.color,textColor:On.local.information.textColor,time:Date.now()}],scroll:[0,0]};a.url=JSON.stringify(r),"contextmenu"===o?(a.pose.position[0]=Number(n),a.pose.position[1]=Number(i)):(a.pose.position[0]=t.mouseOnMap[0],a.pose.position[1]=t.mouseOnMap[1]);var s=Math.ceil(Math.sqrt(e.length));return a.size[0]=Math.max(20*s,200),a.size[1]=Math.max(25*s,s?25:75),a}function ai(e,t,n,i,o,a,r,s,c){return new Promise((function(l,u){i&&"gyazo"!==i?Zn.uploadFileToGoogleDrive(e).then((function(e){ri(e,t,n,o,a,r,s,c).then(l).catch(u)})):qn(e).then((function(e){ri(e,t,n,o,a,r,s,c).then(l)})).catch((function(i){"type"===i?Zn.uploadFileToGoogleDrive(e).then((function(e){ri(e,t,n,o,a,r,s,c).then(l)})).catch(u):u(i)}))}))}function ri(e,t,n,i,o,a,r,s){var c=new Promise((function(c,l){(function(e){return new Promise((function(t,n){var i=new Image;i.src=e,i.onload=function(){var e=[i.width,i.height];t(e)},i.onerror=function(){n([0,0])}}))})(e).then((function(l){var u=ti();u.type="img","image"===i?u.shareType="img":"zoneimage"===i?u.shareType="zoneimg":"roomImage"===i&&(u.shareType="roomimg"),u.contentDesc=String(null===s||void 0===s?void 0:s.toString()),u.noFrame=!0,u.showTitle=!0,u.scaleRotateToggle=!0,u.url=e,u.size=[l[0],l[1]],u.originalSize=[l[0],l[1]];for(var d=0;d<u.pose.position.length;d+=1)n?"contextmenu"===r?(u.pose.position[0]=Number(o),u.pose.position[1]=Number(a)):u.pose.position[d]=t.mouseOnMap[d]+n[d]:u.pose.position[d]=t.mouseOnMap[d]-.5*u.size[d];c(u)}))}));return c}function si(e){}function ci(e,t,n){return console.error("createContentOfPdf called."),new Promise((function(e,t){if(gapi){gapi.client.init({apiKey:"AIzaSyCE4B2cKycH0fVmBznwfr1ynnNf2qNEU9M",clientId:"188672642721-3f8u1671ecugbl2ukhjmb18nv283upm0.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/drive.appdata",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"]}).then((function(){console.log("Before getAuthInstance"),_n=gapi.auth2.getAuthInstance(),console.log("Before listen updateSigninStatus"),_n.isSignedIn.listen(si)}),(function(e){console.log("gapi.client.init failed:",e)}))}}))}function li(e,t,n,i,o,a){var r=ti();r.type=n,r.url="","contextmenu"===a?(r.pose.position[0]=Number(i),r.pose.position[1]=Number(o)):(r.pose.position[0]=t.mouseOnMap[0],r.pose.position[1]=t.mouseOnMap[1]);var s=e.find((function(e){return"video"===e.kind})),c=null===s||void 0===s?void 0:s.getSettings();return r.originalSize=c?[c.width||0,c.height||0]:[0,0],r.size=[(r.originalSize[0]||640)/2,(r.originalSize[1]||360)/2],r}function ui(e,t,n,i,o){return new Promise((function(a,r){var s=void 0;if(0===e.indexOf("http://")||0===e.indexOf("https://")){var c=new URL(e),l=e.slice(-4);u(c)?((s=oi(e,t,n,i,o)).name="! recursive reference",a(s)):".jpg"===l||".JPG"===l||"jpeg"===l||"JPEG"===l||".png"===l||".PNG"===l||".gif"===l||".GIF"===l||".svg"===l||".SVG"===l?ri(e,t).then((function(e){e.name=c.pathname,a(e)})).catch(r):ii(e,t,n,i,o).then((function(r){"iframe"===r.type&&((r=oi(e,t,n,i,o)).name="".concat(c.host).concat(c.pathname).concat(c.search)),"youtube"===r.type?r.name="".concat(c.search.substring(1)):r.name="".concat(c.host).concat(c.pathname).concat(c.search),a(r)})).catch(r)}else(s=oi(e,t,n,i,o)).name=e.substring(0,20),a(s)}))}function di(e){var t=document.createElement("textarea");t.value=e,t.selectionStart=0,t.selectionEnd=t.value.length;var n=t.style;n.position="fixed",n.left="-100%",document.body.appendChild(t),t.focus();var i=document.execCommand("copy");return t.blur(),document.body.removeChild(t),i}function pi(e,t){var n=t.get("id"),i=t.get("mimeType");i=i||"";var o="application/vnd.google-apps.",a="https://drive.google.com/file/d/".concat(n,"/preview");if(e||function(e){return!!e&&("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e||"application/vnd.google-apps.spreadsheet"===e||"application/vnd.google-apps.document"===e||"application/vnd.google-apps.presentation"===e)}(i))if(i.substr(0,o.length)===o){var r=i.substr(o.length);"failed"!==r&&("spreadsheet"===r&&(r="spreadsheets"),a="https://docs.google.com/".concat(r,"/d/").concat(n,"/edit"))}else if("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===i){a="https://docs.google.com/".concat("spreadsheets","/d/").concat(n,"/edit")}return a}function vi(e){var t=e.indexOf("?"),n=t>=0?e.substr(t):e;return new Map(n.split("&").map((function(e){return e.split("=")})))}function hi(e){if(Ln(e)){var t=ea.sorted.findIndex((function(e){return e.zorder>zn}));if(t<0&&(t=ea.sorted.length),(t-=1)>=0){var n=ea.sorted[t].zorder+1;e.zorder=n<=zn?n:zn}}else e.zorder=Math.floor(Date.now()/Nn)}function bi(e){if(Ln(e)){var t=ea.sorted[0];t!==e&&(e.zorder=t.zorder-1)}else{var n=ea.sorted.find((function(e){return e.zorder>zn}));n?e.zorder=n.zorder-1:hi(e)}}var fi,mi,gi,Ai,ji=n(280),Oi=["type","peer","transport","iceServers"],yi=function(e){},xi=function(){function e(){Object(X.a)(this,e),this.peer_="",this.connected=!1,this.mainServer=void 0,this.device=void 0,this.handlers=new Map,this.promises=new Map,this.messageNumber=1,this.emitter=new Yn.EventEmitter,this.handlers.set("connect",this.onConnect),this.handlers.set("createTransport",this.onCreateTransport),this.handlers.set("rtpCapabilities",this.onRtpCapabilities),this.handlers.set("connectTransport",this.onConnectTransport),this.handlers.set("produceTransport",this.onProduceTransport),this.handlers.set("closeProducer",this.onCloseProducer),this.handlers.set("consumeTransport",this.onConsumeTransport),this.handlers.set("resumeConsumer",this.onResumeConsumer),this.handlers.set("remoteUpdate",this.onRemoteUpdate),this.handlers.set("remoteLeft",this.onRemoteLeft);try{this.device=new ji.Device}catch(t){"UnsupportedError"===t.name&&console.warn("browser not supported")}}return Object(V.a)(e,[{key:"peer",get:function(){return this.peer_}},{key:"isConnected",value:function(){var e;return this.connected&&(null===(e=this.mainServer)||void 0===e?void 0:e.readyState)===WebSocket.OPEN}},{key:"connect",value:function(e,t){var n=this;return yi("rtcConn connect(".concat(e,", ").concat(t,")")),new Promise((function(i,o){n.mainServer=new WebSocket(config.mainServer);var a=function(){var a={type:"connect",peer:t};n.sendWithPromise(a,i,o,e)},r=function(e){var t=JSON.parse(e.data),i=n.handlers.get(t.type);i?i.bind(n)(t):console.error("unhandled message ".concat(t.type," received"),t)},s=function(){yi("onClose() for mainServer"),n.connected=!1,n.emit("disconnect"),setTimeout((function(){n.mainServer=new WebSocket(config.mainServer),l()}),5e3)},c=function(){var e;console.error("Error in WebSocket for ".concat(config.mainServer)),null===(e=n.mainServer)||void 0===e||e.close(3e3,"onError"),s()},l=function(){var e,t,i,o;null===(e=n.mainServer)||void 0===e||e.addEventListener("error",c),null===(t=n.mainServer)||void 0===t||t.addEventListener("message",r),null===(i=n.mainServer)||void 0===i||i.addEventListener("open",a),null===(o=n.mainServer)||void 0===o||o.addEventListener("close",s)};l()}))}},{key:"disconnect",value:function(){var e;null===(e=this.mainServer)||void 0===e||e.close(),this.peer_=""}},{key:"setMessageSerialNumber",value:function(e){this.messageNumber++,e.sn=this.messageNumber}},{key:"setMessagePromise",value:function(e,t,n,i){this.setMessageSerialNumber(e),this.promises.set(e.sn,{resolve:t,reject:n,arg:i})}},{key:"getMessageArg",value:function(e){var t;if(e.sn)return null===(t=this.promises.get(e.sn))||void 0===t?void 0:t.arg}},{key:"sendWithPromise",value:function(e,t,n,i){this.mainServer?(this.setMessagePromise(e,t,n,i),this.mainServer.send(JSON.stringify(e))):n&&n("no mainServer")}},{key:"resolveMessage",value:function(e,t){var n,i=e.sn;i&&(null===(n=this.promises.get(i))||void 0===n||n.resolve(t),this.promises.delete(i))}},{key:"rejectMessage",value:function(e,t){var n=e.sn;if(n){var i,o=null===(i=this.promises.get(n))||void 0===i?void 0:i.reject;o&&o(t),this.promises.delete(n)}}},{key:"loadDevice",value:function(e){var t=this;return new Promise((function(n,i){var o={type:"rtpCapabilities",peer:e};t.sendWithPromise(o,n,i)}))}},{key:"onRtpCapabilities",value:function(e){var t,n=this,i=e;null===(t=this.device)||void 0===t||t.load({routerRtpCapabilities:i.rtpCapabilities}).then((function(){n.resolveMessage(e)}))}},{key:"onConnect",value:function(e){var t=this;yi("onConnect( ".concat(JSON.stringify(e)));var n=e;this.peer_=n.peer;var i=this.getMessageArg(n);if(!this.mainServer)throw this.rejectMessage(n),new Error("No connection has been established.");var o={type:"join",peer:n.peer,room:i};yi("join sent ".concat(JSON.stringify(o))),this.mainServer.send(JSON.stringify(o)),this.loadDevice(n.peer).then((function(){t.resolveMessage(n,n.peer),t.connected=!0,t.emitter.emit("connect")}))}},{key:"createTransport",value:function(e,t){var n=this;return"receive"!==e||t||console.error("createTransport(): remote must be specified."),new Promise((function(i,o){var a={type:"createTransport",peer:n.peer,remote:t,dir:e};n.sendWithPromise(a,i,o,t)}))}},{key:"onCreateTransport",value:function(e){var t,n,i,o=e,a=(o.type,o.peer,o.transport),r=o.iceServers,s=Object(me.a)(o,Oi),c=Object(wn.a)(Object(wn.a)({id:a},s),{},{iceServers:r,iceTransportPolicy:"all"});"send"===o.dir?t=null===(n=this.device)||void 0===n?void 0:n.createSendTransport(c):t=null===(i=this.device)||void 0===i?void 0:i.createRecvTransport(c);if(t){var l=this.getMessageArg(o);!function(e,t,n){if(!e.appData.stat){var i=Object(wn.a)(Object(wn.a)({},Ci),{},{dir:t});e.appData.stat=Object(fe.h)(i),e.observer.addListener("close",(function(){!function(e){e.appData.interval&&window.clearInterval(e.appData.interval);delete e.appData.interval}(e)}))}var o=new Map,a=new Map;e.appData.interval=window.setInterval((function(){var i=e.appData.stat;null===e||void 0===e||e.getStats().then((function(e){var r,s=Array.from(e.keys());if("send"===t){var c=s.filter((function(e){return e.includes("RTCOutboundRTPVideoStream")||e.includes("RTCOutboundRTPAudioStream")})).map((function(e){return e.substring("RTCOutboundRTP".length)})).map((function(t){return{id:t,local:e.get("RTCOutboundRTP".concat(t)),remote:e.get("RTCRemoteInboundRtp".concat(t))}}));r=c.map((function(n){var i,a,r,s,c=o.get(n.id),l=null!==c&&void 0!==c&&null!==(i=c.local)&&void 0!==i&&i.timestamp?(n.local.timestamp-c.local.timestamp)/1e3:0;return n.local.codecId&&e.get(n.local.codecId),{dir:t,id:n.id,bytesPerSec:l&&n.local.bytesSent&&null!==c&&void 0!==c&&null!==(a=c.local)&&void 0!==a&&a.bytesSent?(n.local.bytesSent-c.local.bytesSent)/l:0,codec:n.local.codecId?e.get(n.local.codecId).mimeType:void 0,targetBitrate:n.local.targetBitrate,fractionLost:null===(r=n.remote)||void 0===r?void 0:r.fractionLost,roundTripTime:null===(s=n.remote)||void 0===s?void 0:s.roundTripTime}})),o=new Map(c.map((function(e){return[e.id,e]})))}else{var l=s.filter((function(e){return e.includes("RTCInboundRTPVideoStream")||e.includes("RTCInboundRTPAudioStream")})).map((function(e){return e.substring("RTCInboundRTP".length)})).map((function(t){return{id:t,local:e.get("RTCInboundRTP".concat(t)),remote:e.get("RTCRemoteOutboundRTP".concat(t))}}));r=l.map((function(n){var i,o,r,s,c=a.get(n.id),l=null!==c&&void 0!==c&&null!==(i=c.local)&&void 0!==i&&i.timestamp?(n.local.timestamp-c.local.timestamp)/1e3:0;return n.local.codecId&&e.get(n.local.codecId),{dir:t,id:n.id,bytesPerSec:l&&n.local.bytesReceived&&null!==c&&void 0!==c&&null!==(o=c.local)&&void 0!==o&&o.bytesReceived?(n.local.bytesReceived-c.local.bytesReceived)/l:0,codec:n.local.codecId?e.get(n.local.codecId).mimeType:void 0,jitter:n.local.jitter,fractionLost:null===(r=n.remote)||void 0===r?void 0:r.fractionLost,roundTripTime:null===(s=n.remote)||void 0===s?void 0:s.roundTripTime}})),a=new Map(l.map((function(e){return[e.id,e]})))}i.fractionLost=void 0,i.roundTripTime=void 0,i.jitter=void 0,wi("fractionLost",i,r),wi("roundTripTime",i,r),wi("jitter",i,r);var u=s.find((function(e){return"RTCTransport"===e.substring(0,"RTCTransport".length)}));if(u){var d=e.get(u),p=(d.timestamp-i.timestamp)/1e3;i.timestamp=d.timestamp,d.bytesReceived&&(i.receivedBytePerSec=Math.floor((d.bytesReceived-i.bytesReceived)/p),i.bytesReceived=d.bytesReceived),d.bytesSent&&(i.sentBytePerSec=Math.floor((d.bytesSent-i.bytesSent)/p),i.bytesSent=d.bytesSent);var v=d.selectedCandidatePairId;if(v){var h=e.get(v),b=e.get(h.localCandidateId);i.turn=b.url;var f=e.get(h.remoteCandidateId);i.remoteServer="".concat(f.address,":").concat(f.port,"/").concat(f.protocol)}}var m=void 0;if(void 0!==i.fractionLost||void 0!==i.roundTripTime||void 0!==i.jitter){var g=i.fractionLost?i.fractionLost:0,A=i.roundTripTime?i.roundTripTime:0,j=!A&&i.jitter?i.jitter:0;m=100-100*(g>1e-10?Math.pow(g,-10):0)-100*A-100*j,m=Math.max(Math.min(m,100),0)}i.quality=m,i.streams=r;var O="send"===t?On.local:On.getRemote(n);O&&(O.quality=i.quality)})).catch()}),5e3)}(t,o.dir,l),this.resolveMessage(o,t)}this.rejectMessage(o)}},{key:"connectTransport",value:function(e,t,n){var i=this;return new Promise((function(o,a){var r={type:"connectTransport",peer:i.peer,remote:n,dtlsParameters:t,transport:e.id};i.sendWithPromise(r,o,a)}))}},{key:"onConnectTransport",value:function(e){var t=e;t.error?this.rejectMessage(t,t.error):this.resolveMessage(t,"")}},{key:"produceTransport",value:function(e){var t=this;return new Promise((function(n,i){var o=Object(wn.a)({type:"produceTransport",peer:t.peer},e);t.sendWithPromise(o,n,i)}))}},{key:"onProduceTransport",value:function(e){var t=e;t.error?this.rejectMessage(t,t.error):this.resolveMessage(t,t.producer)}},{key:"closeProducer",value:function(e){var t=this;return new Promise((function(n,i){var o={type:"closeProducer",peer:t.peer,producer:e};t.sendWithPromise(o,n,i)}))}},{key:"onCloseProducer",value:function(e){var t=e;t.error?this.rejectMessage(t,t.error):this.resolveMessage(t)}},{key:"consumeTransport",value:function(e,t){var n=this;return new Promise((function(i,o){var a={type:"consumeTransport",peer:n.peer,remote:t.peer.peer,rtpCapabilities:n.device.rtpCapabilities,transport:e,producer:t.id};n.sendWithPromise(a,i,o)}))}},{key:"onConsumeTransport",value:function(e){var t=e;if(t.error)this.rejectMessage(t,t.error);else{var n={id:t.consumer,producerId:t.producer,kind:t.kind,rtpParameters:t.rtpParameters};this.resolveMessage(t,n)}}},{key:"resumeConsumer",value:function(e,t){var n=this;return new Promise((function(i,o){var a={type:"resumeConsumer",peer:n.peer,remote:t,consumer:e};n.sendWithPromise(a,i,o)}))}},{key:"onResumeConsumer",value:function(e){var t=e;t.error?this.rejectMessage(t,t.error):this.resolveMessage(t)}},{key:"addListener",value:function(e,t){this.emitter.addListener(e,t)}},{key:"removeListener",value:function(e,t){this.emitter.removeListener(e,t)}},{key:"removeAllListener",value:function(){this.emitter.removeAllListeners()}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.emitter.emit(e,n)}},{key:"onRemoteUpdate",value:function(e){var t=e;this.emit("remoteUpdate",t.remotes)}},{key:"onRemoteLeft",value:function(e){var t=e;this.emit("remoteLeft",t.remotes)}}]),e}(),Ci={timestamp:0,bytesSent:0,bytesReceived:0,streams:[],dir:"send"};function wi(e,t,n){var i=t,o=n,r=0;i[e]=void 0;var s,c=Object(a.a)(o);try{for(c.s();!(s=c.n()).done;){var l=s.value;l[e]&&(i[e]=l[e]+(i[e]?i[e]:0),r++)}}catch(u){c.e(u)}finally{c.f()}i[e]&&(i[e]/=r)}function Si(e){return("0"+e).slice(-2)}function ki(e){void 0===e&&(e=Date.now());var t=new Date(e);return"".concat(function(e){return("000"+e).slice(-4)}(t.getFullYear()),".").concat(Si(t.getMonth()+1),".").concat(Si(t.getDay()),"_")+"".concat(Si(t.getHours()),".").concat(Si(t.getMinutes()))}var Ii=new(n(281).a)("recorderDb");Ii.version(1).stores({records:"++id, title, room, duration, time",recMessages:"++id",recMedias:"id",blobs:"++id"});var Ti,Ei,Mi,Pi,Ri,Di,Bi,Ni,zi=Ii.records,Fi=Ii.recMedias,Qi=Ii.recMessages,Li=Ii.blobs,Ui=function(){function e(t,n,i,o,a){Object(X.a)(this,e),this.media=void 0,this.id=void 0,this.pid=void 0,this.cid=void 0,this.role=void 0,this.kind=void 0,this.startTime=0,this.endTime=0,this.blobs=[],this.onData=function(){},this.id=o,this.role=n,this.pid=null===a||void 0===a?void 0:a.pid,this.cid=null===a||void 0===a?void 0:a.cid,this.kind=i,this.media=new MediaRecorder(t),this.media.addEventListener("dataavailable",this.onDataAvailable.bind(this)),this.media.addEventListener("stop",this.onStop.bind(this))}return Object(V.a)(e,[{key:"stream",get:function(){return this.media.stream}},{key:"state",get:function(){return this.media.state}},{key:"start",value:function(){"inactive"===this.media.state?(this.media.start(),this.startTime=Date.now()):console.error("Failed to start. Media for cid:".concat(this.cid," pid:").concat(this.pid)+" is already in ".concat(this.media.state,"."),this)}},{key:"stop",value:function(){"inactive"!==this.media.state&&this.media.stop()}},{key:"requestData",value:function(){"inactive"!==this.media.state&&this.media.requestData()}},{key:"onStop",value:function(){this.endTime=Date.now()}},{key:"onDataAvailable",value:function(e){var t=e.data;this.blobs.push(t),this.onData(this)}}]),e}(),Gi=Object(V.a)((function e(t,n){Object(X.a)(this,e),this.msg=void 0,this.time=void 0,this.msg=t,this.time=n||Date.now()})),Yi=(fi=function(){function e(){Object(X.a)(this,e),this.medias=new Map,this.messages=[],Object(J.a)(this,"recording",mi,this),this.startTime=0,this.endTime=0,this.intervalTimer=0,this.stoppedMedias=[],this.disposers=[],this.MessageTypesToRecord=new Set([Rn.PARTICIPANT_INFO,Rn.PARTICIPANT_POSE,Rn.PARTICIPANT_MOUSE,Rn.PARTICIPANT_AFK,Rn.PARTICIPANT_TRACKSTATES,Rn.PARTICIPANT_VIEWPOINT,Rn.PARTICIPANT_ON_STAGE,Rn.CONTENT_UPDATE_REQUEST,Rn.CONTENT_REMOVE_REQUEST]),this.lastMessageValues=new Map,this.converting=!1,Object(fe.g)(this)}return Object(V.a)(e,[{key:"clear",value:function(){this.medias.clear(),this.messages=[],this.stoppedMedias=[],this.startTime=0,this.endTime=0,this.lastMessageValues.clear()}},{key:"start",value:function(e){var t=this;this.clear(),this.recording=!0,this.startTime=Date.now();var n={room:Uo.room,time:this.startTime,duration:0,title:"",blob:void 0};zi.add(n),this.disposers.push(Object(fe.c)((function(){t.observeAndRecordMedia()})));var i=Dn(e.contents.all);this.messages.push({msg:{t:Rn.CONTENT_UPDATE_REQUEST,v:JSON.stringify(i)},time:Date.now()});var o=Array.from(e.participants.remote.values());o.unshift(e.participants.local);for(var a=0,r=o;a<r.length;a++){var s=r[a];this.messages.push({msg:{t:Rn.PARTICIPANT_INFO,p:s.id,v:JSON.stringify(s.information)},time:Date.now()}),this.messages.push({msg:{t:Rn.PARTICIPANT_POSE,p:s.id,v:JSON.stringify(D(s.pose))},time:Date.now()}),this.messages.push({msg:{t:Rn.PARTICIPANT_MOUSE,p:s.id,v:JSON.stringify(B(s.mouse))},time:Date.now()})}this.intervalTimer&&window.clearInterval(this.intervalTimer),this.intervalTimer=window.setInterval((function(){t.saveDiffToDB()}),3e3)}},{key:"stop",value:function(){var e=this;this.intervalTimer&&(window.clearInterval(this.intervalTimer),this.intervalTimer=0);var t,n=Object(a.a)(this.disposers);try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(i){n.e(i)}finally{n.f()}return this.disposers=[],new Promise((function(t,n){e.stopMediaRecordings().then((function(i){e.endTime=Date.now(),e.makeRecord(i).then((function(e){Li.clear().then((function(){Fi.clear().then((function(){Qi.clear().then((function(){return t(e)}))}))}))})).catch(n)}))}))}},{key:"recordMessage",value:function(e){this.recording&&this.MessageTypesToRecord.has(e.t)&&(e.t===Rn.PARTICIPANT_MOUSE||e.t===Rn.PARTICIPANT_POSE?this.lastMessageValues.get(e.t)!==e.v&&(this.lastMessageValues.set(e.t,e.v),this.messages.push(new Gi(e))):this.messages.push(new Gi(e)))}},{key:"saveDiffToDB",value:function(){var e=this;return new Promise((function(t){var n=Array.from(e.medias.values()),i=n.length+1,o=function(){0===--i&&t()};e.saveMediaRecordings().then((function(){var e,t=Object(a.a)(n);try{var i=function(){var t=e.value;Fi.get(t.id).then((function(e){var n=e||{id:t.id,startTime:t.startTime,endTime:t.endTime,pid:t.pid,cid:t.cid,role:t.role,kind:t.kind,blobs:[]};n.startTime=t.startTime,n.endTime=t.endTime;var i,r=t.blobs.slice(n.blobs.length),s=0,c=Object(a.a)(r);try{for(c.s();!(i=c.n()).done;){var l={blob:i.value};Li.add(l).then((function(e){n.blobs.push(e),++s===r.length&&Fi.put(n,n.id).then((function(){o()}))}))}}catch(u){c.e(u)}finally{c.f()}}))};for(t.s();!(e=t.n()).done;)i()}catch(r){t.e(r)}finally{t.f()}})),Qi.toArray().then((function(t){var n=t.reduce((function(e,t){return e+t.length}),0);if(e.messages.length>n){var i=e.messages.slice(n),a={messages:i,length:i.length};Qi.add(a).then((function(){o()}))}else o()}))}))}},{key:"convertDiffsToRecord",value:function(){var e=this,t=0;return new Promise((function(n,i){Ji.recording||e.converting?i():(e.converting=!0,zi.where({title:""}).count((function(o){0!==o?Qi.toArray((function(o){Fi.toArray((function(r){var s=[];o.length||r.length?function(){e.messages=[];var c,l=1,u=function(){0===--l&&Qi.clear().then((function(){Fi.clear().then((function(){Li.clear().then((function(){e.endTime=t,e.makeRecord(s,!0).then((function(t){e.converting=!1,n(t)})).catch(i)}))}))}))},d=Object(a.a)(o);try{for(d.s();!(c=d.n()).done;){var v,h,b=c.value,f=Object(a.a)(b.messages);try{for(f.s();!(h=f.n()).done;){var m=h.value;t=Math.max(m.time,t)}}catch(O){f.e(O)}finally{f.f()}(v=e.messages).push.apply(v,Object(p.a)(b.messages))}}catch(O){d.e(O)}finally{d.f()}var g,A=Object(a.a)(r);try{var j=function(){var e=g.value;t=Math.max(e.endTime,e.startTime,t);var n=Array(e.blobs.length);l+=n.length;var i={id:e.id,pid:e.pid,cid:e.cid,role:e.role,kind:e.kind,startTime:e.startTime,endTime:e.endTime,blobs:n};s.push(i),e.blobs.forEach((function(e,t){Li.get(e).then((function(e){n[t]=e.blob,u()}))}))};for(A.s();!(g=A.n()).done;)j()}catch(O){A.e(O)}finally{A.f()}u()}():i()}))})):i()})))}))}},{key:"stopMediaRecordings",value:function(){var e=this;this.recording=!1;var t=0;return new Promise((function(n,i){var o=function(){++t===r.length&&n(r)},r=e.stoppedMedias;if(r.push.apply(r,Object(p.a)(e.medias.values())),r.length){var s,c=Object(a.a)(r);try{for(c.s();!(s=c.n()).done;){var l=s.value;"inactive"===l.state?o():(l.onData=function(){o()},l.stop())}}catch(u){c.e(u)}finally{c.f()}}else n(r)}))}},{key:"makeRecord",value:function(e,t){var n=this;return new Promise((function(i,o){zi.where({title:""}).toArray().then((function(r){if(r.length){var s=r.pop();t&&(n.startTime=s.time);var c,l=t?s.room:Uo.room,u=n.makeBlob(e),d={id:s.id,room:l,time:n.startTime,duration:n.endTime-n.startTime,title:"BMR_".concat(l,"_").concat(ki(n.startTime)),blob:u},p=r.length+1,v=function(){0===--p&&i(d)},h=Object(a.a)(r);try{for(h.s();!(c=h.n()).done;){var b=c.value;zi.delete(b.id).then(v)}}catch(m){h.e(m)}finally{h.f()}zi.put(d,d.id).then((function(){v()})).catch((function(){o("Failed to add record to IndexedDB")}))}else{var f="The record created when starts to record not found in db.";console.error(f),o(f)}}))}))}},{key:"makeBlob",value:function(e){var t=[],n=[],i={startTime:this.startTime,endTime:this.endTime,messages:this.messages},o=new Blob([JSON.stringify(i)],{type:"application/json"}),r={role:"message",size:o.size,kind:"json"};t.push(o),n.push(r);var s,c=Object(a.a)(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(l.blobs.length){var u=new Blob(l.blobs),d={pid:l.pid,cid:l.cid,role:l.role,size:u.size,kind:l.kind,time:l.startTime,duration:l.endTime-l.startTime};u.size&&(t.push(u),n.push(d))}}}catch(v){c.e(v)}finally{c.f()}t.unshift(new Blob([JSON.stringify(n)],{type:"application/json"}));var p=new Uint32Array(1);return p[0]=t[0].size,t.unshift(new Blob([p])),new Blob(t,{type:"application/octet-stream"})}},{key:"saveMediaRecordings",value:function(){var e=this,t=0;return new Promise((function(n,i){function o(){++t===r.length&&n(r)}var r=Array.from(e.medias.values());if(r.length){var s,c=Object(a.a)(r);try{var l=function(){var e=s.value;"inactive"===e.state?o():(e.onData=function(){e.onData=function(){},e.endTime=Date.now(),o()},e.requestData())};for(c.s();!(s=c.n()).done;)l()}catch(u){c.e(u)}finally{c.f()}}else n(r)}))}},{key:"observeAndRecordMedia",value:function(){var e=new Set(this.medias.keys()),t=Array.from(On.remote.values());t.push(On.local);for(var n=0,i=t;n<i.length;n++){var o=i[n],r="pv_".concat(o.id);if(e.delete(r),o.tracks.avatarStream){if(!this.medias.has(r)){var s=new Ui(o.tracks.avatarStream,"avatar","video",r,{pid:o.id});this.medias.set(r,s),s.start()}}else{var c=this.medias.get(r);c&&(c.stop(),this.stoppedMedias.push(c),this.medias.delete(r))}var l="pa_".concat(o.id);if(o.tracks.audioStream){if(!this.medias.has(l)){var u=new Ui(o.tracks.audioStream,"avatar","audio",l,{pid:o.id});this.medias.set(l,u),u.start()}}else{var d=this.medias.get(l);d&&(d.stop(),this.stoppedMedias.push(d),this.medias.delete(l))}}var p,v=ea.getAllRtcContentIds(),h=Object(a.a)(v);try{for(h.s();!(p=h.n()).done;){var b=p.value,f=ea.find(b);if(f&&("screen"===f.type||"camera"===f.type)){var m,g=ea.contentTracks.get(b).tracks,A=Object(a.a)(g);try{for(A.s();!(m=A.n()).done;){var j=m.value,O=void 0;if(O="audio"===j.kind?"ca_".concat(f.id):"cv_".concat(f.id),e.delete(O),!this.medias.has(O)){var y=new MediaStream([j]),x=new Ui(y,f.type,j.kind,O,{cid:f.id});this.medias.set(O,x),x.start(),console.log("Rec for ".concat(O,": ").concat(JSON.stringify(x)))}}}catch(I){A.e(I)}finally{A.f()}}}}catch(I){h.e(I)}finally{h.f()}var C,w=Object(a.a)(e);try{for(w.s();!(C=w.n()).done;){var S=C.value,k=this.medias.get(S);k&&(k.stop(),this.stoppedMedias.push(k),this.medias.delete(S))}}catch(I){w.e(I)}finally{w.f()}}}]),e}(),mi=Object(K.a)(fi.prototype,"recording",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fi),Hi=Object(V.a)((function e(t,n){Object(X.a)(this,e),this.blob=void 0,this.time=void 0,this.duration=void 0,this.cid=void 0,this.pid=void 0,this.role=void 0,this.kind=void 0,this.blob=t,this.time=n.time,this.duration=n.duration,this.cid=n.cid,this.pid=n.pid,this.role=n.role,"audio"===n.kind||"video"===n.kind?this.kind=n.kind:this.kind="invalid"})),Wi=(gi=function(){function e(){Object(X.a)(this,e),this.messages=[],this.medias=[],this.startTime=0,this.endTime=0,Object(J.a)(this,"playing",Ai,this),this.pids=new Set,this.cids=new Set,Object(fe.g)(this)}return Object(V.a)(e,[{key:"clear",value:function(){this.messages=[],this.medias=[],this.startTime=0,this.endTime=0}},{key:"load",value:function(e){var t=this;return this.clear(),new Promise((function(n){var i=0;e.slice(i,i+4).arrayBuffer().then((function(o){i+=4;var r=new Int32Array(o)[0],s=0;e.slice(i,i+r).text().then((function(o){i+=r;var c,l=JSON.parse(o),u=Object(a.a)(l);try{var d=function(){var o=c.value;"message"===o.role?e.slice(i,i+o.size).text().then((function(e){var i=JSON.parse(e);t.messages=i.messages,t.startTime=i.startTime,t.endTime=i.endTime,++s===l.length&&n(t)})):e.slice(i,i+o.size).arrayBuffer().then((function(e){var i=new Blob([e]);t.medias.push(new Hi(i,o)),++s===l.length&&n(t)})),i+=o.size};for(u.s();!(c=u.n()).done;)d()}catch(p){u.e(p)}finally{u.f()}e.size!==i&&console.error("archive size ".concat(e.size," not matched to end of blobs ").concat(i,"."))}))}))}))}},{key:"play",value:function(){var e=this;this.playing=!0;var t=Array.from(this.messages),n=Array.from(this.medias);t.sort((function(e,t){return e.time-t.time})),n.sort((function(e,t){return e.time-t.time}));var i=this.startTime,o=Date.now()-this.startTime;!function a(){for(i=Date.now()-o;t.length&&t[0].time<i;){var r=t.shift();Ki.playMessage(r.msg)}for(var s=function(){var t=n.shift();Ki.playMedia(t),t.duration&&setTimeout((function(){e.stopMedia(t)}),t.duration)};n.length&&n[0].time<i;)s();i<Ki.endTime?setTimeout((function(){a()}),30):e.cleanup()}()}},{key:"stop",value:function(){Ki.endTime=0}},{key:"cleanup",value:function(){this.playing=!1,this.pids.forEach((function(e){On.removePlayback(e)})),this.cids.forEach((function(e){ea.removePlayback(e)}))}},{key:"stopMedia",value:function(e){if(e.pid&&"avatar"===e.role){var t="p_".concat(e.pid),n=On.playback.get(t);n&&(n.videoBlob=void 0)}}},{key:"playMedia",value:function(e){if(e.pid){var t="p_".concat(e.pid);this.pids.add(t);var n=On.getOrCreatePlayback(t);"audio"===e.kind?n.audioBlob=e.blob:"video"===e.kind?n.videoBlob=e.blob:console.error("Unknown media kind ".concat(e.kind))}else if(e.cid){var i="p_".concat(e.cid);this.cids.add(i);var o=ea.getOrCreatePlayback(i);"audio"===e.kind?o.audioBlob=e.blob:"video"===e.kind?(o.videoBlob=e.blob,o.url=URL.createObjectURL(e.blob)):console.error("Unknown media kind ".concat(e.kind)),ea.updatePlayback(o)}}},{key:"playMessage",value:function(e){var t=e.p?"p_".concat(e.p):"";t&&this.pids.add(t);var n=t?On.getOrCreatePlayback(t):void 0,i=!0,o=JSON.parse(e.v);if(n)switch(i=!1,e.t){case Rn.PARTICIPANT_INFO:n.information=o;break;case Rn.PARTICIPANT_POSE:n.pose=N(o);break;case Rn.PARTICIPANT_MOUSE:n.mouse=z(o);break;case Rn.PARTICIPANT_AFK:n.physics.awayFromKeyboard=o;break;case Rn.PARTICIPANT_TRACKSTATES:Object.assign(n.trackStates,o);break;case Rn.PARTICIPANT_VIEWPOINT:Object.assign(n.viewpoint,o);break;case Rn.PARTICIPANT_ON_STAGE:n.physics.onStage=o;break;case Rn.PARTICIPANT_VRMRIG:n.vrmRigs=o;break;default:i=!0}if(i)switch(i=!1,e.t){case Rn.CONTENT_UPDATE_REQUEST:this.onContentUpdateRequest(e);break;case Rn.CONTENT_REMOVE_REQUEST:this.onContentRemoveRequest(e);break;default:i=!0}i&&console.warn("Playback did not handle message:",e)}},{key:"onContentUpdateRequest",value:function(e){var t,n=JSON.parse(e.v),i=Object(a.a)(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.id="p_".concat(o.id);var r=ea.findPlayback(o.id);r&&(o.audioBlob=r.audioBlob,o.videoBlob=r.videoBlob,o.url=r.url),"camera"!==o.type&&"screen"!==o.type||(o.type="camera"===o.type?"playbackCamera":"playbackScreen"),ea.updatePlayback(o),this.cids.add(o.id)}}catch(s){i.e(s)}finally{i.f()}}},{key:"onContentRemoveRequest",value:function(e){var t,n=JSON.parse(e.v),i=Object(a.a)(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;ea.removePlayback("p_".concat(o))}}catch(r){i.e(r)}finally{i.f()}}}]),e}(),Ai=Object(K.a)(gi.prototype,"playing",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gi),Ji=new Yi,Ki=new Wi;d.recorder=Ji,d.player=Ki;var Vi=new(Ti=function(){function e(){Object(X.a)(this,e),this.defaultBackgroundFill=[255,255,255],this.defaultBackgroundColor=[255,255,255],Object(J.a)(this,"roomProps",Ei,this),Object(J.a)(this,"password",Mi,this),Object(J.a)(this,"newPassword",Pi,this),Object(J.a)(this,"passMatched",Ri,this),Object(J.a)(this,"backgroundFill",Di,this),Object(J.a)(this,"backgroundColor",Bi,this),Object(J.a)(this,"roomDetails",Ni,this),Object(fe.g)(this)}return Object(V.a)(e,[{key:"onUpdateProp",value:function(e,t){switch(void 0===t?this.roomProps.delete(e):this.roomProps.set(e,t),e){case"backgroundFill":this.backgroundFill=t?JSON.parse(t):this.defaultBackgroundFill;break;case"backgroundColor":this.backgroundColor=t?JSON.parse(t):this.defaultBackgroundColor;break;case"roomDetails":this.roomDetails=t?JSON.parse(t):this.roomDetails}}}]),e}(),Ei=Object(K.a)(Ti.prototype,"roomProps",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Mi=Object(K.a)(Ti.prototype,"password",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Pi=Object(K.a)(Ti.prototype,"newPassword",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ri=Object(K.a)(Ti.prototype,"passMatched",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Di=Object(K.a)(Ti.prototype,"backgroundFill",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.defaultBackgroundFill}}),Bi=Object(K.a)(Ti.prototype,"backgroundColor",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.defaultBackgroundColor}}),Ni=Object(K.a)(Ti.prototype,"roomDetails",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JSON.stringify({name:"",image:"",desc:""})}}),Object(K.a)(Ti.prototype,"onUpdateProp",[fe.b],Object.getOwnPropertyDescriptor(Ti.prototype,"onUpdateProp"),Ti.prototype),Ti);function Xi(){"granted"!==Notification.permission&&"denied"!==Notification.permission&&Notification.requestPermission()}function Zi(e,t){"granted"===Notification.permission&&new Notification(e,t)}var qi=function(){},_i=function(){function e(t){Object(X.a)(this,e),this.connection=void 0,this.disposers=[],this.connection=t}return Object(V.a)(e,[{key:"sendAllAboutMe",value:function(e){qi("sendAllAboutMe called."),this.sendPoseMessage(e),this.sendMouseMessage(),On.local.sendInformation(),this.sendOnStage(),this.sendTrackStates(),this.sendViewpointNow(),this.sendMyContents(),this.sendAfkChanged()}},{key:"sendPoseMessage",value:function(e){var t=D(On.local.pose);this.connection.sendMessage(Rn.PARTICIPANT_POSE,t,void 0,e)}},{key:"sendMouseMessage",value:function(){var e=B(On.local.mouse);this.connection.sendMessage(Rn.PARTICIPANT_MOUSE,e)}},{key:"sendParticipantInfo",value:function(){if(On.local.informationToSend){this.connection.sendMessage(Rn.PARTICIPANT_INFO,Object(wn.a)({},On.local.informationToSend));for(var e=On.local.information.name;"_"===e.slice(0,1);)e=e.slice(1)}}},{key:"sendAudioLevel",value:function(){this.connection.sendMessage(Rn.AUDIO_LEVEL,On.local.audioLevel)}},{key:"sendOnStage",value:function(){this.connection.sendMessage(Rn.PARTICIPANT_ON_STAGE,On.local.physics.onStage)}},{key:"sendTrackStates",value:function(){this.connection.sendMessage(Rn.PARTICIPANT_TRACKSTATES,Object(wn.a)({},On.local.trackStates))}},{key:"sendViewpointNow",value:function(){this.connection.sendMessage(Rn.PARTICIPANT_VIEWPOINT,Object(wn.a)({},On.local.viewpoint))}},{key:"sendAfkChanged",value:function(){this.connection.sendMessage(Rn.PARTICIPANT_AFK,On.local.physics.awayFromKeyboard)}},{key:"sendTrackLimits",value:function(e,t){this.connection.sendMessage(Rn.PARTICIPANT_TRACKLIMITS,t||[On.local.remoteVideoLimit,On.local.remoteAudioLimit],e||void 0)}},{key:"sendVrmRig",value:function(){this.connection.sendMessage(Rn.PARTICIPANT_VRMRIG,On.local.vrmRigs),this.connection.flushSendMessages()}},{key:"sendContentUpdateRequest",value:function(e,t){var n=Dn(t);this.connection.sendMessage(Rn.CONTENT_UPDATE_REQUEST,n,e)}},{key:"sendContentRemoveRequest",value:function(e,t){this.connection.sendMessage(Rn.CONTENT_REMOVE_REQUEST,t,e)}},{key:"sendMyContents",value:function(){this.sendContentUpdateRequest("",Array.from(ea.roomContents.values()))}},{key:"onRoomProp",value:function(e,t){Vi.onUpdateProp(e,t)}},{key:"onParticipantTrackLimits",value:function(e){On.local.remoteVideoLimit=e[0],On.local.remoteAudioLimit=e[1]}},{key:"onParticipantVrmRig",value:function(e,t){if(e){var n=On.getRemote(e);n&&(n.vrmRigs=t)}}},{key:"onParticipantLeft",value:function(e){var t,n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;Cn.participantLeft(i),On.leave(i)}}catch(o){n.e(o)}finally{n.f()}}},{key:"onChatMessage",value:function(e,t){r(e);var n=On.find(e);n&&Cn.addMessage(new yn(t.msg,n.id,n.information.name,n.information.avatarSrc,n.getColor(),t.ts,t.to?"private":"text"))}},{key:"onCallRemote",value:function(e){r(e);var t=On.find(e);t&&(Cn.calledBy(t),On.local.information.notifyCall&&Zi(ee("noCalled",{name:null===t||void 0===t?void 0:t.information.name}),{icon:"./favicon.ico"}))}},{key:"onAfkChanged",value:function(e,t){r(e);var n=On.find(e);n&&(n.physics.awayFromKeyboard=t)}},{key:"onKicked",value:function(e,t){var n,i=this;r(e),da.setType("kicked",null===(n=On.remote.get(e))||void 0===n?void 0:n.information.name,t);var o=window.localStorage.getItem("kickTimes"),a=void 0,s=[];this.connection.room&&(o&&(a=(s=JSON.parse(o)).find((function(e){return e.room===i.connection.room}))),a||(a={room:this.connection.room,time:0},s.push(a)),a.time=Date.now(),window.localStorage.setItem("kickTimes",JSON.stringify(s))),setTimeout((function(){window.location.reload()}),1e4)}},{key:"onParticipantOut",value:function(e){e.forEach((function(e){var t=On.find(e);t&&(t.physics.located=!1)}))}},{key:"onMouseOut",value:function(e){e.forEach((function(e){var t=On.find(e);t&&(t.mouse.position=[Un,Un])}))}},{key:"onContentOut",value:function(e){e.forEach((function(e){var t=ea.find(e);if(t){var n=Object.assign({},t);n.pose={position:[Un,Un],orientation:t.pose.orientation},ea.updateByRemoteRequest([n])}}))}},{key:"onParticipantInfo",value:function(e,t){if(r(e),null===o.testBot&&e!==On.localId){var n=On.getOrCreateRemote(e);if(!n)return;var i=n.information.name;Object.assign(n.information,t),i!==n.information.name&&(i===se.name?Cn.participantJoined(e):Cn.participantNameChanged(e,i)),n.informationReceived=!0,qi("Info of ".concat(e," received."))}}},{key:"onParticipantTrackState",value:function(e,t){if(r(e),null===o.testBot&&e!==On.localId){var n=On.getRemote(e);if(!n)return;Object.assign(n.trackStates,t)}}},{key:"onParticipantPose",value:function(e,t){if(r(e),e!==On.localId){var n=On.getRemote(e);if(!n)return;var i=N(t),o=On.local;if(n.pose.orientation=i.orientation,n.pose.position=i.position,n.physics.located=!0,o.information.notifyNear||o.information.notifyTouch){var a=x(j(n.pose.position,o.pose.position));n.lastDistance>60&&a<=60&&o.information.notifyTouch?Zi(ee("noTouched",{name:n.information.name}),{icon:"./favicon.ico"}):n.lastDistance>180&&a<180&&o.information.notifyNear&&Zi(ee("noNear",{name:n.information.name}),{icon:"./favicon.ico"}),n.lastDistance=a}}}},{key:"onParticipantAudioLevel",value:function(e,t){if(e&&e!==On.localId){var n=On.getRemote(e);n&&(n.audioLevel=t)}}},{key:"onParticipantMouse",value:function(e,t){r(e);var n=z(t);if(null===o.testBot&&e!==On.localId){var i=On.getRemote(e);i&&Object.assign(i.mouse,n)}}},{key:"onParticipantOnStage",value:function(e,t){if(r(e),e!==On.localId){var n=On.getRemote(e);n&&(n.physics.onStage=t)}}},{key:"onParticipantViewpoint",value:function(e,t){if(r(e),null===o.testBot&&e!==On.localId){var n=On.getRemote(e);n&&Object.assign(n.viewpoint,t)}}},{key:"onYarnPhone",value:function(e,t){if(r(e),t.find((function(e){return e===On.localId}))){if(!On.yarnPhones.has(e)&&(On.yarnPhones.add(e),On.local.information.notifyYarn)){var n=On.find(e);n&&Zi(ee("noYarn",{name:n.information.name}),{icon:"./favicon.ico"})}}else On.yarnPhones.delete(e)}},{key:"onMuteVideo",value:function(e){var t={};On.local.loadMediaSettingsFromStorage(t),On.local.muteVideo=e||t.stream.muteVideo}},{key:"onMuteAudio",value:function(e){var t={};On.local.loadMediaSettingsFromStorage(t),On.local.muteAudio=e||t.stream.muteAudio}},{key:"onReloadBrower",value:function(){window.location.reload()}},{key:"onContentInfoUpdate",value:function(e){r(config.bmRelayServer),e.forEach((function(e){return ea.roomContentsInfo.set(e.id,e)}))}},{key:"onContentUpdateRequest",value:function(e){var t=Bn(e);ea.updateByRemoteRequest(t)}},{key:"onContentRemoveRequest",value:function(e){ea.removeByRemoteRequest(e)}},{key:"observeStart",value:function(){var e=this;this.disposers.push(Object(fe.c)((function(){On.remote.forEach((function(t){t.called&&(t.called=!1,e.connection.sendMessage(Rn.CALL_REMOTE,{},t.id),Cn.callTo(t))}))}))),this.disposers.push(Object(fe.c)(this.sendAfkChanged.bind(this))),this.disposers.push(Object(fe.c)(this.sendParticipantInfo.bind(this))),this.disposers.push(Object(fe.c)(this.sendAudioLevel.bind(this))),this.disposers.push(Object(fe.c)(this.sendTrackStates.bind(this))),this.disposers.push(Object(fe.c)(this.sendPoseMessage.bind(this,!1))),this.disposers.push(Object(fe.c)(this.sendMouseMessage.bind(this))),this.disposers.push(Object(fe.c)(this.sendViewpointNow.bind(this))),this.disposers.push(Object(fe.c)(this.sendOnStage.bind(this))),this.disposers.push(Object(fe.c)(this.sendVrmRig.bind(this)));this.disposers.push(Object(fe.c)((function(){On.yarnPhoneUpdated&&(On.yarnPhoneUpdated=!1,e.connection.sendMessage(Rn.YARN_PHONE,Array.from(On.yarnPhones)))})))}},{key:"observeEnd",value:function(){this.disposers.forEach((function(e){return e()}))}},{key:"onBmMessage",value:function(e){qi("Recv data msg: ".concat(e.map((function(e){return e.t})).reduce((function(e,t){return"".concat(e," ").concat(t)}),""),"."));var t,n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;switch(Ji.recordMessage(i),i.t){case Rn.ROOM_PROP:this.onRoomProp.apply(this,Object(p.a)(JSON.parse(i.v)));break;case Rn.REQUEST_TO:this.sendAllAboutMe(!1);break;case Rn.PARTICIPANT_AFK:this.onAfkChanged(i.p,JSON.parse(i.v));break;case Rn.PARTICIPANT_LEFT:this.onParticipantLeft(JSON.parse(i.v));break;case Rn.CALL_REMOTE:this.onCallRemote(i.p);break;case Rn.CHAT_MESSAGE:this.onChatMessage(i.p,JSON.parse(i.v));break;case Rn.CONTENT_REMOVE_REQUEST:this.onContentRemoveRequest(JSON.parse(i.v));break;case Rn.CONTENT_UPDATE_REQUEST:this.onContentUpdateRequest(JSON.parse(i.v));break;case Rn.CONTENT_INFO_UPDATE:this.onContentInfoUpdate(JSON.parse(i.v));break;case Rn.PARTICIPANT_INFO:this.onParticipantInfo(i.p,JSON.parse(i.v));break;case Rn.PARTICIPANT_MOUSE:this.onParticipantMouse(i.p,JSON.parse(i.v));break;case Rn.PARTICIPANT_POSE:this.onParticipantPose(i.p,JSON.parse(i.v));break;case Rn.PARTICIPANT_ON_STAGE:this.onParticipantOnStage(i.p,JSON.parse(i.v));break;case Rn.PARTICIPANT_TRACKSTATES:this.onParticipantTrackState(i.p,JSON.parse(i.v));break;case Rn.PARTICIPANT_VIEWPOINT:this.onParticipantViewpoint(i.p,JSON.parse(i.v));break;case Rn.AUDIO_LEVEL:this.onParticipantAudioLevel(i.p,JSON.parse(i.v));break;case Rn.PARTICIPANT_TRACKLIMITS:this.onParticipantTrackLimits(JSON.parse(i.v));break;case Rn.PARTICIPANT_VRMRIG:this.onParticipantVrmRig(i.p,JSON.parse(i.v));break;case Rn.YARN_PHONE:this.onYarnPhone(i.p,JSON.parse(i.v));break;case Rn.RELOAD_BROWSER:this.onReloadBrower();break;case Rn.MUTE_VIDEO:this.onMuteVideo(JSON.parse(i.v));break;case Rn.MUTE_AUDIO:this.onMuteAudio(JSON.parse(i.v));break;case Rn.KICK:this.onKicked(i.p,JSON.parse(i.v));break;case Rn.PARTICIPANT_OUT:this.onParticipantOut(JSON.parse(i.v));break;case Rn.MOUSE_OUT:this.onMouseOut(JSON.parse(i.v));break;case Rn.CONTENT_OUT:this.onContentOut(JSON.parse(i.v));break;default:console.log("Unhandled message type ".concat(i.t," from ").concat(i.p))}}}catch(o){n.e(o)}finally{n.f()}this.checkInfo()}},{key:"checkInfo",value:function(){var e=Array.from(On.remote.values()).filter((function(e){return!e.informationReceived})).map((function(e){return e.id}));e.length&&(qi("checkInfo sent ".concat(e)),this.connection.pushOrUpdateMessageViaRelay(Rn.REQUEST_TO,e))}}]),e}(),$i=function(){function e(){Object(X.a)(this,e),this.context=void 0,this.analyser=void 0,this.source=void 0,this.BUFFERLEN=32}return Object(V.a)(e,[{key:"setSource",value:function(e){var t,n,i;null===(t=this.source)||void 0===t||t.disconnect(),null===(n=this.analyser)||void 0===n||n.disconnect(),null===(i=this.context)||void 0===i||i.close(),this.source=void 0,this.analyser=void 0,this.context=void 0,e&&(this.context=new AudioContext,this.analyser=this.context.createAnalyser(),this.source=this.context.createMediaStreamSource(new MediaStream([e.track])),this.analyser&&this.source&&(this.source.connect(this.analyser),this.analyser.fftSize=this.BUFFERLEN))}},{key:"getAudioLevel",value:function(){var e;if(!this.context)return 0;"suspended"===this.context.state&&this.context.resume();var t=new Float32Array(this.BUFFERLEN);return null===(e=this.analyser)||void 0===e||e.getFloatTimeDomainData(t),t.reduce((function(e,t){return e+Math.abs(t)}),0)/this.BUFFERLEN}}]),e}(),eo=function(e){},to=100,no=new Set(Mn);no.add(Pn.CONTENT_UPDATE_REQUEST_BY_ID),no.add(Pn.REQUEST_PARTICIPANT_STATES);var io,oo,ao,ro=function(){function e(){Object(X.a)(this,e),this.relaySocket=void 0,this.peer_="",this.room_="",this.lastRequestTime=Date.now(),this.lastReceivedTime=Date.now(),this.messagesToSendToRelay=[],this.relayRttLast=50,this.relayRttAverage=50,this.sync_=new _i(this),this.audioMeter_=new $i,this.stopStep=!1,this.receivedMessages=[]}return Object(V.a)(e,[{key:"peer",get:function(){return this.peer_}},{key:"room",get:function(){return this.room_}},{key:"sync",get:function(){return this.sync_}},{key:"audioMeter",get:function(){return this.audioMeter_}},{key:"isConnected",value:function(){var e;return(null===(e=this.relaySocket)||void 0===e?void 0:e.readyState)===WebSocket.OPEN}},{key:"setRoomProp",value:function(e,t){this.pushOrUpdateMessageViaRelay(Rn.ROOM_PROP,[e,t]),Vi.onUpdateProp(e,t)}},{key:"connect",value:function(e,t){var n=this;return this.room_=e,this.peer_=t,eo("connect(".concat(e,", ").concat(t,")")),new Promise((function(e,t){if(config.bmRelayServer)if(n.relaySocket)e();else{var i=function(){eo("dataConn socket onOpen"),n.messagesToSendToRelay=[],n.sync.sendAllAboutMe(!0),n.pushOrUpdateMessageViaRelay(Rn.REQUEST_ALL,{}),n.flushSendMessages()},o=function(e){if("string"===typeof e.data){n.lastReceivedTime=Date.now(),n.relayRttLast=n.lastReceivedTime-n.lastRequestTime;var t,i=JSON.parse(e.data);if(i.length)(t=n.receivedMessages).push.apply(t,Object(p.a)(i));i.length&&(n.relayRttAverage=.3*n.relayRttLast+.7*n.relayRttAverage)}},a=function(){setTimeout((function(){n.relaySocket=new WebSocket(config.bmRelayServer),s()}),5e3)},r=function(){var e;console.error("Error in WebSocket for ".concat(config.bmRelayServer)),null===(e=n.relaySocket)||void 0===e||e.close(3e3,"onError"),a()},s=function(){var e,t,s,c;null===(e=n.relaySocket)||void 0===e||e.addEventListener("error",r),null===(t=n.relaySocket)||void 0===t||t.addEventListener("message",o),null===(s=n.relaySocket)||void 0===s||s.addEventListener("open",i),null===(c=n.relaySocket)||void 0===c||c.addEventListener("close",a)};n.relaySocket=new WebSocket(config.bmRelayServer),s(),n.step(),n.sync.observeStart(),n.sync.sendAllAboutMe(!0)}else t()}))}},{key:"disconnect",value:function(){var e;config.bmRelayServer&&this.peer&&(this.sync.observeEnd(),this.pushOrUpdateMessageViaRelay(Rn.PARTICIPANT_LEFT,[this.peer]),this.flushSendMessages()),this.stopStep=!0,this.room_="",this.peer_="",null===(e=this.relaySocket)||void 0===e||e.close(),this.relaySocket=void 0}},{key:"updateAudioLevel",value:function(){On.local.trackStates.micMuted?On.local.setAudioLevel(0):On.local.setAudioLevel(this.audioMeter.getAudioLevel())}},{key:"step",value:function(){var e,t=this;if((null===(e=this.relaySocket)||void 0===e?void 0:e.readyState)===WebSocket.OPEN){for(var n=Date.now()+40;Date.now()<n&&this.receivedMessages.length;){var i=this.receivedMessages.shift();i&&this.sync.onBmMessage([i])}var o=(to=Math.min(Math.max(this.relayRttAverage-20,0)+20,3e3))+2e4,a=Date.now();if(a<n&&this.relaySocket&&!this.receivedMessages.length&&a-this.lastRequestTime>to&&(this.lastReceivedTime>=this.lastRequestTime||a-this.lastRequestTime>o)){this.lastRequestTime=a;var r=Ji.recording?[-1e4,1e4,1e4,-1e4]:la.visibleArea();this.pushOrUpdateMessageViaRelay(Rn.REQUEST_RANGE,[r,On.audibleArea()]),this.updateAudioLevel(),this.flushSendMessages()}}this.stopStep?this.stopStep=!1:setTimeout((function(){t.step()}),50)}},{key:"sendMessage",value:function(e,t,n,i){this.pushOrUpdateMessageViaRelay(e,t,n,i)}},{key:"pushOrUpdateMessageViaRelay",value:function(e,t,n,i){if(r(config.bmRelayServer),this.relaySocket&&this.relaySocket.readyState===WebSocket.OPEN)if(this.room&&this.peer){var o={t:e,v:""};i&&(o.r=this.room,o.p=this.peer),n&&(o.d=n);var s=this.messagesToSendToRelay.findIndex((function(e){return e.t===o.t&&e.r===o.r&&e.p===o.p&&e.d===o.d}));if(s>=0)if(no.has(o.t)){var c,l=JSON.parse(this.messagesToSendToRelay[s].v),u=Object(a.a)(t);try{var d=function(){var e=c.value;l.findIndex((function(t){return t===e}))<0&&l.push(e)};for(u.s();!(c=u.n()).done;)d()}catch(f){u.e(f)}finally{u.f()}this.messagesToSendToRelay[s].v=JSON.stringify(l)}else if(Tn.has(o.t)){var p,v=JSON.parse(this.messagesToSendToRelay[s].v),h=Object(a.a)(t);try{var b=function(){var e=p.value,t=v.findIndex((function(t){return t.id===e.id}));t>=0?v[t]=e:v.push(e)};for(h.s();!(p=h.n()).done;)b()}catch(f){h.e(f)}finally{h.f()}this.messagesToSendToRelay[s].v=JSON.stringify(v)}else o.v=JSON.stringify(t),this.messagesToSendToRelay[s]=o;else o.v=JSON.stringify(t),this.messagesToSendToRelay.push(o);Ji.recording&&(o.p=this.peer,Ji.recordMessage(o))}else console.warn("Relay Socket: Not connected. room:".concat(this.room," id:").concat(this.peer,"."))}},{key:"flushSendMessages",value:function(){var e,t,n=this;0!==this.messagesToSendToRelay.length&&((null===(e=this.relaySocket)||void 0===e?void 0:e.readyState)===WebSocket.OPEN?(this.relaySocket.send(JSON.stringify(this.messagesToSendToRelay)),this.messagesToSendToRelay=[]):null===(t=this.relaySocket)||void 0===t||t.addEventListener("open",(function(){!function e(){var t,i;(null===(t=n.relaySocket)||void 0===t?void 0:t.readyState)!==WebSocket.OPEN?setTimeout(e,100):(null===(i=n.relaySocket)||void 0===i||i.send(JSON.stringify(n.messagesToSendToRelay)),n.messagesToSendToRelay=[])}()})))}}]),e}(),so=console.log;console.debug;function co(e){return"avatar"===e.role?e.peer.peer:e.role}function lo(e){if("avatar"===e.role){var t=On.getRemote(e.peer.peer);return t?{id:e.peer.peer,producer:e,onStage:"audio"===e.kind&&(t.physics.onStage||On.yarnPhones.has(t.id)||t.inLocalsZone),pose:Object(wn.a)({},t.pose),size:[0,0],offset:0,priority:0,muted:"audio"===e.kind?t.muteAudio:t.muteVideo}:void 0}if("mainScreen"===e.role)return{id:e.role,producer:e,onStage:!0,pose:{position:[0,0],orientation:0},size:[0,0],offset:-6e3,priority:0,muted:!1};var n=ea.find(e.role);return n?{id:e.role,producer:e,onStage:!1,pose:Object(wn.a)({},n.pose),size:n.size,offset:"video"===e.kind?-600:0,priority:0,muted:!1}:void 0}function uo(e){return{id:e.id,pose:Object(wn.a)({},e.pose),onStage:!1}}function po(e,t){return{videos:e.videos.filter((function(e){return!t.videos.find((function(t){return e.id===t.id}))})),audios:e.audios.filter((function(e){return!t.audios.find((function(t){return e.id===t.id}))}))}}function vo(e){return[].concat(Object(p.a)(e.audios),Object(p.a)(e.videos))}var ho=(io=fe.h.ref,oo=function(){function e(t){var n=this;Object(X.a)(this,e),this.local=void 0,this.updateAll=!0,this.updateSet=new Set,this.limits=[-1,-1],this.limitUpdated=!1,this.priorityMaps=[new Map,new Map],this.lastContentVideos=[],this.lastParticipantVideos=[],this.lastAudios=[],Object(J.a)(this,"tracksToConsume",ao,this),this.disposers=[],this._enabled=!1,this.conference=void 0,this.UPDATE_INTERVAL=500,this.intervalId=0,this.remoteDisposers=new Map;this.conference=t;var i=void 0;this.conference.rtcConnection.addListener("connect",(function(){n.enable(),i=window.setInterval((function(){n.update()}),500)})),this.conference.rtcConnection.addListener("disconnect",(function(){n.disable(),void 0!==i&&clearInterval(i)})),Object(fe.c)((function(){var e=On.local;n.setLimits([e.remoteVideoLimit,e.remoteAudioLimit])})),this.local=uo(On.local),Object(fe.g)(this)}return Object(V.a)(e,[{key:"clear",value:function(){this.disable(),this.updateAll=!0,this.updateSet.clear(),this.priorityMaps.forEach((function(e){return e.clear()})),this.tracksToConsume={videos:[],audios:[]},this.lastContentVideos=[],this.lastParticipantVideos=[],this.lastAudios=[]}},{key:"setLimits",value:function(e){this.limits[0]=e[0],this.limits[1]=e[1],this.limitUpdated=!0}},{key:"enable",value:function(){var e=this,t=Object(fe.c)((function(){var t=On.local;e.local=uo(t),e.updateAll=!0}));this.disposers=[t],this.intervalId=window.setInterval((function(){e.update()}),this.UPDATE_INTERVAL),this.updateAll=!0,this._enabled=!0}},{key:"disable",value:function(){window.clearInterval(this.intervalId),this.intervalId=0,this.disposers.forEach((function(e){return e()})),this._enabled=!1}},{key:"update",value:function(){this.haveUpdates&&(this.calcPriority(),this.updateAll=!1,this.updateSet.clear(),this.limitUpdated=!1)}},{key:"calcPriority",value:function(){var e=this,t=[];this.conference.remotePeers.forEach((function(n){var i,o=Object(a.a)(n.producers);try{for(o.s();!(i=o.n()).done;){var r=i.value,s=co(r);if(e.updateAll||e.updateSet.has(s))if("mainScreen"===r.role)t.push(r);else{var c=lo(r);c&&(c.priority=e.calcPriorityValue(e.local,c),e.priorityMaps["video"===r.kind?0:1].set(s,c))}}}catch(l){o.e(l)}finally{o.f()}}));for(var n=this.priorityMaps.map((function(e){return Array.from(e.values()).sort((function(e,t){return e.priority-t.priority}))})),i=0,o=t;i<o.length;i++){var r=o[i],s=lo(r);s&&(n["video"===r.kind?0:1].unshift(s),this.conference.removeLocalTrackByRole("mainScreen"))}var c=n[0].filter((function(e){return!e.muted}));c.length>this.limits[0]&&(c.length=this.limits[0]);var l=n[1].filter((function(e){return!e.muted}));c.length>this.limits[1]&&(c.length=this.limits[1]),this.tracksToConsume={videos:c,audios:l}}},{key:"calcPriorityValue",value:function(e,t){if(t.onStage)return 0;var n=t.size.map((function(n,i){var o=t.pose.position[i]-e.pose.position[i];return o<0&&(o+=n)>0&&(o=0),o}));return Math.sqrt(n[0]*n[0]+n[1]*n[1])+t.offset}},{key:"haveUpdates",get:function(){return this.updateAll||0!==this.updateSet.size||this.limitUpdated}},{key:"onRemoveProducer",value:function(e){var t=e.peer.producers.filter((function(t){return t.role===e.role})),n=co(e),i="audio"===e.kind?1:0;this.priorityMaps[i].delete(n),0===t.length?"mainScreen"!==n&&this.onRemoveObject(n):this.updateSet.add(n)}},{key:"onRemoveObject",value:function(e){var t=this.remoteDisposers.get(e);if(void 0===t)throw new Error("Cannot find disposer for remote object with id: ".concat(e));t(),this.remoteDisposers.delete(e),this.updateSet.add(e),so("onRemoveObject:",e,this.priorityMaps[0])}},{key:"onAddProducer",value:function(e){var t=this,n=co(e);this.remoteDisposers.has(n)?this.updateSet.add(n):"avatar"===e.role?this.remoteDisposers.set(n,Object(fe.c)((function(){var e=On.remote.get(n);if(e){e.physics.onStage||On.yarnPhones.has(e.id),e.pose.position;t.updateSet.add(n)}}))):"mainScreen"===e.role?this.updateSet.add(n):this.remoteDisposers.set(n,Object(fe.c)((function(){var e=ea.roomContents.get(n);if(function(e){return e&&("camera"===e.type||"screen"===e.type)}(e))e.pose.position;t.updateSet.add(n)})))}}]),e}(),ao=Object(K.a)(oo.prototype,"tracksToConsume",[io],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{videos:[],audios:[]}}}),oo);function bo(e,t){return e.kind===t.kind&&e.role===t.role}var fo=new Set(Mn);function mo(e){var t;return null===e||void 0===e||null===(t=e.transport)||void 0===t?void 0:t.appData.stat}fo.add(Pn.CONTENT_UPDATE_REQUEST_BY_ID),fo.add(Pn.REQUEST_PARTICIPANT_STATES);var go,Ao,jo,Oo,yo,xo,Co,wo,So,ko,Io,To,Eo,Mo,Po,Ro,Do,Bo,No,zo,Fo,Qo,Lo,Uo=new(function(){function e(){var t=this;Object(X.a)(this,e),this.room_="",this.rtcConnection_=new xi,this.remotePeers_=new Map,this.localProducers=[],this.sendTransport_=void 0,this.priorityCalculator=void 0,this.dataConnection_=new ro,this.localMicTrack=void 0,this.localCameraTrack=void 0,this.rtcConnection.addListener("remoteUpdate",this.onRemoteUpdate.bind(this)),this.rtcConnection.addListener("remoteLeft",this.onRemoteLeft.bind(this)),this.priorityCalculator=new ho(this);var n={videos:[],audios:[]};Object(fe.c)((function(){var e,i=vo(po(t.priorityCalculator.tracksToConsume,n)),o=vo(po(n,t.priorityCalculator.tracksToConsume)),r=Object(a.a)(i);try{for(r.s();!(e=r.n()).done;){var s=e.value;s.producer.consumer||t.addConsumer(s.producer)}}catch(d){r.e(d)}finally{r.f()}var c,l=Object(a.a)(o);try{for(l.s();!(c=l.n()).done;){var u=c.value;t.removeConsumer(u.producer)}}catch(d){l.e(d)}finally{l.f()}n=t.priorityCalculator.tracksToConsume}))}return Object(V.a)(e,[{key:"room",get:function(){return this.room_}},{key:"rtcConnection",get:function(){return this.rtcConnection_}},{key:"remotePeers",get:function(){return this.remotePeers_}},{key:"dataConnection",get:function(){return this.dataConnection_}},{key:"isDataConnected",value:function(){return this.dataConnection.isConnected()}},{key:"isRtcConnected",value:function(){return this.rtcConnection.isConnected()}},{key:"enter",value:function(e){var t=this,n=new Promise((function(n,i){var o=window.localStorage.getItem("kickTimes");if(o){var a=JSON.parse(o).find((function(e){return e.room===t.room}));if(a){if(Date.now()-a.time<9e5)return window.location.reload(),void i("kicked")}}var r=On.local.information.name.substring(0,4);t.rtcConnection.connect(e,r).then((function(o){for(var a in On.setLocalId(o),On.local.devicePreference)void 0===On.local.devicePreference[a]&&(On.local.devicePreference[a]="");t.dataConnection.connect(e,o).then((function(){t.dataConnection.sync.sendAllAboutMe(!0),n()})).catch(i)})).catch(i)}));return d.conference=this,n}},{key:"leave",value:function(){this.dataConnection.disconnect(),this.rtcConnection.disconnect(),this.room_=""}},{key:"createTransport",value:function(e,t){var n=this;return"receive"!==e||t||console.error("createTransport(); remote must be specified for receive transport."),new Promise((function(i,o){n.rtcConnection.createTransport(e,null===t||void 0===t?void 0:t.peer).then((function(s){s.on("connect",(function(e,i,a){var r=e.dtlsParameters;n.rtcConnection.connectTransport(s,r,null===t||void 0===t?void 0:t.peer).then((function(){i()})).catch((function(e){console.error("error in connecting transport:".concat(e)),o()}))})),"send"===e&&s.on("produce",(function(e,t,i){var a=e.kind,r=e.rtpParameters,c=e.appData,l=c.track;n.rtcConnection.produceTransport({transport:s.id,kind:a,role:l.role,rtpParameters:r,paused:!1,appData:c}).then((function(e){t({id:e})})).catch((function(e){console.error("error setting up server-side producer",e),i(e),o()}))})),s.on("connectionstatechange",(function(i){if("receive"===e&&"connected"===i){r(t);var o,s=Array.from(t.producers.values()).map((function(e){return e.consumer})).filter((function(e){return e})),c=Object(a.a)(s);try{for(c.s();!(o=c.n()).done;){var l=o.value;n.rtcConnection.resumeConsumer(l.id,t.peer),l.resume()}}catch(u){c.e(u)}finally{c.f()}}})),i(s)})).catch(o)}))}},{key:"getSendTransport",value:function(){var e=this;return new Promise((function(t,n){e.sendTransport?t(e.sendTransport):e.createTransport("send").then((function(n){e.sendTransport_=n,t(n)})).catch(n)}))}},{key:"getReceiveTransport",value:function(e){var t=this;return new Promise((function(n,i){e.transport?n(e.transport):t.createTransport("receive",e).then((function(t){e.transport=t,n(t)})).catch(i)}))}},{key:"sendTransport",get:function(){return this.sendTransport_}},{key:"sendTransportStat",get:function(){var e;return null===(e=this.sendTransport_)||void 0===e?void 0:e.appData.stat}},{key:"addOrReplaceLocalTrack",value:function(e,t){var n=this;return new Promise((function(i,o){"avatar"===e.role?"audio"===e.track.kind?On.local.tracks.audio=e.track:On.local.tracks.avatar=e.track:(ea.addTrack(e.peer,e.role,e.track),"video"===e.track.kind&&e.track.addEventListener("ended",(function(){ea.removeByLocal(e.role)})));var a=n.localProducers.find((function(t){var n=t.appData.track;return n.role===e.role&&n.track.kind===e.track.kind}));a?a.replaceTrack(e).then((function(){a.appData.track=e,i(a)})).catch(o):n.getSendTransport().then((function(o){o.produce({track:e.track,encodings:t?[{maxBitrate:t}]:void 0,appData:{track:e}}).then((function(e){n.localProducers.push(e),i(e)}))}))}))}},{key:"removeLocalTrack",value:function(e){r(e.peer===this.rtcConnection.peer),this.removeLocalTrackByRole(e.role,e.track.kind)}},{key:"removeLocalTrackByRole",value:function(e,t){var n=this;"avatar"===e?("audio"!==t&&t||(On.local.tracks.audio=void 0),"video"!==t&&t||(On.local.tracks.avatar=void 0)):ea.removeTrack(this.rtcConnection.peer,e,t),this.localProducers.forEach((function(i){var o=i.appData.track;o.role!==e||t&&t!==o.track.kind||(i.close(),n.rtcConnection.closeProducer(i.id),n.localProducers=n.localProducers.filter((function(e){return e!==i})))}))}},{key:"closeTrack",value:function(e,t,n){var i=this;return new Promise((function(o,a){var r=i.remotePeers.get(e);if(r){var s=0;r.producers.forEach((function(e){e.role!==t||n&&e.kind!==n||(s++,i.getConsumer(e).then((function(e){e.close(),0===--s&&o()})))}))}else a()}))}},{key:"getConsumer",value:function(e){var t=this;return new Promise((function(n,i){e.consumer?n(e.consumer):t.getReceiveTransport(e.peer).then((function(o){t.rtcConnection.consumeTransport(o.id,e).then((function(a){o.consume(a).then((function(i){e.consumer=i,"connected"===o.connectionState&&t.rtcConnection.resumeConsumer(i.id,e.peer.peer).then((function(){})),n(i)})).catch(i)})).catch(i)})).catch(i)}))}},{key:"setLocalMicTrack",value:function(e){var t=this;return new Promise((function(n,i){e!==t.localMicTrack?(t.localMicTrack&&t.removeLocalTrack(t.localMicTrack),t.localMicTrack=e,t.dataConnection.audioMeter.setSource(t.localMicTrack),e?t.addOrReplaceLocalTrack(e,98304).then((function(){n()})).catch(i):n()):n()}))}},{key:"doSetLocalCameraTrack",value:function(e){var t=this;return new Promise((function(n,i){t.localCameraTrack=e,t.localCameraTrack?t.addOrReplaceLocalTrack(t.localCameraTrack,131072).then(n).catch(i):n()}))}},{key:"setLocalCameraTrack",value:function(e){var t=this;return new Promise((function(n,i){e?e===t.localCameraTrack?n():(t.localCameraTrack&&t.removeLocalTrack(t.localCameraTrack),t.doSetLocalCameraTrack(e).then((function(){n()}))):t.localCameraTrack?(t.removeLocalTrack(t.localCameraTrack),t.doSetLocalCameraTrack(e).then((function(){n()}))):n()}))}},{key:"getLocalMicTrack",value:function(){return this.localMicTrack}},{key:"getLocalCameraTrack",value:function(){return this.localCameraTrack}},{key:"onRemoteUpdate",value:function(e){var t,n=this,i=e[0],o=Object(a.a)(i);try{var r=function(){var e=t.value;if(e.peer===n.rtcConnection.peer)return"continue";var i=n.remotePeers.get(e.peer);if(i){var o,r=[],s=i.producers.filter((function(t){return!e.producers.find((function(e){return bo(t,e)}))})),c=Object(a.a)(e.producers);try{var l=function(){var e=o.value,t=i.producers.find((function(t){return bo(t,e)}));t?t.id!==e.id&&(r.push(e),s.push(t)):r.push(e)};for(c.s();!(o=c.n()).done;)l()}catch(v){c.e(v)}finally{c.f()}var u=r.map((function(e){return Object(wn.a)(Object(wn.a)({},e),{},{peer:i})}));s.length&&n.onProducerRemoved(s,i),u.length&&n.onProducerAdded(u,i)}else{var d={peer:e.peer,producers:[]},p=e.producers.map((function(e){return Object(wn.a)(Object(wn.a)({},e),{},{peer:d})}));n.remotePeers.set(e.peer,d),n.onProducerAdded(p,d)}};for(o.s();!(t=o.n()).done;)r()}catch(s){o.e(s)}finally{o.f()}}},{key:"onRemoteLeft",value:function(e){var t,n=e[0],i=Object(a.a)(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o!==this.rtcConnection.peer){var r=this.remotePeers.get(o);r&&this.onProducerRemoved(r.producers,r),this.remotePeers.delete(o),On.leave(o)}}}catch(s){i.e(s)}finally{i.f()}}},{key:"onProducerAdded",value:function(e,t){var n,i=Object(p.a)(e);(n=t.producers).push.apply(n,Object(p.a)(i));var o,r=Object(a.a)(i);try{for(r.s();!(o=r.n()).done;){var s=o.value;this.priorityCalculator.onAddProducer(s)}}catch(c){r.e(c)}finally{r.f()}}},{key:"onProducerRemoved",value:function(e,t){var n=Object(p.a)(e);t.producers=t.producers.filter((function(e){return n.find((function(t){return!bo(e,t)}))}));var i,o=Object(a.a)(e);try{for(o.s();!(i=o.n()).done;){var r=i.value;this.removeConsumer(r),this.priorityCalculator.onRemoveProducer(r)}}catch(s){o.e(s)}finally{o.f()}}},{key:"addConsumer",value:function(e){this.getConsumer(e).then((function(t){"avatar"===e.role?On.addRemoteTrack(e.peer.peer,t.track):ea.addTrack(e.peer.peer,e.role,t.track)})).catch((function(e){console.error("conference.onProducerAdded(): ".concat(e))}))}},{key:"removeConsumer",value:function(e){e.consumer&&(e.consumer.close(),e.consumer=void 0,"avatar"===e.role?On.removeRemoteTrack(e.peer.peer,e.kind):ea.removeTrack(e.peer.peer,e.role,e.kind))}}]),e}()),Go=function(e){},Yo=35;function Ho(e,t){return e.zorder-t.zorder}var Wo=new(go=fe.h.shallow,Ao=fe.h.shallow,jo=fe.h.shallow,Oo=fe.h.shallow,yo=fe.h.shallow,xo=fe.h.shallow,Co=fe.h.ref,wo=fe.h.deep,So=fe.h.ref,ko=function(e){Object(Ae.a)(n,e);var t=Object(je.a)(n);function n(){var e;Object(X.a)(this,n),(e=t.call(this)).contentIdCounter=0,e.beforeChangeEditing=void 0,Object(J.a)(e,"pasteEnabled",Io,Object(ge.a)(e)),Object(J.a)(e,"editing",To,Object(ge.a)(e)),Object(J.a)(e,"all",Eo,Object(ge.a)(e)),e.sorted=[],Object(J.a)(e,"zones",Mo,Object(ge.a)(e)),Object(J.a)(e,"closedZones",Po,Object(ge.a)(e)),Object(J.a)(e,"roomContents",Ro,Object(ge.a)(e)),Object(J.a)(e,"roomContentsInfo",Do,Object(ge.a)(e)),Object(J.a)(e,"playbackContents",Bo,Object(ge.a)(e)),Object(J.a)(e,"mainScreenStream",No,Object(ge.a)(e)),Object(J.a)(e,"mainScreenOwner",zo,Object(ge.a)(e)),Object(J.a)(e,"contentTracks",Fo,Object(ge.a)(e)),Object(J.a)(e,"pasted",Qo,Object(ge.a)(e)),e.wallpapers="",Object(J.a)(e,"screenFps",Lo,Object(ge.a)(e)),Object(fe.g)(Object(ge.a)(e));var i=localStorage.getItem("screenFps");return i&&(e.screenFps=JSON.parse(i)),Object(fe.c)((function(){localStorage.setItem("screenFps",JSON.stringify(e.screenFps))})),Object(fe.c)((function(){var t=On.local.pose.position;On.local.zone=e.zones.find((function(e){return P(t,30,M(e.pose,e.size))}))})),Object(fe.c)((function(){var t=e.closedZones.map((function(e){return{content:e,rect:M(e.pose,e.size)}}));On.remote.forEach((function(e){if(!e.muteAudio&&e.physics.located){var n=t.find((function(t){return P(e.pose.position,30,t.rect)}));e.closedZone=null===n||void 0===n?void 0:n.content}else e.closedZone=void 0}))})),e}return Object(V.a)(n,[{key:"setEditing",value:function(e){e!==this.editing&&this.beforeChangeEditing&&this.beforeChangeEditing(this.editing,e),this.editing=e}},{key:"setBeforeChangeEditing",value:function(e,t){t&&t!==this.editing||(this.beforeChangeEditing=e)}},{key:"getContentTracks",value:function(e){return this.contentTracks.get(e)}},{key:"getContentTrack",value:function(e,t){var n,i=null===(n=this.contentTracks.get(e))||void 0===n?void 0:n.tracks;return null===i||void 0===i?void 0:i.find((function(e){return e.kind===t}))}},{key:"getOrCreateContentTracks",value:function(e,t){this.contentTracks.has(t)||this.contentTracks.set(t,{peer:e,tracks:[]});var n=this.contentTracks.get(t);return e&&(r(!n.peer||n.peer===e),n.peer=e),n}},{key:"addTrack",value:function(e,t,n){if("mainScreen"===t){var i,o=new MediaStream;if(o.addTrack(n),this.mainScreenOwner!==e)this.mainScreenOwner=e,this.mainScreenStream=o;else null===(i=this.mainScreenStream)||void 0===i||i.getTracks().forEach((function(e){o.addTrack(e)})),this.mainScreenStream=o}else{this.getOrCreateContentTracks(e,t).tracks.push(n)}}},{key:"removeTrack",value:function(e,t,n){if("mainScreen"===t){if(this.mainScreenOwner===e){var i,o,a=new MediaStream;if(n)if("audio"===n)null===(i=this.mainScreenStream)||void 0===i||i.getVideoTracks().forEach(a.addTrack);else null===(o=this.mainScreenStream)||void 0===o||o.getAudioTracks().forEach(a.addTrack);a.getTracks().length?this.mainScreenStream=a:this.mainScreenStream=void 0,this.mainScreenOwner=void 0}}else{var r,s=null===(r=this.contentTracks.get(t))||void 0===r?void 0:r.tracks;if(s)if(n){var c=s.findIndex((function(e){return e.kind===n}));c>=0&&(s[c].stop(),s.splice(c,1))}else s.forEach((function(e){e.stop()})),s.length=0;else console.error("removeRemoteTrack(): tracks for content ".concat(t," not found."))}}},{key:"getAllRtcContentIds",value:function(){return Array.from(this.contentTracks.keys())}},{key:"getLocalRtcContentIds",value:function(){var e=this;return Array.from(this.contentTracks.keys()).filter((function(t){return e.contentTracks.get(t).peer===Uo.rtcConnection.peer}))}},{key:"getRemoteRtcContentIds",value:function(){var e=this;return Array.from(this.contentTracks.keys()).filter((function(t){return e.contentTracks.get(t).peer!==Uo.rtcConnection.peer}))}},{key:"setPasted",value:function(e){console.log("setPasted:",e),this.pasted=e}},{key:"sharePasted",value:function(){this.shareContent(this.pasted),this.pasted=ti()}},{key:"shareContent",value:function(e){hi(e),this.addLocalContent(e)}},{key:"assignId",value:function(e){e.id||(e.id=this.getUniqueId())}},{key:"updatePlayback",value:function(e){e.playback=!0,this.playbackContents.set(e.id,e),this.updateAll()}},{key:"removePlayback",value:function(e){this.playbackContents.delete(e),this.updateAll()}},{key:"findPlayback",value:function(e){return this.playbackContents.get(e)}},{key:"getOrCreatePlayback",value:function(e){var t=this.findPlayback(e);return t||((t=ke.a.cloneDeep($n)).id=e,this.playbackContents.set(e,t)),t}},{key:"find",value:function(e){return this.roomContents.get(e)}},{key:"updateAll",value:function(){var e=[];Object.assign(e,Array.from(this.roomContents.values())),e.push.apply(e,Object(p.a)(Array.from(this.playbackContents.values())));var t=Array.from(e).sort(Ho);t.forEach((function(e,t){e.zIndex=t+1})),this.all=e,this.sorted=t,this.zones=this.sorted.filter((function(e){return void 0!==e.zone})).reverse(),this.closedZones=this.zones.filter((function(e){return"close"===e.zone}))}},{key:"getWallpaper",value:function(){var e=this.sorted.findIndex((function(e){return!Ln(e)}));return e<0&&(e=this.sorted.length),this.sorted.slice(0,e)}},{key:"addLocalContent",value:function(e){this.assignId(e),this.updateByLocal(e)}},{key:"updateLocalOnly",value:function(e){this.roomContents.set(e.id,e),this.updateAll()}},{key:"updateByLocal",value:function(e){this.roomContents.set(e.id,e),Uo.dataConnection.sync.sendContentUpdateRequest("",[e]),this.updateAll(),this.roomContentsInfo.set(e.id,e)}},{key:"removeByLocal",value:function(e){if("mainScreen"===e)this.mainScreenOwner===Uo.rtcConnection.peer&&Uo.removeLocalTrackByRole("mainScreen");else{var t=this.roomContents.get(e);t&&(this.disposeContent(t),this.roomContents.delete(e)),Uo.dataConnection.sync.sendContentRemoveRequest("",[e]),this.roomContentsInfo.delete(e)}this.updateAll()}},{key:"requestContent",value:function(e){Uo.dataConnection.pushOrUpdateMessageViaRelay(Rn.CONTENT_UPDATE_REQUEST_BY_ID,e)}},{key:"updateByRemoteRequest",value:function(e){var t,n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.roomContents.set(i.id,i),"screen"!==i.type&&"camera"!==i.type||this.onUpdateScreenContent(i)}}catch(o){n.e(o)}finally{n.f()}this.updateAll()}},{key:"removeByRemoteRequest",value:function(e){var t,n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,o=this.roomContents.get(i);o?(this.disposeContent(o),this.roomContents.delete(i)):Wo.editing===i&&(Wo.editing=""),Wo.roomContentsInfo.delete(i)}}catch(r){n.e(r)}finally{n.f()}this.updateAll()}},{key:"clearAllRemotes",value:function(){this.roomContents.clear(),this.roomContentsInfo.clear()}},{key:"removeAllContents",value:function(){var e=Array.from(this.roomContentsInfo.keys());Uo.dataConnection.sync.sendContentRemoveRequest("",e),this.roomContents.clear(),this.roomContentsInfo.clear(),this.updateAll()}},{key:"getUniqueId",value:function(){for(var e=On.localId;;){this.contentIdCounter+=1;var t="".concat(e,"_").concat(this.contentIdCounter);if(!this.roomContents.has(t)&&!On.remote.has(t))return t}return""}},{key:"disposeContent",value:function(e){if(e.id===this.editing&&this.setEditing(""),"screen"===e.type||"camera"===e.type){var t=this.contentTracks.get(e.id);null!==t&&void 0!==t&&t.peer&&(t.peer===On.localId?Uo.removeLocalTrackByRole(e.id):Uo.closeTrack(t.peer,e.id),this.contentTracks.delete(e.id))}}},{key:"onUpdateScreenContent",value:function(e){}},{key:"setScreenFps",value:function(e){this.screenFps=e}}]),n}(Yn.EventEmitter),Object(K.a)(ko.prototype,"setEditing",[fe.b],Object.getOwnPropertyDescriptor(ko.prototype,"setEditing"),ko.prototype),Io=Object(K.a)(ko.prototype,"pasteEnabled",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),To=Object(K.a)(ko.prototype,"editing",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Eo=Object(K.a)(ko.prototype,"all",[go],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Mo=Object(K.a)(ko.prototype,"zones",[Ao],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Po=Object(K.a)(ko.prototype,"closedZones",[jo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ro=Object(K.a)(ko.prototype,"roomContents",[Oo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Do=Object(K.a)(ko.prototype,"roomContentsInfo",[yo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Bo=Object(K.a)(ko.prototype,"playbackContents",[xo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),No=Object(K.a)(ko.prototype,"mainScreenStream",[Co],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zo=Object(K.a)(ko.prototype,"mainScreenOwner",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fo=Object(K.a)(ko.prototype,"contentTracks",[wo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Qo=Object(K.a)(ko.prototype,"pasted",[So],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ti()}}),Object(K.a)(ko.prototype,"setPasted",[fe.b],Object.getOwnPropertyDescriptor(ko.prototype,"setPasted"),ko.prototype),Object(K.a)(ko.prototype,"sharePasted",[fe.b],Object.getOwnPropertyDescriptor(ko.prototype,"sharePasted"),ko.prototype),Object(K.a)(ko.prototype,"shareContent",[fe.b],Object.getOwnPropertyDescriptor(ko.prototype,"shareContent"),ko.prototype),Object(K.a)(ko.prototype,"updatePlayback",[fe.b],Object.getOwnPropertyDescriptor(ko.prototype,"updatePlayback"),ko.prototype),Object(K.a)(ko.prototype,"removePlayback",[fe.b],Object.getOwnPropertyDescriptor(ko.prototype,"removePlayback"),ko.prototype),Lo=Object(K.a)(ko.prototype,"screenFps",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),Object(K.a)(ko.prototype,"setScreenFps",[fe.b],Object.getOwnPropertyDescriptor(ko.prototype,"setScreenFps"),ko.prototype),ko);d.contents=Wo;var Jo,Ko,Vo,Xo,Zo,qo,_o,$o,ea=Wo,ta=.2,na=5,ia=.5,oa=new(Jo=function(){function e(){Object(X.a)(this,e),Object(J.a)(this,"matrix",Ko,this),Object(J.a)(this,"committedMatrix",Vo,this),Object(J.a)(this,"matrixBeforeZoom",Xo,this),Object(J.a)(this,"screenSize",Zo,this),Object(J.a)(this,"left",qo,this),Object(J.a)(this,"mouse",_o,this),Object(J.a)(this,"mouseOnMap",$o,this),this.keyInputUsers=new Set,Object(fe.g)(this),this.loadMatrixFromStorage()}return Object(V.a)(e,[{key:"offset",get:function(){return[-(this.left+this.screenSize[0]*ia),-this.screenSize[1]*ia]}},{key:"offsetFromElement",get:function(){return[-this.screenSize[0]*ia,-this.screenSize[1]*ia]}},{key:"rotation",get:function(){return w(b(this.committedMatrix))}},{key:"setMatrix",value:function(e){this.matrix=e,this.updateViewpoint(e)}},{key:"updateViewpoint",value:function(e){var t=v(e),n=this.screenSize[0]/t;On.local.viewpoint.height=n,On.local.updateViewpointCenter(this)}},{key:"setCommittedMatrix",value:function(e){var t=this.toWindow(this.mouseOnMap);this.committedMatrix=e,this.mouseOnMap=this.fromWindow(t),this.saveMatrixToStorage(!1),this.matrixBeforeZoom=void 0,this.updateViewpoint(e)}},{key:"setScreenSize",value:function(e){this.screenSize[0]=e[0],this.screenSize[1]=e[1],this.updateViewpoint(this.committedMatrix)}},{key:"setLeft",value:function(e){this.left=e}},{key:"setMouse",value:function(e){this.mouse=A(e,this.offset),this.mouseOnMap=m(this.matrix.inverse(),this.mouse)}},{key:"focusOn",value:function(e){var t=this.matrix.inverse(),n=j(e.pose.position,[t.e,t.f]),i=(new DOMMatrix).translate(-n[0],-n[1]).preMultiplySelf(this.matrix);this.setMatrix(i),this.setCommittedMatrix(i)}},{key:"zoomTo",value:function(e){var t=this.matrix,n=Array.from(e.size);n[1]+=Yo;var i=[oa.screenSize[0]/n[0],oa.screenSize[1]/n[1]],o=Math.max(Math.min(i[0],i[1],na),ta),a=v(t),r=t.inverse(),s=j(e.pose.position,[r.e,r.f]),c=n[0]/2,l=this.screenSize[1]/o/2-Yo,u=(new DOMMatrix).translate(-s[0]-c,-s[1]-l).preMultiplySelf(t).preMultiplySelf((new DOMMatrix).scale(o/a));console.log("newScale:".concat(o," old").concat(a,"  newMat scaleX=").concat(v(u))),this.setMatrix(u),this.setCommittedMatrix(u),this.matrixBeforeZoom=t,console.log("zoomTo: before: ".concat(this.matrixBeforeZoom))}},{key:"restoreZoom",value:function(){this.matrixBeforeZoom&&(this.setMatrix(this.matrixBeforeZoom),this.setCommittedMatrix(this.matrixBeforeZoom))}},{key:"zoomed",get:function(){return void 0!==this.matrixBeforeZoom}},{key:"centerOnMap",get:function(){return m(this.matrix.inverse(),[0,0])}},{key:"toWindow",value:function(e){return j(m(this.matrix,e),this.offset)}},{key:"fromWindow",value:function(e){return m(this.matrix.inverse(),A(e,this.offset))}},{key:"toElement",value:function(e){return j(m(this.matrix,e),this.offsetFromElement)}},{key:"rotateFromWindow",value:function(e){return g(this.matrix.inverse(),e)}},{key:"rotateToWindow",value:function(e){return g(this.matrix,e)}},{key:"visibleArea",value:function(){var e=this.fromWindow([0,0]),t=this.fromWindow(this.screenSize);return[e[1]-60,t[0]+60,t[1]+60,e[0]-60]}},{key:"saveMatrixToStorage",value:function(e){var t=sessionStorage;e&&(t=localStorage);var n=[this.matrix.a,this.matrix.b,this.matrix.c,this.matrix.d,this.matrix.e,this.matrix.f];t.setItem("mapMatrix",JSON.stringify(n))}},{key:"loadMatrixFromStorage",value:function(){var e=localStorage;sessionStorage.getItem("mapMatrix")&&(e=sessionStorage);var t=e.getItem("mapMatrix");if(t){var n=JSON.parse(t),i=new DOMMatrix;i.a=n[0],i.b=n[1],i.c=n[2],i.d=n[3],i.e=n[4],i.f=n[5],this.setMatrix(i),this.setCommittedMatrix(i)}}}]),e}(),Ko=Object(K.a)(Jo.prototype,"matrix",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new DOMMatrixReadOnly}}),Vo=Object(K.a)(Jo.prototype,"committedMatrix",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new DOMMatrixReadOnly}}),Xo=Object(K.a)(Jo.prototype,"matrixBeforeZoom",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zo=Object(K.a)(Jo.prototype,"screenSize",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[0,0]}}),Object(K.a)(Jo.prototype,"offset",[fe.d],Object.getOwnPropertyDescriptor(Jo.prototype,"offset"),Jo.prototype),Object(K.a)(Jo.prototype,"offsetFromElement",[fe.d],Object.getOwnPropertyDescriptor(Jo.prototype,"offsetFromElement"),Jo.prototype),Object(K.a)(Jo.prototype,"rotation",[fe.d],Object.getOwnPropertyDescriptor(Jo.prototype,"rotation"),Jo.prototype),qo=Object(K.a)(Jo.prototype,"left",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_o=Object(K.a)(Jo.prototype,"mouse",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[0,0]}}),$o=Object(K.a)(Jo.prototype,"mouseOnMap",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[0,0]}}),Object(K.a)(Jo.prototype,"setMatrix",[fe.b],Object.getOwnPropertyDescriptor(Jo.prototype,"setMatrix"),Jo.prototype),Object(K.a)(Jo.prototype,"setCommittedMatrix",[fe.b],Object.getOwnPropertyDescriptor(Jo.prototype,"setCommittedMatrix"),Jo.prototype),Object(K.a)(Jo.prototype,"setScreenSize",[fe.b],Object.getOwnPropertyDescriptor(Jo.prototype,"setScreenSize"),Jo.prototype),Object(K.a)(Jo.prototype,"setLeft",[fe.b],Object.getOwnPropertyDescriptor(Jo.prototype,"setLeft"),Jo.prototype),Object(K.a)(Jo.prototype,"setMouse",[fe.b],Object.getOwnPropertyDescriptor(Jo.prototype,"setMouse"),Jo.prototype),Object(K.a)(Jo.prototype,"focusOn",[fe.b],Object.getOwnPropertyDescriptor(Jo.prototype,"focusOn"),Jo.prototype),Object(K.a)(Jo.prototype,"zoomTo",[fe.b],Object.getOwnPropertyDescriptor(Jo.prototype,"zoomTo"),Jo.prototype),Object(K.a)(Jo.prototype,"restoreZoom",[fe.b],Object.getOwnPropertyDescriptor(Jo.prototype,"restoreZoom"),Jo.prototype),Object(K.a)(Jo.prototype,"zoomed",[fe.d],Object.getOwnPropertyDescriptor(Jo.prototype,"zoomed"),Jo.prototype),Object(K.a)(Jo.prototype,"centerOnMap",[fe.d],Object.getOwnPropertyDescriptor(Jo.prototype,"centerOnMap"),Jo.prototype),Object(K.a)(Jo.prototype,"loadMatrixFromStorage",[fe.b],Object.getOwnPropertyDescriptor(Jo.prototype,"loadMatrixFromStorage"),Jo.prototype),Jo);d.map=oa;var aa,ra,sa,ca,la=oa,ua=new(aa=function(){function e(){var t=this;Object(X.a)(this,e),Object(J.a)(this,"type",ra,this),Object(J.a)(this,"types",sa,this),Object(J.a)(this,"supressedTypes",ca,this),this.reason="",this.name="",this.videoInputs=[],this.audioInputs=[],this.audioOutputs=[],this.canvas=void 0,this.oscillator=void 0,Object(fe.g)(this),null!==o.testBot&&this.clear(),Object(fe.c)((function(){t.show()?la.keyInputUsers.add("errorDialog"):la.keyInputUsers.delete("errorDialog")})),Object(fe.c)((function(){On.local.physics.awayFromKeyboard&&t.setType("afk")}))}return Object(V.a)(e,[{key:"fatal",get:function(){return!this.type}},{key:"setType",value:function(e,t,n){this.type=e,this.types.add(e),this.reason=n,this.name=t}},{key:"title",get:function(){switch(this.type){case"connection":return ee("etConnection");case"retry":return ee("etRetry");case"noMic":return ee("etNoMic");case"micPermission":return ee("etMicPermission");case"rtcConnection":return ee("etRtcConnection");case"dataConnection":return ee("etDataConnection");case"entrance":return"";case"afk":return ee("afkTitle");case"kicked":return"Kicked by ".concat(this.name,". ").concat(this.reason)}return this.type}},{key:"message",get:function(){switch(this.type){case"connection":return ee("emConnection");case"retry":return ee("emRetry");case"noMic":return ee("emNoMic");case"micPermission":return ee("emMicPermission");case"rtcConnection":return ee("emRtcConnection");case"dataConnection":return ee("emDataConnection");case"entrance":case"kicked":return"";case"afk":return ee("afkMessage")}return"no message defined for ".concat(this.type)}},{key:"show",value:function(){if(""===this.type){var e=function(e,t){var n,i=new Set(e),o=Object(a.a)(t);try{for(o.s();!(n=o.n()).done;){var r=n.value;i.delete(r)}}catch(s){o.e(s)}finally{o.f()}return i}(this.types,this.supressedTypes);e.size&&(this.type=e.values().next().value)}return""!==this.type&&!this.supressedTypes.has(this.type)}},{key:"enumerateDevices",value:function(){var e=this;navigator.mediaDevices.enumerateDevices().then((function(t){e.videoInputs=[],e.audioInputs=[],e.audioOutputs=[],t.forEach((function(t){"videoinput"===t.kind&&e.videoInputs.push(t),"audioinput"===t.kind&&e.audioInputs.push(t),"audiooutput"===t.kind&&e.audioOutputs.push(t)}))})).catch((function(){console.error("Device enumeration error")}))}},{key:"connectionStart",value:function(){var e=this;null!==o.skipEntrance&&(this.clear(),On.local.sendInformation()),this.enumerateDevices(),null===o.testBot?Object(fe.j)((function(){return""===e.type}),(function(){setTimeout(e.checkConnection.bind(e),4e3)})):setTimeout(this.startTestBot.bind(this),3e3)}},{key:"clear",value:function(e){"afk"===this.type&&(On.local.physics.awayFromKeyboard=!1),e?(this.types.delete(e),this.type===e&&(this.type="")):(this.types.clear(),this.type="")}},{key:"checkConnection",value:function(){Uo.isRtcConnected()?Uo.isDataConnected()?(this.clear("rtcConnection"),this.clear("dataConnection"),this.checkMic()):(this.setType("dataConnection"),setTimeout(this.checkConnection.bind(this),5e3)):(this.setType("rtcConnection"),setTimeout(this.checkConnection.bind(this),5e3))}},{key:"checkMic",value:function(){!On.localId||On.local.muteAudio||Uo.getLocalMicTrack()?(On.local.muteAudio&&setTimeout(this.checkMic.bind(this),5e3),this.clear("noMic"),this.clear("micPermission")):(this.audioInputs.length?this.setType("micPermission"):(this.clear("micPermission"),this.setType("noMic")),setTimeout(this.checkMic.bind(this),5e3))}},{key:"startTestBot",value:function(){var e=this;On.local.muteAudio=!1,On.local.muteVideo=!1;var t=0,n=new AudioContext;this.oscillator=n.createOscillator(),this.oscillator.type="triangle";var i=n.createMediaStreamDestination();this.oscillator.connect(i),this.oscillator.start(),this.canvas=document.createElement("canvas");var o=240,a=240;this.canvas.style.width="".concat(o,"px"),this.canvas.style.height="".concat(a,"px");var r=this.canvas.getContext("2d"),s=[Math.random()*Ce/2,(Math.random()-.5)*Ce];setInterval((function(){var i,o,a,s,c;if(r&&n){null===(i=e.oscillator)||void 0===i||i.frequency.setValueAtTime(440+t%440,n.currentTime);var l=["green","blue"],u=null===(o=Uo.priorityCalculator.tracksToConsume.videos[0])||void 0===o?void 0:o.producer,d=null===(a=Uo.priorityCalculator.tracksToConsume.audios[0])||void 0===a?void 0:a.producer;u&&null!==(s=u.consumer)&&void 0!==s&&s.track.muted&&(l[0]="yellow"),d&&null!==(c=d.consumer)&&void 0!==c&&c.track.muted&&(l[1]="red"),r.fillStyle=l[0],r.beginPath(),r.ellipse(151.2,79.2,24,96,t/20,0,2*Math.PI),r.fill(),r.fillStyle=l[1],r.beginPath(),r.ellipse(151.2,79.2,24,96,-t/20,0,2*Math.PI),r.fill(),t+=1}}),50);var c="01234567890ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijlkmnopqrstuvwxyz",l=function(){return c.substr(Math.floor(Math.random()*c.length),1)};On.local.information=re,On.local.information.name="testBot ".concat(l()).concat(l()).concat(l()),On.local.sendInformation(),On.local.pose.position=s;var u=function(){On.local.pose.position=A(s,y(100,[Math.cos(t/60),Math.sin(t/60)]))},d=window;if(d.requestIdleCallback){!function e(){setTimeout((function(){u(),d.requestIdleCallback(e)}),50)}()}else setInterval(u,1e3);var p=this.canvas.captureStream(20).getVideoTracks()[0],v=i.stream.getAudioTracks()[0];Uo.setLocalCameraTrack({track:p,peer:On.local.id,role:"avatar"}),Uo.setLocalMicTrack({track:v,peer:On.local.id,role:"avatar"})}}]),e}(),Object(K.a)(aa.prototype,"fatal",[fe.d],Object.getOwnPropertyDescriptor(aa.prototype,"fatal"),aa.prototype),ra=Object(K.a)(aa.prototype,"type",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"entrance"}}),sa=Object(K.a)(aa.prototype,"types",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Set}}),ca=Object(K.a)(aa.prototype,"supressedTypes",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Set}}),Object(K.a)(aa.prototype,"setType",[fe.b],Object.getOwnPropertyDescriptor(aa.prototype,"setType"),aa.prototype),Object(K.a)(aa.prototype,"title",[fe.d],Object.getOwnPropertyDescriptor(aa.prototype,"title"),aa.prototype),Object(K.a)(aa.prototype,"message",[fe.d],Object.getOwnPropertyDescriptor(aa.prototype,"message"),aa.prototype),Object(K.a)(aa.prototype,"connectionStart",[fe.b],Object.getOwnPropertyDescriptor(aa.prototype,"connectionStart"),aa.prototype),Object(K.a)(aa.prototype,"clear",[fe.b],Object.getOwnPropertyDescriptor(aa.prototype,"clear"),aa.prototype),Object(K.a)(aa.prototype,"checkConnection",[fe.b],Object.getOwnPropertyDescriptor(aa.prototype,"checkConnection"),aa.prototype),Object(K.a)(aa.prototype,"checkMic",[fe.b],Object.getOwnPropertyDescriptor(aa.prototype,"checkMic"),aa.prototype),aa);d.error=ua;var da=ua,pa=n(16),va=n(0),ha=n.n(va),ba=n(110),fa="./static/media/whoo-screen_chat.52e62a85.png",ma="./static/media/people_login.db1eab64.png",ga="data:image/png;base64,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",Aa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJ0AAAAdCAYAAACwlm4OAAAACXBIWXMAAAsSAAALEgHS3X78AAAJeElEQVR4nO1bPY8bRRieO0JANGfAQoAAOxWWiJRL7eLsX4ADhYUEunGB5QbFtDRxfkGcAsm48bp0he8PsLbEFqliSyBZSCi2aC1hF0gpEoJe6xnz+r2Z/TifE7jcI63ubndnduadZ97Pub1nz56pS5w/0r2Op5QqKaWmSqkFPpCalyuHuxL3JNAppZTpf5rLe9Mk7dO9zqrtvFwZ7WSAwCXpdoB0r6OVUh1Hz/fn5Uo97lcngc4qpYjARIQ+/czlvQV7TkQpKKXomzdE8yXaeLm8NxB9FkBQejZK9zpNpdRtvHJ3Xq40diWfK7vq+CXHImT6STUdkekI14oUk0DHbXuglDqmaxLoGbQuES7D3rk9CXRRqSPeaWGXy7e/y85fVszLFdIuN5VSRdIaW4ohkYkMQQbEzVheSYGgzwWXpNsRyC+alytk0prbfCGX98i03lJKdWEuXTghoufy3h5dIP1JyPtjbIhiLu/1n6dsdubTwdcoCVVNu3YAQcbpo4A+uEla9UG+CvdtHG3N+7STaQFHcLY1+lUwhSP4Nk6tAj8ti7GkcHuAtnXc19Bysi0X8gm+r9Emy8YwAFFdc5o6NBWBzOehkQnmOQ3RYMNc3iukex0TfPjs2RhzMlicZ3CxFemqfu2wXWxtDAaTJVJ9GtKUJqWJBLaHIGwT5sAF2vUFWx+TQPcd3++CbK6FuJvLexsONCK6qLGs29sccEG6MYjmJAPIu7EBJoGmfu9EfL+by3ta2WVgtN763u+P3/7+eH79y5imdTgvV1Yb2bbuSXAm81r1a4WqX6Md+ZDfB+EGEYRTiLIeTgJ9yiMG4QYxFpkENUAkJuFy1o8jBHxnEmijAQ3h4owlCW5EjIG+NYIGWgFz5JqHNs+bMKNdPr9JoOuTQMtNT2Qs0cXf/+jq4uu39p7E9eW4DJpVvzat+rXYEQ1HItLRR0A237EQfUfY3sUOlmhaSNMQi2Laf4ufM/bsAO9LeKytzQ9aor+KZVxN8btclBP4Qrb5JMEMYyjip5wXH4dm46D36saMQrPxsdzD5lqP12g/oG5k8ur+06tfvTGPO2Q5XzLznapfW1T9WqPq11KOdqcQK2UCRjdC/AkFDSGJWOG+F7SYx4hpSMOFIrVknfuA6INr2FPhPUxkQ9nNzBK+jzFf3iTQXJtlSGNjzHI+17jZS/c6NOcfXTIJwcm8XCmxxwMkk7kPdszkwuXTsPiyJYf/thRtSTYLmGoip/o89dsv9/9695sIn04JX5N//wBmv171a7RRvHaxFRpxOzUdMRcMniLRKQm3FOkAqWpJpXtcQPC/ZDRXEn/PxN9SaCPxjnMjANL36POAAaZIkusw3etIMo+ln4WgYcxu2Uy9DaeSw/NyZQFLsQaZd1gCPsdTgQpkbIuS645ga93H/t6z6z9/MJQyosBhwC/xvCnmrRj5HlX9mlf1a05ZnNJ0UJN1XDZ7P8NHidE8UpIaasAiSI4pCGv6PiDBcs0jHOaNCVsWISlGrK9DYYoMRixCNbhBEey8XJGRd1gi2IaZJK+QDUdKjGMITZUCcY6wHiWL3Ah9zLEPmZGJJN9uimSxkWOihHW72KI1OSTfHhZFbtpVQrrq17rgycYarkkHZjYci6DA7Ga72LKlO2yDdpWBbMgagZNphEk0GnAEc2BC+22der6rbYQhDb2YK7VI9zpLsfE66V6ngT5GGHOT9RUnJxdmeqIiQtOWyyEDk1uaBHrMXBdD0BIj1xHaDtDXNpvXkK8Qwh1DPiJ7w5DvCjRbM4RsGw2eEw5hVrcSShSw428xc9fgNUrcl5sng4trdlrsxjnksqK0ZlR1YspId65Fe7gbU5uWhg9HQabxpWVaisjuV/3aylfcxwLbCEeq8Vq72CrsmHBLYfI8hw+5E1A2npKkuDbmCVN6K0akSgvtI4G8Sxh3ZcTybjMWwfOofcDuGR94eBYypnsdk7F4ZPF11yDytYstk0S/a8kckJwKruh1Jo7kJMWpJKsE1H5WRLd1xwYYYyymGlG3pGZM++l5lHVgRu9AFhrfLrGqhM23JPM7CPHZzgLe18qNgbxkAKYw7z1xb+oIcLibErXO/N2C9LMlyNdHADqyuUNXMKmheJhhYbAHXy6JIEMdU5DjHv7U7H0pyK4tAkN72ec67TEJ9LWkZ8ksMDuaZFFApWHDZ0v3OllLblI7codngnD6KejSccuILvAEOGmjVUagl8QFtwOuWikkvbayavtQiQUkKaUZOcBxmtAwWJol8ncclQIDThq+YJz4Y0pqWgiXsmk50TZu6iIurCYFGm2rgr6Ay3RxzX0ehN7IEW7bmUmvQYHZXCPaNJV2sZVqF1v9dZ6O/DaQ76YorRgcg3x9hMoSsk0fBNnAJNBNMSiZ7zG44SDutoscl5B8MY7SvY7r4GWoHxfmA8WAkR+fcwZ+75kAmXIXxhCa5z7Xlsoy/rUFISUES/gnLKNMsY1BtizPejgL/jFSKEPkYFadWSoF5qNmB5gTrrK/ijEXk0AvxMCHcIQHIEvdUde9z069Er4gBYzfS0IznjBnuuk6qcJ8OoMlFn/A5lOyzOcmRbHsVEpKjE2h7JVip1Q0Swnx+Q3xzuKn94OPr+4/qbFnXVHeigVRoZnl8l5W/RsscGvRheybQn7XPnvnQdhaqKiMR+Qpk6hkcbvYWjuuMU9CcGwI7gztXfhDKfVh0u9zoCzl2nDO/ublio44rs5hjpNHfueTVx5/98N7D8qCAEOc1onlv8KX42W79YaPOeZV+Q71d1u+1JoMlogs+FMk0i62GiwMlmWqNRCxxj0pe18uONrbTLvEOORAIy3E3zHHEFakTuoXntjKW+eFX5++/hosBXdHaOEfURCF0yUFXKfGzureBmMekCA9FCb7ZYg/adJrOk567Uzn6fgBAK7pDFD+0pYk4QzmohG2O3HkSVt20xiaoQlSNLipYOmUAjNZUghZVgFpus70MU23ZIc0SxYnmcjW5PVJHEsy41iI3JgxowvmOjRYpYDDHBgdIfksS2BhuGVSR+y4mFkL51lEaDxzcDbD18ykgqDpDlk5NFGmYNtDnNpRFrsQCMvCv2hgY4ad/Fm5DnhPHtGqbJN2qfo1IuXA1N6T4vJfEP/ngBbT4sydgawdq20Jdx64JN0FAczuKETzLRF0PNd/wrHh8r/BLgiQ+nERaoiDqy+ccOryn60vHGRgMLScnHnhuDSvFwziIMV/LgBSSql/AN8RXhpOv01bAAAAAElFTkSuQmCC",ja=n(613),Oa=n(588),ya=n(585),xa=n(591),Ca=n(590),wa=n(285),Sa=n.n(wa),ka=n(617),Ia=n(589),Ta=n(1),Ea=function(){Object(va.useEffect)((function(){la.keyInputUsers.add("AfkDialog")}));var e=function(e){la.keyInputUsers.delete("AfkDialog");var t=e;t.code&&(t.preventDefault(),t.stopPropagation()),da.clear()};return Object(Ta.jsx)(Ba,{onClose:e,children:Object(Ta.jsx)(ya.a,{style:{fontSize:c()?"2em":"1em"},children:Object(Ta.jsx)(Oa.a,{color:"primary",variant:"contained",style:{textTransform:"none"},autoFocus:!0,onKeyDown:e,onClick:e,children:ee("afkMessage")})})})};Ea.displayName="AfkDialog";var Ma=[["Able","Absent","Absolute","Abstract","Absurd","Academic","Acceptable","Accessible","Accountable","Accurate","Acid","Active","Actual","Acute","Additional","Adequate","Adjacent","Administrative","Adult","Advance","Advanced","Adverse","Aesthetic","Affordable","Afraid","Aged","Agricultural","Alert","Alien","Alike","Alive","Alone","Alternative","Amateur","Amazed","Amazing","Ambitious","Amusing","Ancient","Angry","Annoyed","Annoying","Annual","Anonymous","Anxious","Apparent","Appealing","Applicable","Appropriate","Arbitrary","Architectural","Artificial","Artistic","Ashamed","Asleep","Assistant","Associated","Astonishing","Attractive","Audio","Authentic","Automatic","Available","Average","Aware","Awful","Awkward","Back","Bad","Balanced","Bare","Based","Basic","Beautiful","Beloved","Beneficial","Bent","Best","Better","Big","Biological","Bitter","Bizarre","Blank","Blind","Blonde","Blue","Bold","Bored","Boring","Bottom","Bound","Brave","Brief","Bright","Brilliant","Broad","Broken","Brown","Busy","Calm","Capable","Capital","Capitalist","Careful","Careless","Casual","Cautious","Central","Certain","Challenging","Characteristic","Charming","Cheap","Cheerful","Chemical","Chief","Chronic","Civic","Civil","Civilian","Classic","Classical","Clean","Clear","Clever","Clinical","Close","Closed","Coastal","Cognitive","Cold","Collective","Colonial","Coloured","Colourful","Comfortable","Comic","Commercial","Common","Communist","Comparable","Comparative","Compelling","Competent","Competitive","Complete","Complex","Complicated","Comprehensive","Compulsory","Concerned","Concrete","Confident","Confused","Confusing","Congressional","Connected","Conscious","Consecutive","Conservative","Considerable","Consistent","Constant","Constitutional","Contemporary","Content","Continuous","Contrary","Controversial","Convenient","Conventional","Convinced","Convincing","Cool","Cooperative","Core","Corporate","Correct","Corresponding","Costly","Countless","Covered","Cream","Creative","Credible","Critical","Crowded","Crucial","Crude","Cruel","Cult","Cultural","Curious","Curly","Current","Curved","Cute","Cynical","Daily","Dairy","Damaging","Dangerous","Dark","Dead","Dear","Decent","Decisive","Dedicated","Deep","Defensive","Definite","Deliberate","Delicate","Delicious","Delighted","Democratic","Dense","Dependent","Depressed","Depressing","Desirable","Desperate","Destructive","Detailed","Determined","Different","Difficult","Digital","Diplomatic","Direct","Dirty","Disabled","Disappointed","Disappointing","Disastrous","Dishonest","Distant","Distinct","Distinctive","Disturbing","Diverse","Divine","Divorced","Domestic","Dominant","Double","Downstairs","Downtown","Dramatic","Dressed","Driving","Dry","Dual","Due","Dull","Dumb","Dynamic","Eager","Early","East","Eastern","Easy","Ecological","Economic","Editorial","Educated","Educational","Effective","Efficient","Elaborate","Elderly","Electoral","Electric","Electrical","Electronic","Elegant","Elementary","Eligible","Embarrassed","Embarrassing","Emotional","Empirical","Empty","Encouraging","Endless","Engaged","Engaging","Enjoyable","Enormous","Entertaining","Enthusiastic","Entire","Environmental","Equal","Equivalent","Essential","Eternal","Ethical","Ethnic","Even","Everyday","Evident","Evil","Evolutionary","Exact","Excellent","Exceptional","Excess","Excessive","Excited","Exciting","Exclusive","Executive","Exotic","Expected","Expensive","Experienced","Experimental","Expert","Explicit","Explosive","Extensive","External","Extra","Extraordinary","Extreme","Fabulous","Failed","Fair","Fake","False","Familiar","Family","Famous","Fancy","Fantastic","Far","Fascinating","Fashionable","Fast","Fat","Fatal","Favourable","Favourite","Federal","Fellow","Feminist","Few","Fierce","Final","Financial","Fine","Firm","Fit","Fixed","Flat","Flawed","Flexible","Flying","Folding","Folk","Following","Fond","Foreign","Formal","Former","Forthcoming","Fortunate","Forward","Fragile","Free","Frequent","Fresh","Friendly","Frightened","Frightening","Front","Frozen","Frustrated","Frustrating","Full","FullTime","Fun","Functional","Fundamental","Funny","Furious","Further","Future","General","Generic","Generous","Genetic","Gentle","Genuine","Giant","Glad","Global","Glorious","Gold","Golden","Good","Gorgeous","Grand","Graphic","Grateful","Grave","Great","Green","Grey","Gross","Guilty","Handy","Happy","Hard","Harmful","Harsh","Healthy","Heavy","Helpful","Hidden","High","HighProfile","Hilarious","Historic","Historical","Hollow","Holy","Home","Homeless","Honest","Hopeful","Horrible","Hot","Huge","Human","Humanitarian","Humble","Humorous","Hungry","Hurt","Ideal","Identical","Ideological","Ill","Illegal","Imaginary","Immediate","Immense","Imminent","Immune","Impatient","Important","Impossible","Impressed","Impressive","Inadequate","Inappropriate","Inclined","Included","Incorrect","Incredible","Independent","Indigenous","Indirect","Individual","Indoor","Industrial","Inevitable","Infamous","Influential","Informal","Inherent","Initial","Injured","Inner","Innocent","Innovative","Inside","Instant","Institutional","Instrumental","Insufficient","Intact","Integral","Integrated","Intellectual","Intelligent","Intended","Intense","Intensive","Interactive","Interested","Interesting","Interim","Interior","Intermediate","Internal","International","Intimate","Intriguing","Invisible","Involved","Ironic","Irrelevant","Isolated","Joint","Judicial","Junior","Just","Keen","Key","Kind","Large","LargeScale","Late","Later","Latest","Latter","Lazy","Leading","Left","Legal","Legendary","Legislative","Legitimate","Lengthy","Lesser","Level","Liable","Liberal","Lifelong","Light","Likely","Limited","Linear","Liquid","Literary","Little","Live","Lively","Living","Local","Located","Logical","Lonely","Long","LongStanding","LongTerm","LongTime","Loose","Lost","Loud","Lovely","Low","Loyal","Lucky","Luxury","Mad","Magic","Magical","Magnetic","Magnificent","Main","Mainstream","Major","Mandatory","Marginal","Marine","Married","Martial","Mass","Massive","Matching","Material","Mathematical","Mature","Maximum","Meaningful","Mechanical","Medical","Medieval","Medium","Memorable","Mental","Mere","Middle","Mild","Minimal","Minimum","Minute","Miserable","Misleading","Missing","Mixed","Mobile","Moderate","Modern","Modest","Monthly","Moral","Motor","Moving","Multiple","Municipal","Musical","Mutual","Mysterious","Narrative","Narrow","National","Nationwide","Native","Natural","Naval","Near","Nearby","Neat","Necessary","Negative","Neighbouring","Nervous","Net","Neutral","New","Next","Nice","Noble","Noisy","NonProfit","Normal","North","Northern","Notable","Notorious","Novel","Nuclear","Numerous","Objective","Obvious","Occasional","Odd","Offensive","Official","Ok","Old","OldFashioned","Ongoing","Online","Only","Open","Operational","Opposed","Opposite","Optical","Optimistic","Orange","Ordinary","Organic","Organizational","Organized","Original","Other","Outdoor","Outer","Outside","Outstanding","Overall","Overseas","Overwhelming","Own","Painful","Pale","Parallel","Parental","Parliamentary","PartTime","Partial","Particular","Passionate","Passive","Past","Patient","Peaceful","Peculiar","Perfect","Permanent","Persistent","Personal","Philosophical","Physical","Pink","Plain","Plastic","Pleasant","Pleased","Plus","Pointed","Poisonous","Polite","Political","Poor","Pop","Popular","Positive","Possible","PostWar","Potential","Powerful","Practical","Precious","Precise","Predictable","Preliminary","Premier","Prepared","Present","Presidential","Prestigious","Pretty","Previous","Primary","Prime","Principal","Prior","Private","Probable","Problematic","Productive","Professional","Profitable","Profound","Progressive","Prominent","Promising","Pronounced","Proper","Prospective","Protective","Proud","Provincial","Psychiatric","Psychological","Public","Pure","Purple","Qualified","Quick","Quiet","Radical","Random","Rapid","Rare","Rational","Raw","Ready","Real","Realistic","Rear","Reasonable","Recent","Red","Regional","Regular","Regulatory","Related","Relative","Relaxed","Relaxing","Relevant","Reliable","Relieved","Religious","Reluctant","Remarkable","Remote","Renowned","Repeated","Representative","Resident","Residential","Respective","Responsible","Retired","Reverse","Revolutionary","Rich","Ridiculous","Right","Risky","Rival","Robust","Romantic","Rough","Round","Routine","Royal","Rubber","Rude","Rural","Sacred","Sad","Safe","Same","Satisfied","Scary","Scattered","Sceptical","Scientific","Secondary","Secret","Secular","Secure","Selective","Senior","Sensible","Sensitive","Separate","Serial","Serious","Severe","Shallow","Shaped","Sharp","Sheer","Shiny","Shocked","Shocking","Short","ShortTerm","Shut","Shy","Significant","Silent","Silly","Silver","Similar","Simple","Sincere","Single","Situated","Ski","Skilled","Slight","Slow","Small","Smart","Smooth","SoCalled","Social","Socialist","Soft","Solar","Sole","Solid","Solo","Sophisticated","Sound","South","Spare","Special","Specialist","Specialized","Specific","Spectacular","Spicy","Spiritual","Spoken","Sporting","Square","Stable","Standard","Standing","Stark","State","Statistical","Steady","Steep","Sticky","Stiff","Still","Straight","Straightforward","Strange","Strategic","Strict","Striking","Strong","Structural","Stunning","Subject","Subsequent","Substantial","Subtle","Suburban","Successful","Successive","Sudden","Sufficient","Suitable","Super","Superb","Superior","Supportive","Supreme","Sure","Surgical","Surprised","Surprising","Surrounding","Suspicious","Sustainable","Sweet","Symbolic","Sympathetic","Systematic","Tactical","Talented","Tall","Technical","Technological","Temporary","Tender","Terminal","Terrible","Terrific","Theatrical","Theoretical","Thick","Thin","Thirsty","Thorough","ThoughtProvoking","Thoughtful","Thrilled","Tidy","Tight","Timely","Tiny","Tired","Top","Total","Tough","Toxic","Toy","Traditional","Transparent","Tremendous","Tribal","Tropical","True","Twin","Typical","Ultimate","Unable","Unacceptable","Uncomfortable","Underground","Underlying","Unemployed","Unexpected","Unfair","Unfortunate","Unique","United","Universal","Unknown","Unlikely","Unnecessary","Unpleasant","Unprecedented","Unusual","Upcoming","Upper","Upset","Upstairs","Urban","Urgent","Used","Useful","Useless","Usual","Vague","Valid","Valuable","Variable","Varied","Various","Vast","Verbal","Vertical","Very","Viable","Vibrant","Virtual","Visible","Visual","Vital","Vocal","Voluntary","Vulnerable","Warm","Waste","Weak","Wealthy","Weekly","Weird","Welcome","Well","West","Western","Wet","White","Whole","Wide","Widespread","Wild","Willing","Wise","Wonderful","Wooden","Working","Worldwide","Worried","Worse","Worst","Worth","Worthwhile","Worthy","Written","Wrong","Yellow"],["About","Above","Abroad","Absently","Absolutely","Accidentally","Accordingly","Accurately","Accusingly","Across","Actually","Additionally","Adequately","Adorably","After","Afterwards","Again","Ago","Ahead","Alike","All","Allegedly","AllTheTime","Almost","Alone","Along","Already","Also","Altogether","Always","Amazingly","Angrily","Annually","Anxiously","Any","Anyway","Anywhere","Apart","Appallingly","Apparently","Appropriately","Approximately","Arguably","Around","Articulately","As","Aside","Astonishingly","Automatically","Away","Back","Backwards","Badly","Barely","Basically","Beautifully","Before","Behind","Below","Besides","Best","Better","Between","Beyond","Blindly","Bravely","Briefly","Brightly","Briskly","Broadly","By","Calmly","Carefully","Casually","Cautiously","Certainly","Cheaply","Clearly","Cleverly","Close","Closely","Commonly","Completely","Consequently","Considerably","Consistently","Constantly","Continually","Correctly","Crazily","Critically","Curiously","Currently","Cynically","Daily","Dangerously","Deeply","Definitely","Deliberately","Delicately","Desperately","Differently","Directly","Discreetly","Double","Down","Downstairs","Downtown","Downwards","Dramatically","Each","Eagerly","Early","Easily","East","Effectively","Efficiently","Either","Else","Elsewhere","Emotionally","Enough","Entirely","Equally","Especially","Essentially","Euphoricly","Even","Evenly","Eventually","Ever","Everywhere","Exactly","Exclusively","Expectantly","Explicitly","Extensively","Extra","Extremely","Fairly","Far","Fast","Ferociously","Fiercely","Finally","Finely","Firmly","First","Firstly","Flatly","Forever","Formerly","Forth","Fortunately","Forward","Frankly","Free","Freely","Frequently","Frighteningly","FullTime","Fully","Fundamentally","Further","Furthermore","Generally","Gently","Genuinely","Gloriously","Gradually","Greatly","Grimly","Guiltily","Half","Halfway","Happily","Hard","Hardly","Hastily","Heavily","Hence","Here","Heroically","High","Highly","Home","Hopefully","Hourly","How","However","Humbly","Hysterically","Immediately","Immensely","Impartially","Impolitely","In","Increasingly","Incredibly","Indeed","Indifferently","Indoors","Inevitably","Initially","Inside","Instantly","Instead","Intensely","Ironically","Jealously","Jovially","Just","Kindly","Largely","Last","Late","Lately","Later","Lazily","Least","Left","Less","Lightly","Likewise","Literally","Little","Live","Long","LongTerm","Lot","Loud","Loudly","Lovingly","Low","Loyally","Magnificently","Mainly","Maybe","Meanwhile","Merely","Merrily","Mightily","Miserably","More","Moreover","Most","Mostly","Much","Mysteriously","Namely","Naturally","Near","Nearby","Nearly","Necessarily","Neither","Nervously","Never","Nevertheless","Newly","Next","Nicely","Nonetheless","Nor","Normally","North","Not","NOT","Notably","Now","Nowadays","Nowhere","Objectively","Obnoxiously","Obsessively","Obviously","Occasionally","Off","Often","Ok","On","Once","Online","Only","Openly","Opposite","Originally","Otherwise","Out","Outdoors","Outside","Over","Overall","Overly","Overnight","Overseas","Painfully","Partially","Particularly","Partly","Past","Patiently","Perfectly","Perhaps","Permanently","Personally","Playfully","Politely","Poorly","Possibly","Potentially","Precisely","Predominantly","Presently","Presumably","Pretty","Previously","Primarily","Probably","Promptly","Properly","Purely","Quickly","Quietly","Quite","Randomly","Rapidly","Rarely","Rather","Readily","Really","Reasonably","Recently","Recklessly","Regardless","Regularly","Relatively","Remarkably","Remorsefully","Reportedly","Respectively","Responsibly","Right","Roughly","Round","Rudely","Ruthlessly","Sadly","Same","Scornfully","Seamlessly","Second","Secondly","Seemingly","Seldom","Selfishly","Seriously","Severely","Shakily","Sharply","Shortly","Sideways","Significantly","Silently","Similarly","Simply","Simultaneously","Since","Sleepily","Slightly","Slowly","Slyly","Smoothly","So","Softly","Solely","Solemnly","Somehow","Sometime","Sometimes","Somewhat","Somewhere","Soon","South","Specifically","Steadily","Sternly","Still","Straight","Strangely","Strictly","Strongly","Stunningly","Subsequently","Substantially","Successfully","Suddenly","Sufficiently","Supposedly","Sure","Surely","Temporarily","Tenderly","Terribly","Thankfully","That","Then","There","Thereafter","Thereby","Therefore","This","Thoroughly","Though","Thoughtfully","Through","Throughout","Thus","Tightly","Today","Together","Tomorrow","Tonight","Too","Totally","Truly","Twice","Typically","Ultimately","Under","Underground","Undoubtedly","Uneasily","Unfortunately","Up","Upstairs","Upwards","Usually","Utterly","Vanishingly","Very","Warmly","Way","Weakly","Wearily","Weekly","Weirdly","Well","West","Whatever","Whatsoever","When","Where","Whereby","Wholly","Why","Wickedly","Widely","Wildly","Wisely","Wonderfully","Worldwide","Worse","Worst","Wrong","Yearly","Yesterday","Yet"],["Abilities","Absences","Abundances","Academics","Academies","Accents","Acceptances","Accesses","Accidents","Accommodations","Accomplishments","Accordances","Accountabilities","Accountants","Accounts","Accumulations","Accuracies","Accusations","Accused","Achievements","Acids","Acquisitions","Acres","Actions","Activations","Activists","Activities","Actors","Actresses","Acts","Adaptations","Addictions","Additions","Addresses","Adjustments","Administrations","Administrators","Admissions","Adolescents","Adoptions","Ads","Adults","Advances","Advantages","Adventures","Advertisements","Advertisings","Advice","Advocates","Affairs","Affections","Aftermaths","Afternoons","Agencies","Agendas","Agents","Ages","Aggressions","Agreements","Agricultures","Aides","Alarms","Albums","Alerts","Aliens","Alignments","Allegations","Alliances","Allies","Allocations","Allowances","Alternatives","Aluminium","Amateurs","Ambassadors","Ambitions","Ambulances","Amendments","Amounts","Analogies","Analyses","Analysts","Ancestors","Anchors","Angels","Angers","Angles","Animals","Animations","Ankles","Anniversaries","Announcements","Answers","Anxieties","Apartments","Apologies","Apparatus","Appeals","Appearances","Appetites","Apples","Applicants","Applications","Appointments","Appreciations","Approaches","Approvals","Apps","Aprils","Architects","Architectures","Archives","Areas","Arenas","Arguments","Armies","Arrangements","Arrays","Arrests","Arrivals","Arrows","Articles","Artists","Arts","Artworks","Ashes","Aspects","Aspirations","Assaults","Assemblies","Assertions","Assessments","Assets","Assignments","Assistances","Assistants","Associations","Assumptions","Assurances","Asylums","Athletes","Atmospheres","Attachments","Attacks","Attempts","Attendances","Attentions","Attitudes","Attorneys","Attractions","Attributes","Auctions","Audiences","Audits","Augusts","Aunts","Authorities","Authors","Autonomies","Autos","Autumns","Availabilities","Averages","Awards","Awarenesses","Babies","Backdrops","Backgrounds","Backings","Backs","Backups","Bacterias","Badges","Bags","Bails","Balances","Ballets","Balloons","Ballots","Balls","Bananas","Bands","Banks","Banners","Bans","Bargains","Barrels","Barriers","Bars","Baseballs","Basements","Bases","Basketballs","Baskets","Basses","Bathrooms","Baths","Bats","Batteries","Battlefields","Battles","Bays","Beaches","Beams","Beans","Bears","Beasts","Beats","Beauties","Bedrooms","Beds","Beefs","Beers","Bees","Beginnings","Behalves","Behaviours","Beings","Beliefs","Bells","Belts","Benches","Benchmarks","Bends","Beneficiaries","Benefits","Bests","Bets","Betters","Biases","Bicycles","Bids","Bikes","Bills","Bins","Biographies","Biologies","Birds","Birthdays","Births","Biscuits","Bishops","Bites","Bits","Blades","Blames","Blankets","Blanks","Blasts","Blends","Blessings","Blocks","Blogs","Bloods","Blows","Blues","Boards","Boats","Bonds","Bones","Bonus","Bookings","Books","Booms","Boosts","Boots","Borders","Bosses","Bottles","Boundaries","Bowls","Bows","Boxes","Brains","Branches","Brands","Breaches","Breads","Breakdowns","Breakfasts","Breaks","Breakthroughs","Breathings","Breaths","Breeds","Brethren","Bricks","Brides","Bridges","Broadbands","Broadcasters","Broadcasts","Browsers","Brushes","Bubbles","Bucks","Buddies","Budgets","Buffers","Bugs","Buildings","Bulks","Bullets","Bunches","Burdens","Bureaucracies","Burials","Burns","Buses","Bushes","Businesses","Businessmen","Butters","Buttons","Cabinets","Cabins","Cables","Cafes","Cakes","Calculations","Calls","Calms","Cameras","Campaigns","Campings","Camps","Campus","Canals","Candidates","Candles","Cans","Canvas","Capabilities","Capacities","Capitalisms","Capitals","Caps","Captains","Captures","Carbons","Cards","Careers","Cares","Cargoes","Carpets","Carriages","Carrots","Cars","Cartoons","Cases","Cashes","Casinos","Castles","Casts","Catalogues","Catches","Categories","Cats","Cattle","Causes","Cautions","Caves","Cds","Ceilings","Celebrations","Celebrities","Cells","Cemeteries","Centres","Cents","Centuries","Ceremonies","Certainties","Certificates","Chains","Chairmen","Chairs","Challenges","Chambers","Champions","Championships","Chances","Changes","Channels","Chaos","Chapters","Characteristics","Characters","Charges","Charities","Charms","Charters","Charts","Chases","Chats","Cheats","Checks","Cheeks","Cheers","Cheeses","Chefs","Chemicals","Chemistries","Chests","Chickens","Chiefs","Childhoods","Chips","Chocolates","Choices","Choirs","Chunks","Churches","Cigarettes","Cinemas","Circles","Circuits","Circulations","Circumstances","Cities","Citizens","Citizenships","Civilians","Civilizations","Claims","Clarities","Clashes","Classes","Classics","Classifications","Classrooms","Clauses","Clerks","Clicks","Clients","Cliffs","Climates","Climbs","Clinics","Clips","Clocks","Closes","Closures","Clothes","Clothings","Cloths","Clouds","Clubs","Clues","Clusters","Coaches","Coalitions","Coals","Coasts","Coats","Cocktails","Codes","Coffees","Coincidences","Coins","Colds","Collaborations","Collapses","Colleagues","Collections","Collectors","Colleges","Collisions","Colonies","Colours","Columnists","Columns","Combats","Combinations","Comedies","Comforts","Comics","Commanders","Commands","Commentaries","Commentators","Comments","Commerces","Commercials","Commissioners","Commissions","Commitments","Committees","Commodities","Communications","Communities","Companies","Companions","Comparisons","Compassions","Compensations","Competences","Competitions","Competitors","Complaints","Completions","Complexes","Complexities","Compliances","Complications","Components","Composers","Compositions","Compounds","Compromises","Computers","Concentrations","Conceptions","Concepts","Concerns","Concerts","Concessions","Conclusions","Concretes","Conditions","Conducts","Conferences","Confessions","Confidences","Configurations","Confirmations","Conflicts","Confrontations","Confusions","Congregations","Connections","Consciences","Consciousnesses","Consensus","Consents","Consequences","Conservations","Conservatives","Considerations","Consistencies","Conspiracies","Constituencies","Constitutions","Constraints","Constructions","Consultants","Consultations","Consumers","Consumptions","Contacts","Containers","Contempts","Contenders","Contentions","Contents","Contests","Contexts","Continents","Contractors","Contracts","Contradictions","Contraries","Contrasts","Contributions","Contributors","Controls","Controversies","Conveniences","Conventions","Conversations","Conversions","Convictions","Cookers","Cookings","Cooks","Coordinations","Coordinators","Copies","Coppers","Cops","Copyrights","Cores","Corners","Corporations","Corrections","Correlations","Correspondences","Correspondents","Corridors","Corruptions","Costs","Costumes","Cottages","Cottons","Councillors","Councils","Counsellings","Counsellors","Counterparts","Counters","Counties","Countries","Countrysides","Counts","Couples","Coups","Courages","Courses","Courtesies","Courts","Cousins","Coverages","Covers","Cows","Cracks","Crafts","Crashes","Creams","Creations","Creativities","Creators","Creatures","Credibilities","Credits","Crews","Cries","Crises","Criteria","Criticisms","Critics","Critiques","Crops","Crosses","Crowds","Crowns","Cruises","Crystals","Cues","Cults","Cultures","Cupboards","Cups","Cures","Curiosities","Currencies","Currents","Curricula","Curtains","Custodies","Customers","Customs","Cuts","Cuttings","Cycles","Dads","Dairies","Damages","Dams","Dancers","Dances","Dancings","Dangers","Darknesses","Darks","Databases","Dates","Daughters","Dawns","Days","Deadlines","Dealers","Deals","Debates","Debris","Debts","Debuts","Decades","Decembers","DecisionMakings","Decisions","Decks","Declarations","Declines","Decorations","Decreases","Dedications","Deeds","Defaults","Defeats","Defects","Defences","Defenders","Deficiencies","Deficits","Definitions","Degrees","Delays","Delegates","Delegations","Delights","Deliveries","Demands","Democracies","Demons","Demonstrations","Denials","Densities","Dentists","Departments","Departures","Dependences","Deployments","Deposits","Depressions","Depths","Deputies","Descents","Descriptions","Deserts","Designers","Designs","Desires","Desks","Desktops","Destinations","Destructions","Details","Detections","Detectives","Detentions","Determinations","Developments","Devices","Devils","Diagnoses","Diagrams","Dialogues","Diamonds","Diaries","Dictators","Dictionaries","Diets","Differences","Difficulties","Dignities","Dilemmas","Dimensions","Dinners","Diplomats","Directions","Directories","Directors","Dirts","Disabilities","Disadvantages","Disagreements","Disappointments","Disciplines","Disclosures","Discounts","Discourses","Discoveries","Discretions","Discs","Discussions","Dishes","Disks","Dislikes","Dismissals","Disorders","Displays","Disposals","Disputes","Disruptions","Distances","Distinctions","Distresses","Distributions","Districts","Diversities","Dives","Divides","Divisions","Divorces","Doctors","Doctrines","Documentaries","Documentations","Documents","Dogs","Dollars","Domains","Dominances","Donations","Donors","Doors","Doses","Dots","Doubts","Downloads","Downtowns","Dozens","Drafts","Dramas","Drawings","Dreams","Dresses","Drinks","Drivers","Drives","Drivings","Drops","Droughts","Drums","Duos","Durations","Dusts","Duties","Dvds","Dynamics","Earnings","Ears","Earthquakes","Earths","Eases","Easts","Echoes","Economics","Economies","Economists","Edges","Editions","Editors","Educations","Educators","Effectivenesses","Effects","Efficiencies","Efforts","Eggs","Egos","Elbows","Elections","Electricities","Electronics","Elements","Elephants","Elites","Emails","Embarrassments","Embassies","Emergences","Emergencies","Emissions","Emotions","Emphases","Empires","Employees","Employers","Employments","Encounters","Encouragements","Endeavours","Endings","Endorsements","Ends","Enemies","Energies","Enforcements","Engagements","Engineerings","Engineers","Engines","Enquiries","Enterprises","Entertainments","Enthusiasms","Enthusiasts","Entities","Entrances","Entrepreneurs","Entries","Envelopes","Environments","Epidemics","Episodes","Equalities","Equals","Equations","Equipment","Equivalents","Eras","Errors","Escapes","Essays","Essences","Establishments","Estates","Estimates","Ethics","Euros","Evaluations","Evenings","Events","Evidence","Evils","Evolutions","Examinations","Examples","Exams","Excellences","Exceptions","Excesses","Exchanges","Excitements","Exclusions","Excuses","Executives","Exercises","Exhibitions","Exhibits","Exiles","Existences","Exits","Expansions","Expectations","Expeditions","Expenditures","Expenses","Experiences","Experiments","Expertises","Experts","Explanations","Exploitations","Explorations","Explosions","Explosives","Exports","Exposures","Expressions","Extensions","Extents","Extracts","Extras","Extremes","Eyes","Fabrics","Faces","Facilities","Factions","Factories","Factors","Facts","Faculties","Failures","Fairnesses","Faiths","Falls","Fames","Families","Fans","Fantasies","Fares","Farmers","Farmings","Farms","Fashions","Fates","Fats","Faults","Favourites","Favours","Fears","Feathers","Feats","Features","Februaries","Feedbacks","Feeds","Feelings","Feels","Fees","Feet","Feminists","Fences","Festivals","Fevers","Fibres","Fictions","Fields","Fightings","Fights","Figures","Files","FilmMakers","Films","Filters","Finals","Finances","Findings","Fines","Fingers","Finishes","Firefighters","Fires","Fireworks","Firms","Firsts","Fish","Fishings","Fitnesses","Fits","Fixes","Fixtures","Flags","Flames","Flashes","Flats","Flavours","Flaws","Fleets","Fleshes","Flexibilities","Flies","Flights","Floods","Floors","Flours","Flowers","Flows","Fluids","Flus","Flyings","Foci","Folds","Folks","Followings","Foods","Fools","Footages","Footballs","Forces","Forecasts","Foreigners","Forests","Forks","Formations","Formats","Forms","Formulae","Fortunes","Forums","Fossils","Foundations","Founders","Fractions","Fragments","Frames","Frameworks","Franchises","Frauds","Freedoms","Frequencies","Fridays","Fridges","Friends","Friendships","Frogs","Fronts","Fruits","Frustrations","Fuels","Functions","Fundings","Fundraisings","Funds","Funerals","Funs","Furnitures","Furs","Futures","Gains","Galleries","Gallons","Gamblings","Games","Gamings","Gaps","Garages","Gardens","Gases","Gates","Gatherings","Gazes","Gears","Genders","Generations","Genes","Genius","Genres","Gentlemen","Geographies","Gestures","Ghosts","Giants","Gifts","Gigs","Glances","Glasses","Glimpses","Globalizations","Globes","Glories","Gloves","Goals","Gods","Goes","Gold","Golfs","Goodbyes","Goodnesses","Goods","Governances","Governments","Governors","Graces","Grades","Graduates","Grains","Grandfathers","Grandmothers","Grandparents","Grants","Graphics","Grasps","Grasses","Graves","Gravities","Greenhouses","Greens","Greys","Grids","Griefs","Grins","Grips","Groceries","Grounds","Groups","Growths","Guarantees","Guards","Guerrillas","Guesses","Guests","Guidances","Guidelines","Guides","Guilts","Guitars","Guts","Guys","Gyms","Habitats","Habits","Hairs","Halls","Halts","Halves","Handfuls","Handles","Handlings","Hands","Happinesses","Harassments","Harbours","Hardwares","Harmonies","Harms","Harvests","Hats","Hazards","Headaches","Headlines","Headquarters","Heads","Healthcares","Healths","Hearings","Hearts","Heatings","Heats","Heavens","Heels","Heights","Helicopters","Hellos","Hells","Helmets","Helps","Herbs","Heritages","Heroes","Hierarchies","Highlights","Highs","Highways","Hills","Hints","Hips","Hires","Historians","Histories","Hits","Hobbies","Hockeys","Holds","Holes","Holidays","Homelands","Homes","Homework","Honesties","Honours","Hooks","Hopes","Horizons","Horns","Horrors","Horses","Hospitals","Hosts","Hotels","Hours","Households","Houses","Housings","Humanities","Humans","Humours","Hungers","Huntings","Hunts","Hurricanes","Hurries","Hurts","Hydrogens","Hypotheses","Ices","Icons","Ideals","Ideas","Identifications","Identities","Ideologies","Ids","Ignorances","Illusions","Illustrations","Imageries","Images","Imaginations","Immigrations","Impacts","Implementations","Implications","Importances","Imports","Impressions","Imprisonments","Improvements","Inabilities","Incentives","Inches","Incidences","Incidents","Inclusions","Incomes","Increases","Independences","Indications","Indicators","Indices","Indictments","Individuals","Industries","Inequalities","Infections","Inflations","Influences","Information","Infos","Infrastructures","Ingredients","Inhabitants","Initiatives","Injections","Injuries","Injustices","Inks","Innovations","Inputs","Inquiries","Insects","Insertions","Insiders","Insides","Insights","Inspections","Inspectors","Inspirations","Installations","Instances","Instincts","Institutes","Institutions","Instructions","Instructors","Instruments","Insults","Insurances","Intakes","Integrations","Integrities","Intellectuals","Intelligences","Intensities","Intentions","Intents","Interactions","Interests","Interfaces","Interferences","Interiors","Interpretations","Intervals","Interventions","Interviews","Introductions","Invasions","Inventions","Investigations","Investigators","Investments","Investors","Invitations","Involvements","Ironies","Irons","Islands","Isolations","Issues","Items","Its","Jackets","Jails","Jams","Januaries","Jazzes","Jeans","Jets","Jewelleries","Jobs","Joints","Jokes","Journalisms","Journalists","Journals","Journeys","Joys","Judgements","Judges","Juices","Julies","Jumps","Junctions","Junes","Juries","Jurisdictions","Justices","Justifications","Keyboards","Keys","Kicks","Kidneys","Kilometres","Kinds","Kingdoms","Kings","Kisses","Kitchens","Kits","Knees","Knives","Knocks","Knowledges","Labels","Laboratories","Labours","Labs","Lacks","Ladders","Lakes","Lamps","Landings","Landlords","Landmarks","Lands","Landscapes","Lanes","Languages","Laps","Laptops","Lasers","Lasts","Latests","Laughs","Laughters","Launches","Lawns","Laws","Lawsuits","Lawyers","Layers","Layouts","Leaders","Leaderships","Leads","Leaflets","Leagues","Leaks","Leaps","Learnings","Leathers","Leaves","Lectures","Lefts","Legacies","Legends","Legislations","Legislatures","Legs","Leisures","Lemons","Lengths","Lens","Lessons","Letters","Levels","Liberals","Liberations","Liberties","Libraries","Licences","Lies","Lifestyles","Lifetimes","Lifts","Lightings","Lights","Likelihoods","Likes","Limbs","Limitations","Limits","LineUps","Lines","Links","Lions","Lips","Liquids","Listeners","Listings","Lists","Literacies","Literatures","Litres","Litters","Livers","Lives","Livings","Loads","Loans","Lobbies","Locals","Locations","Locks","Logics","Logos","Logs","Looks","Loops","Lords","Lorries","Losses","Lotteries","Loves","Lows","Loyalties","Luck","Lunches","Lungs","Luxuries","Lyrics","Machineries","Machines","Magazines","Magics","Magistrates","Magnitudes","Mails","Mainlands","Mainstreams","Maintenances","Majorities","MakeUps","Makes","Makings","Malls","Managements","Managers","Mandates","Manipulations","Manners","Manufacturings","Manuscripts","Maps","Marathons","Marches","Margins","Markers","Marketings","Marketplaces","Markets","Marks","Marriages","Masks","Masses","Masters","Matches","Materials","Mates","Mathematics","Maths","Matters","Maximums","Mayors","Mays","Meals","Meanings","Means","Meantimes","Measurements","Measures","Meats","Mechanics","Mechanisms","Medals","Media","Medications","Medicines","Meditations","Meetings","Melodies","Members","Memberships","Memoirs","Memorials","Memories","Memos","Mentions","Mentors","Menus","Merchants","Mercies","Mergers","Merits","Messages","Messes","Metals","Metaphors","Methodologies","Methods","Metres","Mice","Middles","Midnights","Midsts","Migrations","Miles","Milks","Mills","Minds","Minerals","Miners","Mines","Minimums","Minings","Ministers","Ministries","Minutes","Miracles","Mirrors","Miseries","Missiles","Missions","Mistakes","Mixes","Mixtures","Mobiles","Mobilities","Mobs","Modes","Modifications","Momenta","Moments","Mondays","Moneys","Monitors","Monkeys","Monks","Monopolies","Monsters","Months","Monuments","Moods","Moons","Moralities","Morals","Mornings","Mortgages","Mothers","Motions","Motivations","Motives","Motorcycles","Motorists","Motors","Mountains","Mouths","Movements","Moves","Movies","Muds","Mums","Muscles","Museums","Music","Musicals","Musicians","Mysteries","Myths","Nails","Names","Narratives","Nationals","Nations","Natures","Navigations","Necessities","Necks","Needles","Needs","Negatives","Neglects","Negotiations","Neighbourhoods","Neighbours","Nerves","Nests","Nets","Networks","News","Newsletters","Newspapers","Niches","Nightmares","Nights","Noises","Nominations","Nominees","Nonsenses","Noons","Normals","Norms","Norths","Noses","Notebooks","Notes","Notices","Notions","Novelists","Novels","Novembers","Numbers","Nurseries","Nurses","Nursings","Nutritions","Nuts","Obesities","Objections","Objectives","Objects","Obligations","Observations","Observers","Obsessions","Obstacles","Occasions","Occupations","Occurrences","Oceans","Octobers","Odds","Offences","Offerings","Offers","Officers","Offices","Officials","Offspring","Oils","Onions","Openings","Operas","Operations","Operators","Opinions","Opponents","Opportunities","Opposites","Oppositions","Optimisms","Options","Oranges","Orchestras","Orders","Organizations","Organizers","Organs","Orientations","Originals","Origins","Outbreaks","Outcomes","Outfits","Outings","Outlets","Outlines","Outlooks","Outputs","Outrages","Outsiders","Outsides","Ovens","Owners","Ownerships","Oxygens","Paces","Packages","Packets","Packs","Pads","Pages","Pains","Painters","Paintings","Paints","Pairs","Palaces","Palms","Panels","Panics","Pans","Pants","Papers","Parades","Paragraphs","Parallels","Parameters","Parents","Parishes","Parkings","Parks","Parliaments","Participants","Participations","Parties","Partners","Partnerships","Parts","Passages","Passengers","Passes","Passings","Passions","Passports","Passwords","Pastors","Pasts","Patches","Patents","Paths","Pathways","Patiences","Patients","Patrols","Patrons","Patterns","Pauses","Payments","Pays","Peaces","Peaks","Peasants","Peers","Penalties","Pencils","Pennies","Pens","Pensions","People","Peoples","Peppers","Percentages","Perceptions","Performances","Periods","Permissions","Permits","Personalities","Personnels","Perspectives","Petitions","Petrols","Pets","Phases","Phenomena","Philosophers","Philosophies","Phones","Photographers","Photographies","Photographs","Photos","Phrases","Physicians","Physics","Pianos","Picks","Pictures","Pieces","Pigs","Piles","Pills","Pilots","Pinks","Pins","Pioneers","Pipelines","Pipes","Pirates","Pitches","Pities","Pits","Placements","Places","Planes","Planets","Plannings","Plans","Plants","Plastics","Plates","Platforms","Players","Plays","Pleas","Pleasures","Pledges","Plots","Plugs","Plus","Pockets","Poems","Poetries","Poets","Points","Poisons","Poles","Police","Policemen","Policies","Politicians","Politics","Polls","Pollutions","Ponds","Pools","Pops","Popularities","Populations","Portfolios","Portions","Portraits","Ports","Positions","Positives","Possessions","Possibilities","Posters","Posts","Potatoes","Potentials","Pots","Pounds","Poverties","Powders","Powers","Practices","Practitioners","Praises","Prayers","Precedents","Precisions","Predators","Predecessors","Predictions","Preferences","Pregnancies","Prejudices","Premises","Premiums","Preparations","Prescriptions","Presences","Presentations","Presents","Preservations","Presidencies","Presidents","Presses","Pressures","Prevalences","Preventions","Preys","Prices","Prides","Priests","Princes","Princesses","Principals","Principles","Printers","Printings","Prints","Priorities","Prisons","Privacies","Privatizations","Privileges","Prizes","Probabilities","Probes","Problems","Procedures","Proceedings","Proceeds","Processes","Processings","Processors","Producers","Produces","Productions","Productivities","Products","Professionals","Professions","Professors","Profiles","Profits","Programmes","Programmings","Programs","Progresses","Projections","Projects","Promises","Promotions","Proofs","Propagandas","Properties","Proportions","Proposals","Propositions","Prosecutions","Prosecutors","Prospects","Prosperities","Protections","Proteins","Protesters","Protests","Protocols","Provinces","Provisions","Psychologies","Psychologists","Publications","Publicities","Publics","Publishings","Pubs","Pulls","Pulses","Pumps","Punches","Punishments","Punks","Pupils","Purchases","Purples","Purposes","Pursuits","Pushes","Puzzles","Qualifications","Qualities","Quantities","Quarters","Queens","Queries","Questionnaires","Questions","Quests","Queues","Quotas","Quotations","Quotes","Races","Racings","Radars","Radiations","Radios","Rages","Raids","Rails","Railways","Rains","Rallies","Ranges","Rankings","Ranks","Rates","Ratings","Ratios","Rats","Rays","Reaches","Reactions","Readers","Readings","Realities","Realizations","Realms","Rears","Reasonings","Reasons","Rebellions","Rebels","Receipts","Receivers","Receptions","Recessions","Recipes","Recipients","Recognitions","Recommendations","Reconstructions","Recordings","Records","Recoveries","Recruitments","Recruits","Reductions","Referees","References","Referendums","Reflections","Reforms","Refusals","Regards","Regimes","Regions","Registers","Registrations","Regrets","Regulations","Regulators","Rehabilitations","Reigns","Rejections","Relations","Relationships","Relatives","Releases","Relevances","Reliabilities","Reliefs","Religions","Remainders","Remains","Remarks","Remedies","Reminders","Removals","Rentals","Rents","Repairs","Repeats","Replacements","Replies","Reporters","Reportings","Reports","Representations","Representatives","Reproductions","Republics","Reputations","Requests","Requirements","Rescues","Researchers","Researches","Reservations","Reserves","Residences","Residents","Residues","Resignations","Resistances","Resolutions","Resorts","Resources","Respects","Responses","Responsibilities","Restaurants","Restorations","Restraints","Restrictions","Rests","Results","Retails","Retirements","Retreats","Returns","Revelations","Revenges","Revenues","Reverses","Reviews","Revisions","Revivals","Revolutions","Rewards","Rhetorics","Rhythms","Rices","Rides","Rifles","Rights","Rings","Riots","Rises","Risks","Rituals","Rivals","Rivers","Roads","Robberies","Robots","Rockets","Rocks","Rods","Roles","Rolls","Romances","Roofs","Rooms","Roots","Ropes","Roses","Rotations","Rounds","Routes","Routines","Rows","Rubbers","Rubbishes","Rugbies","Ruins","Rules","Rulings","Rumours","Runners","Runnings","Runs","Rushes","Sacrifices","Safeties","Sailings","Sailors","Sails","Saints","Sakes","Salads","Salaries","Sales","Salts","Samples","Sanctions","Sands","Sandwiches","Satellites","Satisfactions","Saturdays","Sauces","Savings","Says","Scales","Scandals","Scares","Scenarios","Scenes","Schedules","Schemes","Scholars","Scholarships","Schools","Sciences","Scientists","Scopes","Scores","Scratches","Screams","Screenings","Screens","Screws","Scripts","Scrutinies","Sculptures","Seals","Searches","Seas","Seasons","Seats","Seconds","Secretaries","Secrets","Sections","Sectors","Securities","Seeds","Seekers","Segments","Selections","Selves","Seminars","Senators","Sensations","Senses","Sensitivities","Sentences","Sentiments","Separations","Septembers","Sequences","Series","Servants","Services","Sessions","SetUps","Sets","Settings","Settlements","Settlers","Shades","Shadows","Shakes","Shames","Shapes","Shareholders","Shares","Sheep","Sheets","Shells","Shelters","Shelves","Shifts","Shippings","Ships","Shirts","Shocks","Shoes","Shootings","Shoots","Shoppings","Shops","Shores","Shortages","Shots","Shoulders","Shouts","Showers","Shows","Siblings","Sides","Sighs","Sights","Signals","Signatures","Significances","Signs","Silences","Silks","Silver","Similarities","Simulations","Singers","Singings","Singles","Sins","Sirs","Sites","Situations","Sizes","Sketches","Skies","Skiings","Skills","Skins","Skirts","Skis","Skulls","Sleeps","Slices","Slides","Slogans","Slopes","Slots","Smartphones","Smells","Smiles","Smokes","Smokings","Snakes","Snows","Soaps","Soccers","Societies","Socks","Softwares","Soils","Soldiers","Solicitors","Solidarities","Solids","Solos","Solutions","Songs","Sons","Sorts","Souls","Sounds","Soups","Sources","Sovereignties","Spaces","Spams","Spans","Speakers","Specialists","Species","Specifications","Specimens","Spectacles","Spectators","Spectra","Speculations","Speeches","Speeds","Spellings","Spells","Spendings","Spheres","Spices","Spiders","Spies","Spines","Spins","Spirits","Spites","Splits","Spokesmen","Spokespeople","Sponsors","Sponsorships","Spoons","Sports","Spotlights","Spots","Spouses","Spreads","Springs","Squads","Squares","Stabilities","Stadiums","Staffs","Stages","Stairs","Stakes","Stalls","Stamps","Stances","Standards","Stands","Stars","Starts","Statements","States","Stations","Statistics","Statues","Status","Stays","Steams","Steels","Stems","Steps","Stereotypes","Sticks","Stimuli","Stocks","Stomachs","Stones","Stops","Storages","Stores","Stories","Storms","Strains","Strands","Strangers","Strategies","Streams","Streets","Strengths","Stresses","Stretches","Strikes","Strings","Strips","Strokes","Structures","Struggles","Students","Studies","Studios","Stuffs","Styles","Subjects","Submissions","Subscribers","Subscriptions","Subsidies","Substances","Substitutes","Substitutions","Suburbs","Successes","Successions","Successors","Sufferings","Sugars","Suggestions","Suites","Suits","Summaries","Summers","Summits","Sums","Sundays","Suns","Supermarkets","Supervisions","Supervisors","Supplements","Supplies","Supporters","Supports","Surfaces","Surgeons","Surgeries","Surges","Surplus","Surprises","Surveillances","Surveys","Survivals","Survivors","Suspects","Suspensions","Suspicions","Sweaters","Sweets","Swimmings","Swims","Swings","Switches","Swords","Symbols","Sympathies","Symptoms","Syndromes","Syntheses","Systems","TShirts","Tables","Tablets","Tackles","Tactics","Tags","Tails","Talents","Tales","Talks","Tanks","Tapes","Taps","Targets","Tasks","Tastes","Taxes","Taxis","Taxpayers","Teachers","Teachings","Teams","Tears","Teas","Techniques","Technologies","Teenagers","Teens","Teeth","Telephones","Televisions","Temperatures","Temples","Tenants","Tendencies","Tennis","Tensions","Tents","Tenures","Terminals","Terms","Terrains","Territories","Testimonies","Testings","Tests","Textbooks","Texts","Textures","Thanks","Theatres","Thefts","Themes","Theologies","Theories","Therapies","Therapists","Theses","Thieves","Things","Thinkings","Thirds","Thoughts","Threads","Threats","Thresholds","Throats","Thumbs","Thursdays","Tickets","Tides","Ties","Timbers","Times","Timings","Tins","Tips","Tissues","Titles","Tobaccos","Todays","Toes","Toilets","Tolerances","Tolls","Tomatoes","Tomorrows","Tones","Tongues","Tonights","Tonnes","Tons","Tools","Topics","Tops","Tortoises","Totals","Touches","Tourisms","Tourists","Tournaments","Tours","Towels","Towers","Towns","Toys","Traces","Tracks","Trademarks","Trades","Tradings","Traditions","Traffics","Tragedies","Trailers","Trails","Trainers","Trainings","Trains","Traits","Transactions","Transcripts","Transfers","Transformations","Transitions","Transits","Translations","Transmissions","Transparencies","Transportations","Transports","Traps","Traumas","Travellers","Travels","Treasures","Treaties","Treatments","Trees","Trends","Trials","Tribes","Tribunals","Tributes","Tricks","Tries","Triggers","Trios","Trips","Triumphs","Troops","Trophies","Troubles","Trousers","Trucks","Trustees","Trusts","Truths","Tsunamis","Tubes","Tuesdays","Tuitions","Tunes","Tunnels","Turnouts","Turnovers","Turns","Tvs","Twists","Types","Tyres","Umbrellas","Uncertainties","Uncles","Undergraduates","Understandings","Underwears","Unemployments","Uniforms","Unions","Unities","Units","Universes","Universities","Updates","Upgrades","Usages","Users","Uses","Utilities","Vacations","Vacuums","Validities","Valleys","Values","Vans","Variables","Variations","Varieties","Vegetables","Vehicles","Veins","Ventures","Venues","Verdicts","Verses","Versions","Vessels","Veterans","Vices","Victories","Videos","Viewers","Viewpoints","Views","Villagers","Villages","Violations","Violences","Virtues","Viruses","Visas","Visions","Visitors","Visits","Vitamins","Voices","Volumes","Volunteers","Votes","Votings","Vulnerabilities","Wages","Waiters","Waits","Walks","Walls","Wards","Warehouses","Warfares","Warmings","Warnings","Warrants","Warriors","Washes","Washings","Wastes","Watches","Waters","Waves","Ways","Weaknesses","Wealths","Weathers","Webs","Websites","Weddings","Wednesdays","Weeds","Weekends","Weeks","Weights","Welcomes","Welfares","WellBeings","Wells","Wests","Wheat","Wheels","Whispers","Wholes","Widows","Widths","Wildlives","Willingnesses","Wills","Windows","Winds","Wines","Wings","Winners","Wins","Winters","Wires","Wisdoms","Wishes","Withdrawals","Witnesses","Wits","Wonders","Woods","Wools","Words","Workers","Workforces","Workouts","Workplaces","Works","Workshops","Worlds","Worms","Worries","Worses","Worships","Worsts","Worths","Wounds","Wrists","Writers","Writings","Wrongs","Yards","Years","Yellows","Yesterdays","Yields","Zones"]];function Pa(){var e,t,n,i="";for(var o in Ma){i+=(n=Ma[o])[(e=0,t=n.length-1,Math.floor(Math.random()*(t-e+1))+e)]}return i}var Ra={room:Pa()},Da=new Map;Da.set("entrance",(function(e){return Object(Ta.jsx)(Ha,Object(wn.a)(Object(wn.a)({},e),Ra))})),Da.set("afk",(function(e){return Object(Ta.jsx)(Ea,{})}));var Ba=function(e){return"micPermission"!==da.type&&"dataConnection"!==da.type&&"rtcConnection"!==da.type?Object(Ta.jsxs)(ka.a,Object(wn.a)(Object(wn.a)({},e),{},{open:da.show(),onClose:e.onClose,maxWidth:"xl",fullWidth:!1,fullScreen:!0,children:[da.title?Object(Ta.jsx)(Ia.a,{id:"simple-dialog-title",disableTypography:!0,style:{fontSize:c()?"4em":"1em"},children:da.title}):void 0,e.children]})):Object(Ta.jsx)(ka.a,Object(wn.a)(Object(wn.a)({},e),{},{open:!1,onClose:e.onClose,maxWidth:"xl",fullWidth:!1,fullScreen:!0}))},Na=function(e){function t(){"retry"!==da.type&&da.clear()}return Object(Ta.jsx)(pa.a,{children:function(){return da.type?Da.has(da.type)?Da.get(da.type)(e):Object(Ta.jsxs)(Ba,{onClose:function(){t()},children:[Object(Ta.jsx)(ya.a,{style:{fontSize:c()?"3em":"1em"},children:da.message}),"retry"!==da.type?Object(Ta.jsxs)(ja.a,{mt:2,mb:2,ml:4,children:[Object(Ta.jsx)(Oa.a,{variant:"contained",color:"primary",style:{textTransform:"none",fontSize:c()?"2.5em":"1em"},onClick:function(){t()},children:ee("emClose")}),"\xa0",Object(Ta.jsx)(Oa.a,{variant:"contained",color:"secondary",style:{textTransform:"none",fontSize:c()?"2.5em":"1em"},onClick:function(){da.supressedTypes.add(da.type),t()},children:ee("emNeverShow")})]}):void 0]}):Object(Ta.jsx)(Ta.Fragment,{})}})};Na.displayName="ErrorDialog";var za=n.p+"static/media/earshot_allow_audio_chrome.ac55eb7d.gif",Fa=n.p+"static/media/earshot_allow_audio_safari.b9c6698d.gif",Qa=!1,La="";function Ua(){return La}var Ga=!1,Ya="",Ha=function(e){var t=e.stores.participants,n=Object(va.useState)(t.local.information.name),r=Object(i.a)(n,2),s=r[0],l=r[1],u=sessionStorage.getItem("room"),d=Object(va.useState)(!1),p=Object(i.a)(d,2),v=p[0],h=p[1],b=e.stores.map,f=String(o.room).split("_"),m=Number(null===f||void 0===f?void 0:f.length)-1,g="";Number(null===f||void 0===f?void 0:f.length)>1&&(g=String(o.room).split("_")[0]);var A=Object(va.useState)(o.room?f[m]:""),j=Object(i.a)(A,2),O=j[0],y=j[1],x=Object(va.useState)([String(Object(e).room)]),C=Object(i.a)(x,2),w=C[0],S=C[1],k=w[0],I=Object(va.useState)(k.slice(0,0)),T=Object(i.a)(I,2),E=T[0],M=T[1],P=Object(va.useState)(0),R=Object(i.a)(P,2),D=R[0],B=R[1],N=Object(va.useState)(!1),z=Object(i.a)(N,2),F=z[0],Q=z[1];Object(va.useEffect)((function(){-1!==window.location.href.indexOf("?u=")&&function(e){if(l(e),-1!==window.location.href.indexOf("&room=")){var t=window.location.href.split("&")[1].split("&")[0].split("=")[1];Ya=t,U()}}(window.location.href.split("?")[1].split("&")[0].split("=")[1]);var e=function e(t){t.ctrlKey||"Enter"===t.key&&(window.removeEventListener("keydown",e),U())};if(window.addEventListener("keydown",e),""===O){var t=setTimeout((function(){if(clearTimeout(t),M(k.slice(0,D)),D+1>k.length){clearTimeout(t);var e=setTimeout((function(){clearTimeout(e),""===Ya&&(B(0),S([Pa()]))}),4e3)}else B(D+1)}),30);return function(){window.removeEventListener("keydown",e),clearTimeout(t)}}}));var L=function(e){e&&(t.local.information.name!==s||"Anonymous"===t.local.information.name?(La="N",s,t.local.information.name=s,t.local.information.randomAvatar=[],t.local.sendInformation(),t.local.saveInformationToStorage(!0)):La="O",""===O?(o.room=w[0],u!==O&&sessionStorage.setItem("room",w[0]),y(w[0])):(o.room=O,u!==O&&sessionStorage.setItem("room",O),y(O))),""!==O?""===g?window.history.replaceState({},"null","/?room="+O):window.history.replaceState({},"null","/"+g+"/?room="+O):""===g?window.history.replaceState({},"null","/?room="+w[0]):window.history.replaceState({},"null","/"+g+"/?room="+w[0]);var n=setTimeout((function(){clearTimeout(n),O,Qa=!0,da.clear()}),10)},U=function(){h(!0);var e=setTimeout((function(){clearTimeout(e);var t=c()?[2,2,2]:[1,1,1],n=(new DOMMatrix).scaleSelf(t[0],t[1],t[2]);b.setMatrix(n),b.setCommittedMatrix(n);var i=setTimeout((function(){clearTimeout(i),G()}),3e3),o=setTimeout((function(){if(""!==O)Ya=O;else if(void 0!==window.location.href.split("?")[1]){var e=window.location.href.split("&")[1].split("&")[0].split("=")[1];Ya=e}else Ya=w[0];clearTimeout(o),!1===Ga&&(Ga=!0,navigator.mediaDevices.enumerateDevices().then((function(e){return e.forEach((function(e){return""===e.label?Q(!0):L(!0)}))})))}),200)}),100)};function G(){var e=!1,n=0,o=0,r=Array.from(t.remote.keys()).filter((function(e){return e!==t.localId}));if(r.length>0){var s,c=Object(a.a)(r.entries());try{for(c.s();!(s=c.n()).done;){var l,u,d=Object(i.a)(s.value,1)[0],p=Number(null===(l=t.remote.get(r[d]))||void 0===l?void 0:l.pose.position[0]),v=Number(null===(u=t.remote.get(r[d]))||void 0===u?void 0:u.pose.position[1]);if(n=Number(Math.random()*b.screenSize[0])+60,o=Number(Math.random()*b.screenSize[1])+60,n>=p-60&&n<=p+60&&o>=v-60&&o<=v+60)return void G();p>=-60&&p<=60&&v>=-60&&v<=60&&(e=!0)}}catch(h){c.e(h)}finally{c.f()}}else b.setMouse([b.screenSize[0]/2,b.screenSize[1]/2]),t.local.pose.position=Object.assign({},b.mouseOnMap);e?(b.setMouse([n,o]),t.local.pose.position=Object.assign({},b.mouseOnMap),b.focusOn(t.local)):(b.setMouse([b.screenSize[0]/2,b.screenSize[1]/2]),t.local.pose.position=Object.assign({},b.mouseOnMap))}var Y="";-1!==(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))?Y="opera":-1!==navigator.userAgent.indexOf("Edg")?Y="edge":-1!==navigator.userAgent.indexOf("Chrome")?Y="chrome":-1!==navigator.userAgent.indexOf("Safari")?Y="safari":-1!==navigator.userAgent.indexOf("Firefox")&&(Y="firefox");var H=te(),W=H.t,J=H.i18n,K={fontSize:c()?"2.5em":"1em",height:c()?"2em":"1.5em",color:"black",backgroundColor:"white",padding:"3px",width:c()?"14.5em":"15em"},V={fontSize:c()?"1.2em":"1em",color:"white",padding:"0.5em 0 0.2em 0",marginLeft:"-7em"},X={fontSize:c()?"1.2em":"1em",color:"white",padding:"0.2em 0 0.2em 0",marginLeft:"-10.5em"};return Object(Ta.jsxs)(Ba,{onClose:function(){da.clear()},children:[Object(Ta.jsxs)(ya.a,{onClick:function(){return v?da.clear():""},style:v?{overflowY:"hidden",overflowX:"hidden",backgroundColor:"#5f7ca0",fontSize:c()?"2em":"1em",transition:"0.3s ease-out"}:{overflowY:"hidden",overflowX:"hidden",backgroundColor:"#5f7ca0",fontSize:c()?"2em":"1em",transition:"0s ease-out"},children:[Object(Ta.jsx)("p",{style:{textAlign:"right",color:"white",fontSize:c()?"1.2em":"1em"},children:"Version 3.0.7"}),Object(Ta.jsx)(Oa.a,{style:{position:"absolute",top:30,right:20,display:"none"},onClick:function(){var e=(ie.findIndex((function(e){return e===J.language}))+1)%ie.length;J.changeLanguage(ie[e])},children:Object(Ta.jsx)(Sa.a,{})}),Object(Ta.jsx)("p",{}),Object(Ta.jsx)("div",{style:v?{position:"relative",width:"100em",display:"none"}:{position:"relative",width:"100em",display:"block"}}),Object(Ta.jsx)("div",{style:v?{position:"relative",top:"3em",width:"100%",textAlign:"center",opacity:"0",transform:"scale(0.10)",transition:"0.3s ease-out",left:c()?"-0.5em":"0em"}:{position:"relative",top:"4em",width:"100%",textAlign:"center",left:c()?"-0.5em":"0em"},children:Object(Ta.jsx)("img",{style:{width:"30em",userSelect:"none"},draggable:!1,src:fa,alt:""})}),Object(Ta.jsx)("div",{style:v?{position:"relative",top:"-25em",width:"100%",textAlign:"center",display:"none"}:{position:"relative",top:"-25em",width:"100%",textAlign:"center"},children:Object(Ta.jsx)("img",{style:{width:"10em",userSelect:"none"},src:ma,draggable:!1,alt:""})}),Object(Ta.jsx)("br",{}),Object(Ta.jsx)(ja.a,{mt:1,children:Object(Ta.jsxs)("div",{style:v?{position:"relative",top:"-26em",width:"100%",textAlign:"center",display:"none"}:{position:"relative",top:"-26em",width:"100%",textAlign:"center"},children:[Object(Ta.jsxs)(Ca.a,{style:X,children:[" ",W("YourName")," "]}),Object(Ta.jsx)(xa.a,{value:s,autoFocus:!0,disableUnderline:!0,inputProps:{style:K},onChange:function(e){return l(e.target.value)}})]})}),Object(Ta.jsx)(ja.a,{mt:2,children:Object(Ta.jsxs)("div",{style:v?{position:"relative",top:"-26em",width:"100%",textAlign:"center",display:"none"}:{position:"relative",top:"-26em",width:"100%",textAlign:"center"},children:[Object(Ta.jsxs)(Ca.a,{style:V,children:[" ",W("Venue")," "]}),Object(Ta.jsx)(xa.a,{value:O,autoFocus:!1,disableUnderline:!0,placeholder:E,inputProps:{style:K},onChange:function(e){return y(e.target.value)}})]})}),Object(Ta.jsx)(ja.a,{mt:2,children:Object(Ta.jsx)("div",{style:v?{position:"relative",top:c()?"-25.5em":"-25em",width:"100%",textAlign:"center",display:"none"}:{position:"relative",top:c()?"-25.5em":"-25em",width:"100%",textAlign:"center"},children:Object(Ta.jsx)("img",{style:{width:"4em",userSelect:"none"},src:ga,draggable:!1,onClick:function(){return U()},alt:""})})}),Object(Ta.jsx)(ja.a,{mt:7,children:Object(Ta.jsx)("div",{style:v?{position:"relative",top:c()?"8.6em":"8.5em",width:"100%",height:"100%",textAlign:"center",display:"block"}:{position:"relative",top:c()?"-23em":"-24em",width:"100%",textAlign:"center"},children:Object(Ta.jsx)("img",{style:{width:c()?"9.5em":"8em",userSelect:"none"},src:Aa,draggable:!1,alt:""})})}),Object(Ta.jsx)(ja.a,{mt:7,children:Object(Ta.jsx)("div",{style:F&&Ga?{position:"absolute",top:c()?"8.6em":"5em",width:"95%",height:"50%",textAlign:"center",fontSize:c()?"1.5em":"1.4em",fontWeight:"bold",display:"block",color:"white",userSelect:"none"}:{position:"absolute",top:c()?"-23em":"-24em",width:"95%",height:"50%",textAlign:"center",display:"none"},children:Object(Ta.jsxs)("p",{children:["Welcome to ",Ya]})})})]}),Object(Ta.jsxs)(ka.a,{open:F,keepMounted:!0,PaperProps:{style:{backgroundColor:"white",position:"relative",overflow:"hidden",borderRadius:"20px",width:450,height:c()?507:438,zIndex:0,left:"0px",transform:c()?"scale(1.5)":"scale(1)"}},BackdropProps:{invisible:!0},children:[Object(Ta.jsxs)(Ia.a,{disableTypography:!0,style:{fontWeight:"bold",fontSize:c()?"1.7em":"1.4em",textAlign:"left",userSelect:"none",position:"relative",top:"60px",paddingLeft:"40px"},children:[Object(Ta.jsx)("div",{style:{position:"relative",width:"370px",height:"116px",backgroundColor:"grey",top:"-40px",userSelect:"none"},children:Object(Ta.jsx)("img",{src:"safari"===Y?Fa:za,width:"370px",height:"116px",style:{paddingLeft:"-40px"},alt:""})}),W("welcomePermission")]}),Object(Ta.jsxs)(ya.a,{style:{overflow:"hidden"},children:[Object(Ta.jsx)("div",{children:Object(Ta.jsx)("div",{style:{position:"relative",left:"0px",fontSize:c()?"1.7em":"1.4em",textAlign:"left",userSelect:"none",padding:"15px",top:"20px"},children:Object(Ta.jsx)("p",{children:W("permissionTitle")})})}),Object(Ta.jsx)(Oa.a,{variant:"contained",color:"primary",style:{textTransform:"none",marginTop:"0em",height:"50px",fontSize:c()?"24px":"20px",fontWeight:"normal",textAlign:"center",width:"90%",userSelect:"none",marginLeft:"4%"},onClick:function(e){L(!0)},children:W("reqPermission")})]})]})]})};Ha.displayName="TheEntrance";var Wa=n(174),Ja=n.n(Wa),Ka=n(52),Va=n(607),Xa=n(339),Za=n(603),qa=n(595),_a=n(597),$a=n(299),er=n.n($a),tr=n(182),nr=n.n(tr),ir=n(301),or=n.n(ir),ar=n(300),rr=n.n(ar),sr=n(181),cr=n.n(sr),lr=n(298),ur=n.n(lr),dr=n(614),pr=n(125),vr=n(593),hr=n(592),br=n(619),fr=30,mr=function(e){return Object(Ta.jsx)(hr.a,{container:!0,spacing:2,children:Object(Ta.jsx)(br.a,{value:e.value,min:0,max:fr,track:!1,valueLabelDisplay:"auto","aria-labelledby":"continuous-slider",style:{width:200},onChange:function(t,n){return e.setValue(n)},valueLabelFormat:function(e){return e===fr?"\u221e":e.toString()}})})},gr=function(e){var t=e.roomInfo,n=e.participants.local,i=Object(pa.b)((function(){return n.remoteVideoLimit})),o=Object(pa.b)((function(){return n.remoteAudioLimit})),a=Object(Ta.jsx)(mr,{value:i>=0?i:fr,setValue:function(e){n.remoteVideoLimit=e===fr?-1:e}}),r=Object(Ta.jsx)(mr,{value:o>=0?o:fr,setValue:function(e){n.remoteAudioLimit=e===fr?-1:e}});return Object(Ta.jsxs)(Ta.Fragment,{children:[Object(Ta.jsx)(vr.a,{control:a,label:ee("videoLimit")}),Object(Ta.jsx)(vr.a,{control:r,label:ee("audioLimit")}),Object(Ta.jsx)("br",{}),Object(Ta.jsx)(Oa.a,{variant:"contained",color:t.passMatched?"primary":"default",style:{textTransform:"none"},disabled:!t.passMatched,onClick:function(){t.passMatched&&Uo.dataConnection.sync.sendTrackLimits("",[n.remoteVideoLimit,n.remoteAudioLimit])},children:"Sync limits"})]})};gr.displayName="RemoteTrackLimitControl";var Ar=function(e){var t=ha.a.useState(""),n=Object(i.a)(t,2),o=n[0],a=n[1],r=ha.a.useState(!1),s=Object(i.a)(r,2),c=s[0],l=s[1],u=ha.a.useState(!1),d=Object(i.a)(u,2),p=d[0],v=d[1],h=ha.a.useRef(null),b=ha.a.useRef(null),f=e.stores.roomInfo;return Object(Ta.jsx)(pa.a,{children:function(){var t=U(f.backgroundFill)?"white":"black",n=U(f.backgroundColor)?"white":"black",i=f.passMatched?"primary":"default";return Object(Ta.jsxs)(ja.a,{m:2,children:[Object(Ta.jsx)(ja.a,{m:2,children:Object(Ta.jsx)(gr,Object(wn.a)({},e.stores),"remotelimitcontrol")}),Object(Ta.jsxs)(ja.a,{mt:2,mb:2,children:[Object(Ta.jsx)(dr.a,{autoFocus:!0,label:"Admin password",type:"password",style:{marginTop:-12},value:null===f||void 0===f?void 0:f.password,onChange:function(e){f.password=e.currentTarget.value},onKeyPress:function(e){return function(e,t){if("Enter"===e.key){var n=t.roomProps.get("password");t.passMatched=t.password===(n||"")}}(e,f)}}),"\u2003",Object(Ta.jsx)(Oa.a,{variant:"contained",color:"primary",style:{textTransform:"none"},onClick:function(){var e=f.roomProps.get("password");e||(e=""),f.passMatched=(null===f||void 0===f?void 0:f.password)===e},children:" Check "}),"\u2003",f.passMatched?"OK":"Not matched"]}),Object(Ta.jsxs)(ja.a,{mt:2,mb:2,children:[Object(Ta.jsx)(dr.a,{label:"New password to update",type:"text",style:{marginTop:-12},value:null===f||void 0===f?void 0:f.newPassword,onChange:function(e){f.newPassword=e.currentTarget.value}}),"\u2003",Object(Ta.jsx)(Oa.a,{variant:"contained",color:i,disabled:!f.passMatched,style:{textTransform:"none"},onClick:function(){f.passMatched&&Uo.dataConnection.setRoomProp("password",f.newPassword)},children:" Update password "}),"\u2003"]}),Object(Ta.jsxs)(ja.a,{mt:2,children:[Object(Ta.jsx)(Oa.a,{variant:"contained",color:i,style:{textTransform:"none"},disabled:!f.passMatched,onClick:function(){f.passMatched&&Uo.dataConnection.sendMessage(Rn.MUTE_VIDEO,!0)},children:" Mute all videos "})," \xa0",Object(Ta.jsx)(Oa.a,{variant:"contained",color:i,style:{textTransform:"none"},disabled:!f.passMatched,onClick:function(){f.passMatched&&Uo.dataConnection.sendMessage(Rn.MUTE_VIDEO,!1)},children:" Show all videos "}),"\u2003",Object(Ta.jsx)(Oa.a,{variant:"contained",color:i,style:{textTransform:"none"},disabled:!f.passMatched,onClick:function(){f.passMatched&&Uo.dataConnection.sendMessage(Rn.MUTE_AUDIO,!0)},children:" Mute all mics "}),"\xa0",Object(Ta.jsx)(Oa.a,{variant:"contained",color:i,style:{textTransform:"none"},disabled:!f.passMatched,onClick:function(){f.passMatched&&Uo.dataConnection.sendMessage(Rn.MUTE_AUDIO,!1)},children:" Switch on all mics "})]}),Object(Ta.jsxs)(ja.a,{mt:2,children:[Object(Ta.jsx)(Oa.a,{variant:"contained",color:i,style:{textTransform:"none"},disabled:!f.passMatched,onClick:function(){f.passMatched&&ea.removeAllContents()},children:" Remove all Contents "}),"\u2003",Object(Ta.jsx)(Oa.a,{variant:"contained",color:i,style:{textTransform:"none"},disabled:!f.passMatched,onClick:function(){if(f.passMatched){var e=new Set(ea.roomContentsInfo.keys());ea.all.forEach((function(t){return e.add(t.id)})),ea.all.filter((function(e){return e.ownerName===o})).forEach((function(e){return ea.removeByLocal(e.id)}))}},children:" Clear contents by user name "})," \u2009",Object(Ta.jsx)(dr.a,{label:"name",type:"text",style:{marginTop:-12},value:o,onChange:function(e){a(e.currentTarget.value)}})]}),Object(Ta.jsxs)(ja.a,{mt:2,children:[Object(Ta.jsx)(Oa.a,{variant:"contained",color:i,style:{textTransform:"none"},disabled:!f.passMatched,onClick:function(){f.passMatched&&Uo.isDataConnected()&&Uo.dataConnection.pushOrUpdateMessageViaRelay(Rn.RELOAD_BROWSER,{})},children:" Reload "}),"\u2003",Object(Ta.jsx)(Oa.a,{variant:"contained",disabled:!f.passMatched,style:f.passMatched?{backgroundColor:Y(f.backgroundFill),color:t,textTransform:"none"}:{textTransform:"none"},onClick:function(){f.passMatched&&l(!0)},ref:h,children:"Back color"}),Object(Ta.jsx)(qa.a,{open:c,onClose:function(){l(!1),Uo.dataConnection.setRoomProp("backgroundFill",JSON.stringify(f.backgroundFill))},anchorEl:h.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(Ta.jsx)(pr.a,{color:{r:f.backgroundFill[0],g:f.backgroundFill[1],b:f.backgroundFill[2]},disableAlpha:!0,onChange:function(e,t){t.preventDefault(),f.backgroundFill=[e.rgb.r,e.rgb.g,e.rgb.b]}})}),"\xa0",Object(Ta.jsx)(Oa.a,{variant:"contained",disabled:!f.passMatched,style:f.passMatched?{backgroundColor:Y(f.backgroundColor),color:n,textTransform:"none"}:{textTransform:"none"},onClick:function(){f.passMatched&&v(!0)},ref:b,children:"Pattern color"}),Object(Ta.jsx)(qa.a,{open:p,onClose:function(){v(!1),Uo.dataConnection.setRoomProp("backgroundColor",JSON.stringify(f.backgroundColor))},anchorEl:b.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(Ta.jsx)(pr.a,{color:{r:f.backgroundColor[0],g:f.backgroundColor[1],b:f.backgroundColor[2]},disableAlpha:!0,onChange:function(e,t){t.preventDefault(),f.backgroundColor=[e.rgb.r,e.rgb.g,e.rgb.b]}})}),"\xa0",Object(Ta.jsx)(Oa.a,{variant:"contained",color:i,style:{textTransform:"none"},disabled:!f.passMatched,onClick:function(){f.passMatched&&(f.backgroundFill=f.defaultBackgroundFill,f.backgroundColor=f.defaultBackgroundColor,Uo.dataConnection.setRoomProp("backgroundFill",JSON.stringify(f.backgroundFill)),Uo.dataConnection.setRoomProp("backgroundColor",JSON.stringify(f.backgroundColor)))},children:" Default "}),"\u2003"]})]})}})},jr=n(598),Or=n(616),yr=n(74),xr=n.n(yr),Cr=n(107),wr=n.n(Cr),Sr=n(342),kr=Object(_a.a)({root:{padding:2},formControlLabel:{fontSize:c()?"2.5em":"1em"}}),Ir=function(e){var t=e.stores.participants.local,n=kr(),i=Object(Ta.jsx)(pa.a,{children:function(){return Object(Ta.jsx)(Or.a,{icon:Object(Ta.jsx)(wr.a,{htmlColor:"transparent"}),checkedIcon:Object(Ta.jsx)(xr.a,{style:{fontSize:c()?"2em":"1em"},htmlColor:"black"}),className:n.root,checked:t.physics.onStage,name:"broadcast",onChange:function(e){return t.setPhysics({onStage:e.target.checked})}})}}),o=te().t;return Object(Ta.jsxs)(jr.a,{children:[Object(Ta.jsx)("div",{style:{width:"150%",height:"1.5px",backgroundColor:"#bcbec0",marginLeft:"-40px"}}),Object(Ta.jsx)(vr.a,{style:{position:"relative",top:"5px",left:"-25px",fontSize:c()?"2em":"1em"},control:i,label:Object(Ta.jsx)(Sr.a,{className:n.formControlLabel,children:o("broadcastMyVoice")})})]})};Ir.displayName="BroadcastControl";var Tr=n(547),Er=n(599);function Mr(e,t){return{onMouseOver:function(n){var i;null!==(i=n.nativeEvent.sourceCapabilities)&&void 0!==i&&i.firesTouchEvents||(t.timeout&&(clearTimeout(t.timeout),t.timeout=void 0),e(!0))},onMouseOut:function(n){t.timeout&&clearTimeout(t.timeout),t.timeout=setTimeout((function(){e(!1),t.timeout=void 0}),500)}}}var Pr=function(e){return Object(Ta.jsx)(Er.a,{in:e.show,style:e.style,children:Object(Ta.jsx)(Tr.a,{className:e.className,color:e.color,onClick:function(t){e.onClickMore&&e.onClickMore(t)},size:"small",ref:e.buttonRef,children:Object(Ta.jsx)("img",{src:"data:image/png;base64,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",width:c()?90:45,height:c()?60:30,draggable:!1,alt:""})})})},Rr=n(601),Dr=n(600),Br=Object(_a.a)((function(e){return{container:{display:"inline-block",marginLeft:e.spacing(2),marginRight:e.spacing(2),marginTop:e.spacing(1),marginBottom:e.spacing(1),pointerEvents:"auto"}}})),Nr=function(e){var t=Br(),n=Object(va.useState)(!1),o=Object(i.a)(n,2),a=(o[0],o[1]),r=Object(va.useRef)({timeout:void 0}).current,s="";return void 0!==e.index&&!0===e.isOpen&&(s=e.index/2*.3+.5+"s"),Object(Ta.jsxs)("div",Object(wn.a)(Object(wn.a)({className:t.container+(e.className?" ".concat(e.className):""),style:e.style,ref:e.divRef},Mr(a,r)),{},{children:[Object(Ta.jsx)(Dr.a,{style:{height:e.size,width:e.size},onClick:function(t){e.onClick&&e.onClick(t)},onMouseDown:function(t){e.onDown&&e.onDown(t)},onTouchStart:function(t){e.onDown&&e.onDown(t)},onContextMenu:function(t){t.preventDefault(),e.onClickMore&&e.onClickMore(t)},color:e.color,onFocus:function(e){var t;null===(t=e.target)||void 0===t||t.blur()},children:e.children}),e.onClickMore?Object(Ta.jsx)(Pr,{style:c()?e.isOpen?{position:"relative",top:-103,left:-95,marginRight:-81,opacity:.8,transition:"0.3s ease-out",transitionDelay:s}:{position:"relative",top:-10,left:-95,marginRight:-81,opacity:0,transition:"0.1s ease-out",transitionDelay:"0s"}:e.isOpen?{position:"relative",top:-53,left:-52,marginRight:-41,opacity:.8,transition:"0.3s ease-out",transitionDelay:s}:{position:"relative",top:-10,left:-52,marginRight:-41,opacity:0,transition:"0.1s ease-out",transitionDelay:"0s"},show:!0,color:e.color,htmlColor:e.htmlColor,iconColor:e.iconColor,onClickMore:e.onClickMore}):void 0]}))},zr=function(e){return e.title?Object(Ta.jsx)(Rr.a,{placement:"top-start",arrow:!0,title:e.title,children:Object(Ta.jsx)("span",{style:{paddingTop:20},children:Object(Ta.jsx)(Nr,Object(wn.a)({},e))})}):Object(Ta.jsx)(Nr,Object(wn.a)({},e))},Fr=n(338),Qr=n(605),Lr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAAC4jAAAuIwF4pT92AAACtElEQVR4nO3d8U3bQBhA8a9V/ycblE7QdANGyAhhg4zACN2g6QTNBoUJSjeADZIJrrJ0kVDpGftsH7zq/aSoFeCPqx+uExvBu5RSiOm93biMB2Y8MOOBGQ/MeGDGAzMemPHAjAdmPDDjgRkPzHhgxgMzHpjxwIwHZjww44EZD8x4YMYDMx6Y8cCMB2Y8MOOBGQ/MeGDGAzMemPHAjAdmPDDjgRkPzHhgxgMzHpjxwIwHZjww44EZD+zDG1j6Vf7zPiKOM85dRcQ6//12xrlLzx6u+5GNjR+rlNJNSukhPfeQ37eqXFPf7PuU0m7C7MuU0r5n9rb1vmwdbpNSOv7jH/+3Y/7YMbO3A2d3O389cvZuwNxzxLGzEfG2A3fAU0O/msfOPo7YyfsFZ096tPpJt9354Vfltl/y+bCkO2f+rJh7yut66PmYTUT8qJj9mGfPeQ5/ptWzza8LbruvHH0RETc9719NmP0xInaV2w7W4sibctSdlY6+2iPjqU+Fo28bEd8mzD3lL4DFtDjyNgvOuCq8fYzSjKnrvphpfUUt4l3OMGM98u1jlNY3x7qNt/R/PwWfX+FzjtIiXt+zuaEWfdZW8PsVPucolHillwp9LyGGKq1vjnUveumsRbzDgjPm2DmlGVPXffof4nVHx92E7e96jrBDfkFc63vPEXbIAWpNeW07iFdYvMLyom7nX1dsdz3gvHZbMfuUo790Xjvko3Ps7E2TJ1kNL0yHdxXmfbSOF97P491V6HO+CkG62/0m7qT7yw/B/AYkMOOBGQ/MeGDGAzMemPHAjAdmPDDjgRkPzHhgxgMzHpjxwIwHZjww44EZD8x4YMYDMx6Y8cCMB2Y8MOOBGQ/MeGDGAzMemPHAjAdmPDDjgRkPzHhgxgMzHpjxwIwHZjww44EZD8x4YMajiog/21dcxOr72+UAAAAASUVORK5CYII=",Ur="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAAC4jAAAuIwF4pT92AAADU0lEQVR4nO3cMWsTYRzH8W9FrIKDCCKClU4OIjSb4tSX0JdQxaEqODgKooivQBCdtIObS9+BcRGdjOLkVHARF7u1dYnDpSaRJJecvfs/vye/LwR6pMnzlA93l1zvbqHb7eI0OxI9AVc94wlnPOGMJ5zxhDOecMYTznjCGU844wlnPOGMJ5zxhDOecMYTznjCGU844wlnPOGMJ5zxhDOecMYTznjCGU844wlnPOGMJ5zxhDsaPYFDahV4ApxvcMw94D1wD9hpcNy/LWRwidcq8DZw/O/AhYiBc9hsPgwefwlYixg4B7yl6AkArYhBc8DLZb89c7n+4e+Adk3vvQGcrem9ZypXvDbwqKb3XiMRvBw2m3Ob8YQznnDGE854wql82jwF3Or9/JygY4mppYDXAj4Ai73lB8AlYLu3vDfiNXOBm/pmswV8pA8HcAJYH1j+OuJ17fqmlE4p4x3AHSv5vZvA597P+8B9oFPjvJIp1c3mJLh9YHNgeYegA8PRpbjmla1xG/T3d3NdanhlcNcZXuvmupTwDDdjqeAZrkIp4BmuYtF4hvuPIvGWKY6cTPoe9wroBjw6FIfkki4S7zXDR05SaoX+sdRki8Rr8gTZKl2OnkBZkXhfAseepjfREygrEu8usBs4/rh+Uexrt6InUlYk3jZwjcmAd4CFhh+ngRuH9UfWWfRXhQ6TAZ8Bt5ubjlbReNAH3B/zvAHHlAIeFIBXgd9jnjfgiFLBgwLwCgacupTwYDrA9cZmk3ip4UE54AuKQ2v/1kLgkNZhliIeTAZcZHjtWwZ+Ap8ovqO9rHluyZQqHpSvgQc9Bc4MLF9nTs5pSRkP+oCD52buMvxvoosjXhdymXHTpXr22GAd4Bx9kC2GT6o93viMEkkBDwqszehJpFbqm003IeMJZzzhjCec8YRT+bQ5a2sUR172gB8zvrZd8vzJCvOppVzxVnqPKkXfy2zqcthsjroydi7KAe9b9AQIupgzh/ttTnsFbV2F3W8zBzwoAB9T3Gigqf2473TrqpfDPm9uM55wxhPOeMIZTzjjCWc84YwnnPGEM55wxhPOeMIZTzjjCWc84YwnnPGEM55wxhPOeMIZTzjjCWc84YwnnPGEM55wxhPOeMIZT7g/q2qRvKQQJk8AAAAASUVORK5CYII=",Gr=n(302),Yr=n.n(Gr);function Hr(e){var t=e.split("_");return r(t.length<=2),Object(Ta.jsxs)(Ta.Fragment,{children:[t[0],t[1]?Object(Ta.jsxs)(Ta.Fragment,{children:[Object(Ta.jsx)("strong",{children:t[1].substr(0,1)}),t[1].substr(1)]}):void 0]})}var Wr,Jr,Kr,Vr,Xr=n(549),Zr=n(602),qr=function(e){var t=e.icon,n=e.text,i=e.plain,o=e.secondEl,a=e.tip,r=e.dense,s=e.onClick,l=n?Hr(n):void 0,u=c()?"2.5em":"1em",d=Object(Ta.jsxs)(Xr.a,{button:!0,dense:r,onClick:s,style:{alignItems:"start"},children:[t?Object(Ta.jsx)(Zr.a,{style:{fontSize:u,height:u},children:t}):void 0,Object(Ta.jsxs)("div",{style:{fontSize:c()?"2.5em":"1.2em",verticalAlign:"middle"},children:[l||i,o?Object(Ta.jsxs)(Ta.Fragment,{children:[Object(Ta.jsx)("br",{}),o]}):void 0]})]});return a?Object(Ta.jsx)(Rr.a,{title:a,placement:"top-end",enterDelay:1e3,children:d}):d},_r=n(144),$r=[],es=!1;function ts(e,t,n,i){e||(e=100),t||(t=100),n.style.width="".concat(e,"px"),n.style.height="".concat(t,"px"),n.width=e,n.height=t,Vr||(Vr=window.document.createElement("canvas")),Vr.width=e,Vr.height=t;var o=Vr.getContext("2d");if(o){if(o.strokeStyle=On.local.getColor()[2],o.lineWidth=6,o.lineCap="round",o.fillRect(0,0,e,t),On.local.information.avatarSrc&&!Kr&&((Kr=new Image).onload=function(){es=!0},Kr.crossOrigin="anonymous",Kr.src=On.local.information.avatarSrc),!On.local.information.avatarSrc&&Kr&&(Kr.remove(),es=!1,Kr=void 0),es&&Kr)o.drawImage(Kr,0,0,Kr.width,Kr.height,0,0,e,t);else{var r=On.local.information.name.split(" "),s="";r.forEach((function(e){return s+=e?e.substring(0,1):""})),s=s.substring(0,2),o.fillStyle=W(On.local.getTextColorRGB(),.5),o.font="".concat(.3*t,"px Sans"),o.textAlign="center",o.textBaseline="middle",o.fillText(s,.5*e,.5*t,.8*e),o.fillStyle=On.local.getColor()[0]}i&&($r=i.landmarks.positions);var c=[$r.slice(0,17),$r.slice(17,22),$r.slice(22,27),$r.slice(27,31),$r.slice(31,36)],l=[$r.slice(36,42),$r.slice(42,48)],u=[$r.slice(60,68)];p(o,c,!1),p(o,l,!0),p(o,u,!0);var d=n.getContext("2d");null===d||void 0===d||d.drawImage(Vr,0,0)}function p(e,t,n){var i,o=Object(a.a)(t);try{for(o.s();!(i=o.n()).done;){var r=i.value;e.beginPath();var s,c=Object(a.a)(r);try{for(c.s();!(s=c.n()).done;){var l=s.value;l===r[0]?e.moveTo(l.x,l.y):e.lineTo(l.x,l.y)}}catch(u){c.e(u)}finally{c.f()}n&&e.closePath(),e.stroke()}}catch(u){o.e(u)}finally{o.f()}}}var ns,is=[],os=-1,as=[],rs=[],ss=-1,cs=[];var ls,us,ds,ps=!1;function vs(){Wr&&(clearInterval(Wr),Wr=void 0),Jr&&(Jr.srcObject=null),On.local.viewpoint.nodding=void 0}function hs(e,t){return new Promise((function(n,i){t||(t=On.local.devicePreference.videoInputDevice),navigator.mediaDevices.getUserMedia({video:Object(wn.a)({deviceId:t},config.rtc.video)}).then((function(t){if(e){Jr||(Object(_r.d)("/faceApiModels").then((function(){Object(_r.c)("/faceApiModels").then((function(){ps=!0}))})),(Jr=window.document.createElement("video")).autoplay=!0),ns||(ns=window.document.createElement("canvas")),Jr.srcObject=t,Wr&&clearInterval(Wr);var i=new _r.a({inputSize:160,scoreThreshold:.5});Wr=setInterval((function(){null!==Wr&&(ps?Object(_r.b)(Jr,i).withFaceLandmarks(!0).then((function(e){return ts(Jr.videoWidth,Jr.videoHeight,ns,e),function(e){if(e){var t=[e.detection.relativeBox.x,e.detection.relativeBox.y],n=e.detection.relativeBox.width,i=j([e.landmarks.positions[30].x,e.landmarks.positions[30].y],[e.detection.box.left,e.detection.box.top]);if(i[0]=i[0]/e.detection.box.width,i[1]=i[1]/e.detection.box.height,rs.length){var o=.2;rs=A(y(o,t),y(.8,is)),ss=o*n+.8*os,cs=A(y(.4,i),y(.6,as))}else rs=t,ss=n,cs=i;if(is.length){var a=j(rs,is),r=ss-os,s=I(On.local.pose.orientation,[a[0],r]);On.local.pose.position=A(On.local.pose.position,y(-100,s))}if(as.length){var c=j(cs,as);On.local.pose.orientation+=-100*c[0];var l=On.local.viewpoint.nodding?On.local.viewpoint.nodding+c[1]:c[1];On.local.viewpoint.nodding=.99*l}is=rs,os=ss,as=cs}}(e),e})).catch((function(){ts(Jr.videoWidth,Jr.videoHeight,ns)})):ts(Jr.videoWidth,Jr.videoHeight,ns))}),1e3/15);var o={track:ns.captureStream(15).getVideoTracks()[0],peer:On.local.id,role:"avatar"};n(o)}else{vs();var a={track:t.getVideoTracks()[0],peer:On.local.id,role:"avatar"};n(a)}})).catch(i)}))}var bs=(ls=fe.h.shallow,us=Object(V.a)((function e(){Object(X.a)(this,e),Object(J.a)(this,"videos",ds,this),Object(fe.g)(this)})),ds=Object(K.a)(us.prototype,"videos",[ls],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),us),fs=function(e){var t=e.setStep,n=e.stores,i=n.contents,o=n.map,a=n.participants,r=Object(pa.b)((function(){return e.cameras.videos.map((function(e,t){return function(e,t,n){var i=!1;i=e.deviceId===a.local.devicePreference.videoInputDevice;var o=String.fromCharCode(65+n);return Object(Ta.jsx)(Za.a,{onClick:function(){t(e.deviceId)},children:"".concat(o,"\xa0").concat(i?"\ud83d\ude42\xa0":"\xa0\xa0\u2003").concat(e.label)},e.deviceId)}(e,s,t)}))}));function s(n){t("none"),n&&hs(!1,n).then((function(t){var n=li([t.track],o,"screen",Object(e).xCord,Object(e).yCord,Object(e).from);i.assignId(n),t.role=n.id,i.getOrCreateContentTracks(Uo.rtcConnection.peer,n.id),i.shareContent(n),Uo.addOrReplaceLocalTrack(t)}))}return Object(va.useEffect)((function(){var t=function(t){if("Key"===t.code.substring(0,3)){var n,i=t.code.charCodeAt(3)-65;s(null===(n=e.cameras.videos[i])||void 0===n?void 0:n.deviceId)}};return window.addEventListener("keypress",t),function(){window.removeEventListener("keypress",t)}}),[]),Object(Ta.jsx)(Ta.Fragment,{children:r})};fs.displayName="CameraSelector";var ms=function(e){e.onSelectedFile;return Object(va.useEffect)((function(){if(gapi&&window.gapiPickerReady)sessionStorage.getItem("gdriveToken")})),Object(Ta.jsx)(Ta.Fragment,{children:"loading..."})};ms.displayName="GoogleDriveImport";var gs=n(185),As=n(596),js=n(550),Os=Object(Fr.a)({palette:{primary:{main:"#7ececc"},secondary:{main:"#ef4623"}}}),ys=Object(js.a)({mainContainer:{display:"flex",height:"100%",width:"100%"},menuContainer:{position:"relative",top:"12px",width:"100px",height:"100px"},galleryMain:{width:"100%",height:"100%",minWidth:"440px",minHeight:"245px",border:"2px dashed #00000030",left:"5px"},gallery:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:10,overflowY:"scroll",overflowX:"hidden",height:"300px",alignContent:"flex-start"},deavticeButtons:{position:"relative",padding:"10px",fontSize:c()?"1.5em":"1em",fontWeight:"bold",borderBottom:"2px solid #7ececc",color:"#000000",cursor:"pointer"},avticeButtons:{position:"relative",padding:"10px",fontSize:c()?"1.5em":"1em",fontWeight:"bold",borderBottom:"2px solid #7ececc",color:"#ef4623",cursor:"default"}}),xs="";function Cs(){return xs}function ws(e){var t=e.setStep,n=e.value,o=e.onFinishInput,a=e.inputField,r=ys(),s=Object(va.useState)(1),l=Object(i.a)(s,2),u=l[0],d=l[1],p=Object(va.useState)(-1),v=Object(i.a)(p,2),h=v[0],b=v[1],f=Object(va.useState)(""),m=Object(i.a)(f,2),g=m[0],A=m[1];Object(va.useEffect)((function(){A("zones/Floors/Bear Rug - Cyan.png,zones/Floors/Bear Rug - Pink.png,zones/Floors/Rectangle - Yellow.png,zones/Floors/Rug - Cyan.png,zones/Floors/Rug - Pink.png,zones/Floors/Rug - Purple.png,zones/Misc/Plant 1.png,zones/Misc/Plant 2.png,zones/Misc/Plant 3.png,zones/Seats/1 Desk Green.png,zones/Seats/2 Chairs Green.png,zones/Seats/2 Couch with Bear Rug Pink.png,zones/Seats/2 Seats Pink.png,zones/Seats/3 Couch with Bear Rug Cyan.png,zones/Seats/3 Couches Green.png,zones/Seats/4 Conference Table Green.png,zones/Seats/4 Couches Orange.png,zones/Seats/5 Couches Orange.png,zones/Seats/6 Conference Table Green.png,zones/Seats/6 Conference Table Pink.png,zones/Seats/8 Conference Table Green.png,")}),[]);for(var j=[],O=[],y="",x=g.split(","),C="",w="",S="",k=0;k<x.length;k++)-1!==x[k].indexOf("Floors")?C+=x[k]+",":-1!==x[k].indexOf("Misc")?w+=x[k]+",":-1!==x[k].indexOf("Seats")&&(S+=x[k]+",");for(var I=(S+C+w).split(","),T=0;T<I.length-1;T++)-1===j.indexOf(I[T].split("/")[1])&&j.push(I[T].split("/")[1]);for(var E=0;E<j.length;E++){for(var M=0;M<I.length-1;M++)j[E]===I[M].split("/")[1]&&(y+=I[M]+",");O.push(y),y=""}var P=[];if(O.length>0&&u>0)for(var R=O[u-1].split(","),D=function(e){P.push(Object(Ta.jsxs)("div",{onClick:function(){!function(e){var t=O[u-1].split(",");xs=t[e],b(e)}(e)},children:[Object(Ta.jsx)("img",{src:encodeURIComponent(R[e]),style:{width:"130px",minHeight:"130px",height:"130px",objectFit:"contain",padding:"2px",border:h===e?"3px solid #ef4623":"3px dotted #00000020"},alt:""}),Object(Ta.jsx)("div",{style:{textAlign:"center",position:"relative",fontWeight:"bold",marginTop:"-5px"},children:R[e].split("/")[2].split(".")[0]})]}))},B=0;B<R.length-1;B++)D(B);function N(e){xs="",b(-1),d(e)}return Object(Ta.jsxs)("div",{className:r.mainContainer,children:["zoneimage"===e.type?Object(Ta.jsxs)("div",{className:r.menuContainer,children:[j.map((function(e,t){return Object(Ta.jsx)("div",{className:u===t+1?r.avticeButtons:r.deavticeButtons,onClick:function(){N(t+1)},children:e})})),Object(Ta.jsx)("div",{className:0===u?r.avticeButtons:r.deavticeButtons,onClick:function(){N(0)},children:"Upoad"})]}):"",Object(Ta.jsxs)(As.a,{children:[0===u?Object(Ta.jsx)(Xr.a,{style:"zoneimage"===e.type?{minWidth:"490px",height:"320px"}:{minWidth:"540px",height:"320px"},children:a}):u>=1&&"zoneimage"===e.type?Object(Ta.jsx)(Xr.a,{style:{minWidth:"470px"},children:Object(Ta.jsx)("div",{className:r.galleryMain,children:Object(Ta.jsx)("div",{className:r.gallery,children:P})})}):"",Object(Ta.jsx)(Xr.a,{children:Object(Ta.jsx)(Qr.a,{theme:Os,children:Object(Ta.jsx)(Oa.a,{variant:"contained",color:"primary",style:{fontSize:c()?"1.5em":"1em"},onClick:function(){o(n),t("none")},children:"Done"})})})]})]})}ws.displayName="Input";var Ss=n(615),ks=n(620),Is=n(594),Ts=n(546),Es=Object(js.a)({preview:{width:"100%",height:"100%"},dZoneStyle:{minHeight:"300px"},dZoneTextStyle:{minHeight:"90px"}}),Ms=function(e){var t=e.setStep,n=Es(),o=Object(va.useState)([]),a=Object(i.a)(o,2),r=a[0],s=a[1],c=Object(va.useState)(sessionStorage.getItem("uploadTypePreferences")||"gyazo"),l=Object(i.a)(c,2),u=l[0],d=l[1],p=te().t,v=Object(Ta.jsx)(gs.a,{acceptedFiles:["image/*"],dropzoneText:p("imageDropzoneText"),dropzoneClass:n.dZoneStyle,dropzoneParagraphClass:n.dZoneTextStyle,onChange:s,previewGridProps:{container:{spacing:1,direction:"row"}},previewChipProps:{classes:{root:n.preview}}});Object(va.useEffect)((function(){sessionStorage.setItem("uploadTypePreferences",u)}),[u]);var h=e.stores.map;return Object(Ta.jsxs)(Ta.Fragment,{children:[Object(Ta.jsx)(ja.a,{mt:0,children:Object(Ta.jsxs)(Is.a,{component:"fieldset",style:{display:"none"},children:[Object(Ta.jsx)(Ts.a,{component:"legend",children:"File storage type:"}),Object(Ta.jsxs)(ks.a,{style:{display:"flex",flexDirection:"row"},"aria-label":"upload-files-to",defaultValue:"gyazo",value:u,name:"upload-files-to",onChange:function(e){d(e.target.value)},children:[Object(Ta.jsx)(vr.a,{value:"gyazo",control:Object(Ta.jsx)(Ss.a,{}),label:"Gyazo"}),Object(Ta.jsx)(vr.a,{value:"gdrve",control:Object(Ta.jsx)(Ss.a,{}),label:"Google Drive"})]})]})}),Object(Ta.jsx)(ws,{stores:e.stores,setStep:t,onFinishInput:function(t){""===Cs()?t.forEach(function(){var t=Object(Jn.a)(Vn.a.mark((function t(n,i){return Vn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:30,-20,ai(n,h,[30*i,-20*i],u,e.type,e.xCord,e.yCord,e.from,"").then((function(e){return ea.shareContent(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()):(ri(Cs(),h,[0,0],e.type,e.xCord,e.yCord,e.from,"").then((function(e){return ea.shareContent(e)})),xs="")},value:r,inputField:v,type:e.type})]})},Ps=Object(Fr.a)({palette:{primary:{main:"#7ececc"},secondary:{main:"#ef4623"}}});function Rs(e){var t=e.setStep,n=e.value,i=e.onFinishInput,o=e.inputField;return Object(Ta.jsxs)(As.a,{children:[Object(Ta.jsx)(Xr.a,{children:o}),Object(Ta.jsx)(Xr.a,{children:Object(Ta.jsx)(Qr.a,{theme:Ps,children:Object(Ta.jsx)(Oa.a,{style:{fontSize:c()?"2em":"1em"},variant:"contained",color:"primary",onClick:function(){i(n),t("none")},children:"Done"})})})]})}Rs.displayName="SettingInput";var Ds=n(177),Bs=n.n(Ds),Ns=Object(js.a)({preview:{width:"100%",height:"100%",top:"-20em"},dropZoneTitle:{fontSize:c()?"2em":"1em"}}),zs=function(e){var t=e.setStep,n=Ns(),o=Object(va.useState)([]),a=Object(i.a)(o,2),r=a[0],s=a[1],l=Object(va.useState)(""),u=Object(i.a)(l,2),d=u[0],p=u[1],v=Object(va.useState)(!1),h=Object(i.a)(v,2),b=(h[0],h[1]),f=Object(va.useState)(sessionStorage.getItem("uploadTypePreferences")||"gyazo"),m=Object(i.a)(f,1)[0],g="",A="";ea.all.filter((function(e){return"roomimg"===e.shareType})).map((function(e){return g=e.url})),ea.all.filter((function(e){return"roomimg"===e.shareType})).map((function(e){return A=e.contentDesc}));var j=te().t,O=Object(Ta.jsx)(gs.a,{acceptedFiles:["image/*"],initialFiles:[],clearOnUnmount:!1,dropzoneText:j("imageDropzoneText"),dropzoneParagraphClass:n.dropZoneTitle,onChange:s,filesLimit:1,previewGridProps:{container:{spacing:1,direction:"row"}},previewChipProps:{classes:{root:n.preview}}});Object(va.useEffect)((function(){sessionStorage.setItem("uploadTypePreferences",m)}),[m]);var y=e.stores.map;return Object(Ta.jsxs)("div",{children:[Object(Ta.jsx)(dr.a,{label:j("meetingDesc"),multiline:!0,rowsMax:4,defaultValue:A,InputProps:{style:{fontSize:c()?"2.2em":"1em"}},InputLabelProps:{style:{fontSize:c()?"2.2em":"1em"}},style:{position:"relative",marginLeft:15,width:"94%",marginTop:"-10px",fontWeight:"bold"},onChange:function(e){p(e.target.value),e.preventDefault()}}),Object(Ta.jsxs)("div",{style:""!==g?{position:"absolute",height:"90px",top:"20px",right:"20px",overflow:"hidden",display:"block"}:{display:"none"},children:[Object(Ta.jsx)("img",{style:{height:"60px",position:"relative"},src:g,alt:""}),Object(Ta.jsx)(Bs.a,{style:{position:"relative",left:c()?"10px":"0px",width:c()?"60":"35",height:c()?"60":"35"},color:"secondary",onClick:function(){ea.all.filter((function(e){return"roomimg"===e.shareType})).map((function(e){return ea.removeByLocal(e.id)})),p(""),b(!0)}})]}),Object(Ta.jsx)("div",{}),Object(Ta.jsx)(Rs,{stores:e.stores,setStep:t,onFinishInput:function(t){t.forEach(function(){var t=Object(Jn.a)(Vn.a.mark((function t(n,i){return Vn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:30,-20,ai(n,y,[30*i,-20*i],m,e.type,e.xCord,e.yCord,e.from,d).then((function(e){return ea.shareContent(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},value:r,inputField:O})]})},Fs=n(606),Qs=n(223),Ls=n.n(Qs),Us=n(134),Gs=n.n(Us),Ys=n(180),Hs=n.n(Ys);var Ws=function(e){var t=te().t,n=e.stores,i=n.contents,o=n.participants,a=n.map,r=Object(pa.b)((function(){return o.local.mouse.show}));function s(t){"camera"===t&&navigator.mediaDevices.enumerateDevices().then((function(t){e.cameras.videos=t.filter((function(e){return"videoinput"===e.kind}))})).catch((function(){console.warn("Device enumeration error")})),e.setStep(t)}var l=function(){s("none");var t=oi("",a,Object(e).cordX,Object(e).cordY,Object(e).origin);i.shareContent(t),i.setEditing(t.id)},u=function(){(function(e){var t=e.stores.contents.screenFps;return new Promise((function(e,n){navigator.mediaDevices.getDisplayMedia({audio:!0,video:{frameRate:{ideal:t}}}).then(e).catch(n)}))})(e).then((function(t){if(t.getTracks().length){var n=li(t.getTracks(),a,"screen",Object(e).cordX,Object(e).cordY,Object(e).origin);i.assignId(n),i.getOrCreateContentTracks(Uo.rtcConnection.peer,n.id),i.shareContent(n),t.getTracks().forEach((function(e){var t={track:e,peer:Uo.rtcConnection.peer,role:n.id};Uo.addOrReplaceLocalTrack(t)}))}})),s("none")};return Object(va.useEffect)((function(){var t=function(t){a.keyInputUsers.has("shareDialog")&&("KeyI"===t.code||"KeyD"===t.code||("KeyV"===t.code?(s("none"),navigator.clipboard.readText().then((function(t){ui(t,a,Object(e).cordX,Object(e).cordY,Object(e).origin).then((function(e){i.shareContent(e)}))}))):"KeyF"===t.code?(t.preventDefault(),s("iframe")):"KeyT"===t.code?(t.preventDefault(),l()):"KeyG"===t.code?(t.preventDefault(),s("image")):"KeyW"===t.code?(t.preventDefault(),function(){s("none");var t=new Uint32Array(4);t=window.crypto.getRandomValues(t);var n="";t.forEach((function(e){return n+=e.toString(16)})),ii("https://wbo.ophir.dev/boards/BinauralMeet_".concat(Uo.room,"_").concat(n),a,Object(e).cordX,Object(e).cordY,Object(e).origin).then((function(e){i.shareContent(e),i.setEditing(e.id)}))}()):"KeyB"===t.code||("KeyS"===t.code?u():"KeyM"===t.code?(o.local.mouse.show=!r,s("none")):"KeyC"===t.code?s("camera"):"KeyL"===t.code&&(i.getLocalRtcContentIds().forEach((function(e){return i.removeByLocal(e)})),s("none")))))};return window.addEventListener("keypress",t),function(){window.removeEventListener("keypress",t)}}),[]),Object(Ta.jsxs)(As.a,{children:[Object(Ta.jsx)(qr,{tip:t("shareImageTip"),text:t("shareImage"),icon:Object(Ta.jsx)(Ls.a,{style:c()?{width:"2em",height:"2em"}:{width:"1em",height:"1em"}}),onClick:function(){return s("image")}},"shareImage"),Object(Ta.jsx)(qr,{text:t("shareText"),icon:Object(Ta.jsx)(Hs.a,{style:c()?{width:"2em",height:"2em"}:{width:"1em",height:"1em"}}),onClick:l},"shareText"),Object(Ta.jsx)(qr,{tip:t("shareScreenContentTip"),icon:Object(Ta.jsx)(Gs.a,{style:c()?{width:"2em",height:"2em"}:{width:"1em",height:"1em"}}),text:t("shareScreenContent"),onClick:u,secondEl:Object(Ta.jsx)(Is.a,{style:c()?{transform:"scale(1.5)",marginLeft:"2em"}:{transform:"scale(1)",marginLeft:"0em"},component:"fieldset",children:Object(Ta.jsx)(pa.a,{children:function(){return Object(Ta.jsxs)(ks.a,{row:!0,"aria-label":"screen-fps",name:"FPS",value:e.stores.contents.screenFps,onChange:function(t){e.stores.contents.setScreenFps(Number(t.target.value))},onClick:function(e){e.stopPropagation(),setTimeout(u,100)},children:[Object(Ta.jsx)(vr.a,{value:1,control:Object(Ta.jsx)(Ss.a,{}),label:"1"}),Object(Ta.jsx)(vr.a,{value:5,control:Object(Ta.jsx)(Ss.a,{}),label:"5"}),Object(Ta.jsx)(vr.a,{value:15,control:Object(Ta.jsx)(Ss.a,{}),label:"15"}),Object(Ta.jsx)(vr.a,{value:30,control:Object(Ta.jsx)(Ss.a,{}),label:"30"}),Object(Ta.jsx)(vr.a,{value:60,control:Object(Ta.jsx)(Ss.a,{}),label:Object(Ta.jsxs)("span",{children:["60\xa0\xa0\xa0\xa0",t("fps")]})})]})}})})},"shareScreenContent"),Object(Ta.jsx)(Fs.a,{}),Object(Ta.jsx)(qr,{tip:t("shareImageTip"),text:t("shareZoneImage"),icon:Object(Ta.jsx)(Ls.a,{style:c()?{width:"2em",height:"2em"}:{width:"1em",height:"1em"}}),onClick:function(){return s("zoneimage")}},"shareZoneImage"),Object(Ta.jsx)(Fs.a,{})]})};Ws.displayName="ShareMenu";var Js=["textLabel","defaultValue","type"],Ks=function(e){var t=e.textLabel,n=e.defaultValue,o=e.type,a=Object(me.a)(e,Js),r=e.setStep,s=e.onFinishInput,c=Object(va.useState)(void 0===n?"":n),l=Object(i.a)(c,2),u=l[0],d=l[1],p=Object(Ta.jsx)(dr.a,{label:t,multiline:e.multiline,value:u,onChange:function(e){return d(e.target.value)},fullWidth:!0,inputProps:{autoFocus:!0},onKeyPress:function(t){e.multiline||"Enter"!==t.key||(s(u),r("none"))}});return Object(Ta.jsx)(ws,Object(wn.a)(Object(wn.a)({value:u,inputField:p},a),{},{type:o}))};Ks.displayName="TextInput";var Vs=!1;function Xs(){return Vs}var Zs=function(e){var t,n=e.open,o=e.onClose,a=e.cordX,r=e.cordY,s=e.origin,l=e._type,u=e.stores.map,d=Object(va.useRef)(new bs);t="roomImage"===l?"roomImage":"menu";var p=Object(va.useState)(t),v=Object(i.a)(p,2),h=v[0],b=v[1];ea.pasteEnabled="none"===h||"menu"===h,Vs=n;var f=te().t,m={menu:f("Create and Share"),text:f("Share Text"),iframe:f("Share iframe"),image:f("Share image"),zoneimage:f("Share zone image"),roomImage:f("Meeting Space"),none:"None",camera:f("Select video camera to share")}[h],g=function(t,n){switch(t){case"menu":return Object(Ta.jsx)(Ws,Object(wn.a)(Object(wn.a)({},e),{},{setStep:n,cameras:d.current}));case"text":return Object(Ta.jsx)(Ks,{stores:e.stores,setStep:n,onFinishInput:function(e){ea.shareContent(oi(e,u,a,r,s))},textLabel:"Text",multiline:!0,type:t});case"iframe":return Object(Ta.jsx)(Ks,{stores:e.stores,setStep:n,onFinishInput:function(e){ii(e,u,a,r,s).then((function(e){ea.shareContent(e)}))},textLabel:"URL",multiline:!1,type:t});case"image":case"zoneimage":return Object(Ta.jsx)(Ms,{setStep:n,stores:e.stores,type:t,xCord:a,yCord:r,from:s});case"roomImage":return Object(Ta.jsx)(zs,{setStep:n,stores:e.stores,type:t,xCord:a,yCord:r,from:s});case"camera":return Object(Ta.jsx)(fs,{setStep:n,stores:e.stores,cameras:d.current,xCord:a,yCord:r,from:s});case"Gdrive":return Object(Ta.jsx)(ms,{stores:e.stores,setStep:n,onSelectedFile:function(e){ii(e,u,a,r,s).then((function(e){ea.shareContent(e)}))}});default:throw new Error("Unknown step: ".concat(t))}}(h,(function(e){"none"===e?o():b(e)}));return Object(Ta.jsxs)(ka.a,{open:n,onClose:o,onExited:function(){return b(t)},maxWidth:"sm",fullWidth:!0,onPointerMove:function(e){u.setMouse([e.clientX,e.clientY])},PaperProps:{style:{transform:c()?"scale(1.5)":"scale(1)"}},children:[Object(Ta.jsx)(Ia.a,{id:"simple-dialog-title",disableTypography:!0,style:{fontSize:c()?"2.5em":"1.2em"},children:m}),Object(Ta.jsx)(ya.a,{children:g})]})};Zs.displayName="ShareDialog";var qs=function(e){var t=e.stores,n=t.contents,o=t.participants,r=Object(va.useRef)(null),s=Object(va.useState)(!1),c=Object(i.a)(s,2),l=c[0],u=c[1];function d(){console.log("open download"),function(e){for(var t=function(e){var t,n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;delete i.playback,delete i.zIndex,delete i.zones,delete i.id}}catch(o){n.e(o)}finally{n.f()}return e}(e.all),n=0;n<t.length;n++)t[n].ownerName="",t[n].ownerURL="";var i=JSON.stringify(t),o={status:"true"},r=JSON.stringify(o),s=new Blob(['[{"ResetRoomElements" : ['+r+'],"RoomElements" : '+i+"}]"],{type:"text/plain"}),c=document.createElement("a"),l=URL.createObjectURL(s);c.href=l;var u=sessionStorage.getItem("room");c.download=String(u)+".json",document.body.appendChild(c),c.click(),setTimeout((function(){document.body.removeChild(c),window.URL.revokeObjectURL(l)}),0)}(n)}function p(e,t,n,i){var o,a=null===(o=e.currentTarget)||void 0===o?void 0:o.files;a&&a.length&&a[0].text().then((function(e){var o=JSON.parse(e);(void 0!==o[0].ResetRoomElements&&"true"===o[0].ResetRoomElements[0].status&&t.removeAllContents(),Object(Se.isArray)(o))&&Bn(o[0].RoomElements).forEach((function(e){if("screen"!==e.type&&"camera"!==e.type){e.ownerName=n,e.ownerURL=i;var o=ti();Object.assign(o,e),t.addLocalContent(o)}}))}))}var v=te().t;return Object(Ta.jsxs)(jr.a,{children:[Object(Ta.jsx)(qr,{onClick:function(){u(!0)},text:v("meetingSpace")},"meetingSpace"),Object(Ta.jsx)("div",{style:{width:"140%",height:"1.5px",backgroundColor:"#bcbec0",marginLeft:"-40px"}}),Object(Ta.jsx)(qr,{onClick:function(){return d()},text:v("shareDownload")},"shareDownload"),Object(Ta.jsx)(qr,{onClick:function(){return function(){var e,t;console.log("open Import ",null===(e=r.current)||void 0===e?void 0:e.clientHeight),null===(t=r.current)||void 0===t||t.click()}()},text:v("shareImport")},"shareImport"),Object(Ta.jsx)("input",{type:"file",accept:"application/json",ref:r,style:{display:"none"},onChange:function(e){p(e,n,o.local.information.name,o.local.information.avatarSrc)}}),Object(Ta.jsx)("div",{style:{width:"140%",height:"1.5px",backgroundColor:"#bcbec0",marginLeft:"-40px"}}),Object(Ta.jsx)(Zs,Object(wn.a)(Object(wn.a)({},e),{},{open:l,onClose:function(){return u(!1)},cordX:0,cordY:0,origin:"",_type:"roomImage"}))]})};qs.displayName="SettingsControl";var _s=Object(_a.a)({root:{padding:2},formControlLabel:{fontSize:c()?"2.5em":"1em"}}),$s=function(e){var t=e.stores.participants.local,n=Object(pa.b)((function(){return t.muteVideo})),i=_s(),o=Object(Ta.jsx)(pa.a,{children:function(){return Object(Ta.jsx)(Or.a,{icon:Object(Ta.jsx)(wr.a,{htmlColor:"transparent"}),checkedIcon:Object(Ta.jsx)(xr.a,{style:{fontSize:c()?"2em":"1em"},htmlColor:"black"}),className:i.root,checked:!t.muteVideo,name:"broadcastVideo",onChange:function(){t.muteVideo=!0!==n,t.saveMediaSettingsToStorage()}})}}),a=Object(Ta.jsx)(pa.a,{children:function(){return Object(Ta.jsx)(Or.a,{icon:Object(Ta.jsx)(wr.a,{htmlColor:"transparent"}),checkedIcon:Object(Ta.jsx)(xr.a,{style:{fontSize:c()?"2em":"1em"},htmlColor:"black"}),className:i.root,checked:!1,name:"broadcastSpeakVideo",onChange:function(){}})}}),r=te().t;return Object(Ta.jsxs)(jr.a,{children:[Object(Ta.jsx)("div",{style:{width:"150%",height:"1.5px",backgroundColor:"#bcbec0",marginLeft:"-40px"}}),Object(Ta.jsx)(vr.a,{style:{position:"relative",top:"5px",left:"-25px"},control:o,label:Object(Ta.jsx)(Sr.a,{className:i.formControlLabel,children:r("broadcastMyVideo")})}),Object(Ta.jsx)("div",{style:{width:"130%",height:"1.5px",backgroundColor:"#ffffff",marginLeft:"-40px"}}),Object(Ta.jsx)(vr.a,{style:{position:"relative",top:"5px",left:"-25px"},control:a,label:Object(Ta.jsx)(Sr.a,{className:i.formControlLabel,children:r("broadcastMySpeakVideo")})})]})};$s.displayName="BroadcastVideoControl";var ec=Object(_a.a)({root:{padding:2},formControlLabel:{fontSize:c()?"2.5em":"1em"}}),tc=function(e){var t=e.stores.participants.local,n=Object(pa.b)((function(){return t.soundLocalizationBase})),i=Object(pa.b)((function(){return t.useStereoAudio})),o=ec(),a=Object(Ta.jsx)(pa.a,{children:function(){return Object(Ta.jsx)(Or.a,{icon:Object(Ta.jsx)(wr.a,{htmlColor:"transparent"}),checkedIcon:Object(Ta.jsx)(xr.a,{style:{fontSize:c()?"2em":"1em"},htmlColor:"black"}),className:o.root,checked:t.useStereoAudio,onChange:function(){t.soundLocalizationBase="avatar"===n?"user":"avatar",t.useStereoAudio=!i,t.saveMediaSettingsToStorage()},name:"settingLoc"})}}),r=te().t;return Object(Ta.jsxs)(jr.a,{children:[Object(Ta.jsx)("div",{style:{width:"150%",height:"1.5px",backgroundColor:"#bcbec0",marginLeft:"-40px"}}),Object(Ta.jsx)(vr.a,{style:{position:"relative",top:"5px",left:"-25px",fontSize:"3em"},control:a,label:Object(Ta.jsx)(Sr.a,{className:o.formControlLabel,children:r("stereoswitch")})})]})};tc.displayName="StereoSwitchControl";var nc=Object(Fr.a)({palette:{primary:{main:"#7ececc"},secondary:{main:"#ef4623"}}}),ic={"&":{margin:"5px",borderRadius:"50%",width:c()?"90px":"57px",height:c()?"90px":"57px",textAlign:"center"}},oc=Object(_a.a)({menu:{position:"absolute",width:"100%",left:"-100%",opacity:0,transition:"0.5s ease-out"},menuActive:{position:"absolute",width:"100%",opacity:1,left:0,transition:"0.5s ease-out"},menuTop:{position:"absolute",width:"100%",left:-200,opacity:0,top:0,transition:"0.5s ease-out"},menuActiveTop:{position:"absolute",width:"100%",opacity:1,left:0,top:0,transition:"0.5s ease-out"},topMenu:{position:"absolute",width:"100%",top:-200,opacity:0,transition:"0.5s ease-out"},topMenuActive:{position:"absolute",width:"100%",opacity:1,top:0,transition:"0.5s ease-out"},more:Object(wn.a)({display:"inline-block",height:50,width:50,position:"relative",cursor:"pointer",backgroundColor:"#bcbec0",right:0,left:0,bottom:0},ic),moreActive:Object(wn.a)({display:"inline-block",height:50,position:"relative",cursor:"pointer",backgroundColor:"#ef4623",right:0,left:0,bottom:0},ic),container:{position:"absolute",width:"100%",bottom:5,padding:0,left:60,outline:"none",minWidth:530,pointerEvents:"none"},topContainer:{position:"absolute",width:"100%",top:10,padding:0,left:-50,outline:"none",minWidth:530,pointerEvents:"none"},wrapper:{width:"100%"},wrapperInner:{width:"100%",display:"flex",alignItems:"flex-end"}}),ac=Object(V.a)((function e(){Object(X.a)(this,e),this.timeoutOut=void 0,this.touched=!1,this.downTime=0,this.upTime=0})),rc=!1;var sc=function(e){var t=e.stores,n=t.map,o=t.participants,r=ha.a.useState(!1),s=Object(i.a)(r,2),l=s[0],u=s[1],d=ha.a.useState(!1),p=Object(i.a)(d,2),v=p[0],h=p[1],b=ha.a.useState(!1),f=Object(i.a)(b,2),m=f[0],g=f[1],A=ha.a.useState(!1),j=Object(i.a)(A,2),O=j[0],y=j[1];function x(){n.keyInputUsers.add("adminForm"),g(!0)}function C(){n.keyInputUsers.delete("adminForm"),g(!1)}var w=Object(va.useRef)(new ac).current,S=Object(va.useRef)(null),k=Object(va.useRef)(null),I=ha.a.useState([]),T=Object(i.a)(I,2),E=T[0],M=T[1],P=ha.a.useState(null),R=Object(i.a)(P,2),D=R[0],B=R[1],N=ha.a.useState(null),z=Object(i.a)(N,2),F=z[0],Q=z[1],L=ha.a.useState(null),U=Object(i.a)(L,2),G=U[0],Y=U[1],H=ha.a.useState(null),W=Object(i.a)(H,2),J=W[0],K=W[1],V=te().t,X=oc();var Z=Object(pa.b)((function(){return n.screenSize[1]-(n.mouse[1]-n.offset[1])<90}));function q(e,t){var n=!1;return"audioinput"===e.kind?n=e.deviceId===o.local.devicePreference.audioInputDevice:"audiooutput"===e.kind?n=e.deviceId===o.local.devicePreference.audioOutputDevice:"videoinput"===e.kind&&(n=e.deviceId===o.local.devicePreference.videoInputDevice),Object(Ta.jsxs)("div",{style:{position:"relative",display:"flex",alignItems:"center",marginLeft:"15px"},children:[" ",n?Object(Ta.jsx)(xr.a,{style:{opacity:"1",position:"absolute",marginLeft:"-10px",fontSize:c()?"3em":"1.5em"}}):Object(Ta.jsx)(xr.a,{style:{opacity:"0",position:"absolute",marginLeft:"-10px",fontSize:c()?"3em":"1.5em"}}),Object(Ta.jsxs)(Za.a,{style:{fontSize:c()?"2.5em":"1em",marginLeft:c()?"0.5em":"0em"},onClick:function(){t(e.deviceId)},children:[" ",e.label]},e.deviceId)]})}Object(va.useEffect)((function(){}),[Z,w.touched]),Object(va.useEffect)((function(){var e=function(e){0===n.keyInputUsers.size&&!e.ctrlKey&&!e.metaKey&&e.altKey};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]);var _=[Object(Ta.jsxs)(Za.a,{style:{display:"flex",flexDirection:"column",textAlign:"center",marginLeft:"-35px"},children:[Object(Ta.jsx)(qs,Object(wn.a)({},e)),Object(Ta.jsx)(jr.a,{children:Object(Ta.jsx)(qr,{text:V("settingPreference"),onClick:x},"settingPreference")})]},"settingLoc")];function $(t){var n,i,o,r=[];"audioinput"===t?(i=ee,o=Object(Ta.jsx)(Za.a,{style:{fontSize:c()?"2.5em":"1em"},children:Object(Ta.jsx)(Ir,Object(wn.a)({},e))},"broadcast")):"audiooutput"===t?(i=ne,n=Object(Ta.jsx)(Za.a,{style:{fontSize:c()?"2.5em":"1em",color:"#CCC",position:"relative",left:"17px",fontStyle:"italic"},children:"None"},"noneLoc"),o=Object(Ta.jsx)(Za.a,{style:{fontSize:c()?"2.5em":"1em"},children:Object(Ta.jsx)(tc,Object(wn.a)({},e))},"soundLoc")):(i=ie,o=Object(Ta.jsx)(Za.a,{style:{fontSize:c()?"2.5em":"1em"},children:Object(Ta.jsx)($s,Object(wn.a)({},e))},"broadcastVideo"));var s,u=Object(a.a)(E);try{for(u.s();!(s=u.n()).done;){var d=s.value;d.kind===t&&r.push(q(d,i))}}catch(b){u.e(b)}finally{u.f()}var p=!1;if(E.length>=0&&l){var v,h=Object(a.a)(E);try{for(h.s();!(v=h.n()).done;){if("audiooutput"===v.value.kind){p=!0;break}}}catch(b){h.e(b)}finally{h.f()}!1===p&&r.push(n,i)}return o&&r.push(o),r}function ee(e){e&&(o.local.devicePreference.audioInputDevice=e,o.local.saveMediaSettingsToStorage()),B(null)}function ne(e){e&&(o.local.devicePreference.audioOutputDevice=e,o.local.saveMediaSettingsToStorage()),Q(null)}function ie(e){e&&(o.local.devicePreference.videoInputDevice=e,o.local.saveMediaSettingsToStorage()),Y(null)}function oe(e){navigator.mediaDevices.enumerateDevices().then(M).catch((function(){console.log("Device enumeration error")}))}var ae=Object(pa.b)((function(){return{muteA:o.local.muteAudio,muteS:o.local.muteSpeaker,muteV:o.local.muteVideo,onStage:o.local.physics.onStage}})),re=e.height,se=e.height?.7*e.height:36;return Object(Ta.jsxs)("div",{children:[Object(Ta.jsx)("div",{className:X.topContainer,children:Object(Ta.jsxs)(Va.a,{in:!0,classes:X,children:[Object(Ta.jsx)("div",{className:l?X.menuActiveTop:X.menuTop,children:Object(Ta.jsx)(Nr,{size:re,style:{width:"43%",float:"left"},onClick:function(){window.open("/","_self")},children:Object(Ta.jsx)("div",{className:X.more,children:Object(Ta.jsx)("img",{src:Ur,style:{width:60,height:60,position:"relative",top:c()?"17px":"0px",left:"-5px",transform:c()?"scale(2)":"scale(1)"},alt:""})})})}),Object(Ta.jsx)("div",{className:l?X.topMenuActive:X.topMenu,children:Object(Ta.jsx)(Nr,{size:re,style:{width:"52%",float:"right"},onClick:function(){navigator.clipboard.writeText(window.location.href),h(!v)},children:Object(Ta.jsx)("div",{className:X.more,children:Object(Ta.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAAC4jAAAuIwF4pT92AAADAUlEQVR4nO3c4XESQRyG8RfH72IHsQOsQKxAO8imA0vQDuwgpAM6EDuIFYgdQAX44e4GsgPIcsD/nvX9zdyYy2TYxSd3c4FjR5vNRsb0KnoCdj7HA3M8MMcDczwwxwNzPDDHA3M8MMcDczwwxwNzPDDHA3M8MMcDczwwxwNzPDDHA3M8sJrjJUnfoydxTa+jJ3AlSdJj+/W43a9OjUde0jacJN1LmoXM5Mpqi5f0MlynyoA1xUvaH65TXcBa4iUdD9epKmAN8ZJOC9epJiA9XtJp4dbZfhUByfGS9od7OPCzv7Lv4QNS4yUdDjfb8/2VpKkqC0iMl1QWrlNdQFq8pPPCdaoKSIqX1C9c51hA1GuhpHj7lIbr7Au4lrToPaMbIsWb6eWV5LnhOrsB1+3X8x6Pd3Mj4IICk3abHfmZ/El91OGjatz+u+o1qwDEt4Se2+1ScNE6pNOmZRwPbGinzbt2k2BXfhGGcOSN1Vx8rCT9lvSj3TYF27RgvGnhY+fbvHC8q4mON5G0VPMH8pvYqZzsk5pfrhQ8j9B4YzWnRkq03KOCj8DIeEnccJ0UOXhkvM/Z/pOkt5JGZ2yLgnEXZ44xkvTtH8/hpiJfYckHfq/L/fFd8gpL38ceXehxi0VfsOy65Ksm/4UhxbNCjgfmeGCOB+Z4YI4H5nhgjgcWGe9P4NhViIy3DBy7Cj5tgjkemOOBOR6Y44E5HtjQ7tu8lLB3t2/JRx6Y44E5HpjjgTke2JDu26RcIQ5m3j7ywBwPzPHAHA/M8cAcD8zxwBwPzPHAHK+/SdTAkfHyRbvD/hN6CvtEb2S8/El/0XYFvqH6mu3nv4A3FXkbxFzSh539+3YjCV2fM/JdhbGaW97Ja7G8U+Bt+5GnzW6l2dBTTw8PCv68RfTV5rOaC5Wn4HmU+KlmzZhZ8DwGtUzxnbbLNQ7VUgP6dNOQ4lmh6NOm9eB4YI4H5nhgjgfmeGCOB+Z4YI4H5nhgjgfmeGCOB+Z4YI4H5nhgjgfmeGCOB+Z4YI4H9hdGXJJYtFSqXQAAAABJRU5ErkJggg==",style:{width:60,height:60,position:"relative",top:c()?"10px":"-3px",left:c()?"1px":"-1px",transform:c()?"scale(2)":"scale(1)"},alt:""})})})})]})}),Object(Ta.jsxs)("div",{ref:S,className:X.container,children:[Object(Ta.jsx)("div",{style:{position:"relative",left:"-50px",top:"0px"},children:Object(Ta.jsx)(Nr,{size:re,onClick:function(){u(!l)},children:Object(Ta.jsx)("div",{className:l?X.moreActive:X.more,children:Object(Ta.jsx)("img",{src:Lr,style:{width:55,height:55,position:"relative",top:c()?"17px":"2px",left:"-0.5px",transform:c()?"scale(2)":"scale(1)"},alt:""})})})}),Object(Ta.jsx)(Va.a,{in:!0,classes:X,children:Object(Ta.jsxs)("div",{className:l?X.menuActive:X.menu,children:[Object(Ta.jsxs)(Qr.a,{theme:nc,children:[Object(Ta.jsx)(zr,{isOpen:l,index:0,size:re,color:ae.muteS?"primary":"secondary","aria-label":"speaker",onClick:function(){o.local.muteSpeaker=!ae.muteS,o.local.muteSpeaker&&(o.local.muteAudio=!0),o.local.saveMediaSettingsToStorage()},onClickMore:function(e){oe(),Q(e.currentTarget)},children:ae.muteS?Object(Ta.jsx)(cr.a,{style:{width:se,height:se,color:"white"}}):Object(Ta.jsx)(ur.a,{style:{width:se,height:se,color:"white"}})}),F?Object(Ta.jsx)(Xa.a,{anchorEl:F,keepMounted:!0,style:{marginTop:-70},open:Boolean(F),onClose:function(){ne("")},children:$("audiooutput")}):void 0,Object(Ta.jsx)(zr,{isOpen:l,index:1,size:re,color:ae.muteA?"primary":"secondary","aria-label":"mic",onClick:function(){o.local.muteAudio=!ae.muteA,o.local.muteAudio||(o.local.muteSpeaker=!1),o.local.saveMediaSettingsToStorage()},onClickMore:function(e){oe(),B(e.currentTarget)},children:ae.muteA?Object(Ta.jsx)(nr.a,{style:{width:se,height:se,color:"white"}}):ae.onStage?Object(Ta.jsx)(Ka.Icon,{icon:Ja.a,style:{width:se,height:se,color:"white"},color:"white"}):Object(Ta.jsx)(er.a,{style:{width:se,height:se,color:"white"}})}),D?Object(Ta.jsx)(Xa.a,{anchorEl:D,keepMounted:!0,style:{marginTop:-70},open:Boolean(D),onClose:function(){ee("")},children:$("audioinput")}):void 0,Object(Ta.jsx)(zr,{isOpen:l,index:2,size:re,color:ae.muteV?"primary":"secondary","aria-label":"camera",onClick:function(){Uo.dataConnection.sendMessage(Rn.MUTE_VIDEO,!0),o.local.muteVideo=!ae.muteV,o.local.saveMediaSettingsToStorage(),rc=!0},onClickMore:function(e){oe(),Y(e.currentTarget)},children:ae.muteV?Object(Ta.jsx)(rr.a,{style:{width:se,height:se,color:"white"}}):Object(Ta.jsx)(or.a,{style:{width:se,height:se,color:"white"}})}),G?Object(Ta.jsx)(Xa.a,{anchorEl:G,keepMounted:!0,style:{marginTop:-70},open:Boolean(G),onClose:function(){ie("")},children:$("videoinput")}):void 0,Object(Ta.jsx)(Na,Object(wn.a)({},e)),Object(Ta.jsx)(zr,{isOpen:l,index:3,size:re,color:"primary","aria-label":"settings",onClick:function(e){w.upTime=(new Date).getSeconds(),x()},onClickMore:function(e){K(e.currentTarget),y(!0)},children:Object(Ta.jsx)(Yr.a,{style:{width:se,height:se,color:"white"}})}),Object(Ta.jsx)(Xa.a,{anchorEl:J,keepMounted:!1,style:O?{marginTop:-70,display:"block"}:{marginTop:-70,display:"none"},open:Boolean(J),onClick:function(){setTimeout((function(){y(!1)}),100)},onClose:function(){K(null)},children:_})]}),m?Object(Ta.jsx)(qa.a,{open:m,onClose:C,anchorEl:k.current,anchorOrigin:{vertical:"top",horizontal:"left"},anchorReference:"anchorEl",children:Object(Ta.jsx)(Ar,{close:C,stores:e.stores})}):void 0]})})]})]})};sc.displayName="Footer";var cc=n(78),lc={"&":{color:"lightgrey"},"&:hover":{color:"lightgreen"},"&:active":{color:"lightgreen"}},uc=Object(_a.a)({back:{position:"absolute",width:"100%",height:"100%",top:0,left:0,backgroundColor:"#DFDBE5"},fill:{position:"absolute",width:"100%",height:"100%",top:0,left:0},previous:Object(wn.a)({width:"50px",height:"50px",position:"absolute",left:"0px",color:"lightgrey",cursor:"default"},lc),next:Object(wn.a)({width:"50px",height:"50px",position:"absolute",right:"-12px",color:"lightgrey"},lc),activeSlide:{opacity:1,transition:"opacity 1000ms"},slide:{opacity:0,transition:"opacity1000ms"}}),dc=Object(_a.a)({resizerVertical:{background:"#0f5c81",zIndex:1,boxSizing:"border-box",backgroundClip:"padding-box",width:11,margin:"0 -10px 0 0",borderLeft:"0px solid white",borderRight:"transparent 10px solid",cursor:"col-resize"},resizerHorizontal:{background:"#85AEE060",zIndex:1,boxSizing:"border-box",backgroundClip:"padding-box",height:10.5,width:"80%",marginLeft:"10%",margin:"-5px 0 -5px 0",borderTop:"5px transparent solid",borderBottom:"5px transparent solid",cursor:"row-resize",textAlign:"center"}}),pc=Object(_a.a)({container:{width:"100%"},title:function(e){return{justifyContent:"start",justifyItems:"start",alignItems:"center",userSelect:"none",userDrag:"none",whiteSpace:"nowrap",width:"100%"}},outer:{display:"flex",whiteSpace:"nowrap",padding:0,margin:0,width:"100%"},line:function(e){return{display:"flex",justifyContent:"start",justifyItems:"start",alignItems:"center",userSelect:"none",userDrag:"none",whiteSpace:"nowrap",fontSize:e.fontSize,height:e.height,width:"100%",padding:0}}}),vc=n(621);function hc(e){return{width:e.size,height:e.size,color:"",backgroundColor:"",pointerEvents:"none",userDrag:"none",fontSize:.3*e.size,display:"inline-block"}}function bc(e,t){var n={width:t.size,height:t.size,borderStyle:"solid",borderWidth:0,borderColor:""};return Object.assign(e,n)}var fc=Object(_a.a)({imageAvatar:function(e){var t=hc(e);return Object.assign(t,{textAlign:"right",verticalAlign:"top"}),e.border&&bc(t,e),t},textAvatar:function(e){var t=hc(e);return e.border&&bc(t,e),t}}),mc=function(e){var t=fc(e);return Object(Ta.jsx)(pa.a,{children:function(){var n="",i=e.avatarSrc&&".vrm"!==e.avatarSrc.slice(-4);i||(e.name.split(" ").forEach((function(e){return n+=e?e.substring(0,1):""})),n=n.substring(0,2));var o=e.border?1*e.size:e.size;return i?Object(Ta.jsx)(vc.a,{src:e.avatarSrc,className:t.imageAvatar}):Object(Ta.jsx)(vc.a,{className:t.textAvatar,children:Object(Ta.jsx)("div",{style:{height:o,width:o,textAlign:"center",verticalAlign:"middle",display:"table-cell",whiteSpace:"nowrap"},children:n})})}})};mc.displayName="RawImageAvatar";var gc=function(e){return ha.a.useMemo((function(){return Object(Ta.jsx)(mc,Object(wn.a)({},e))}),[e.avatarSrc,e.border,e.colors,e.name,e.size,e.style])};function Ac(e){var t=new Date(e),n=new Date,i=n.getFullYear()!==t.getFullYear()?t.getFullYear():void 0,o=i||n.getMonth()!==t.getMonth()?t.getMonth()+1:void 0,a=i||o||n.getDate()!==t.getDate()?t.getDate():void 0,r="".concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds());return"".concat(i?"".concat(i,"."):"").concat(o?"".concat(o,"."):"").concat(a?"".concat(a," "):"").concat(r)}function jc(e,t){var n="",i="",o="";return t[1]?(o=n=t[1],i="_blank"):t[2]?(n=t[2],o=t[6]?t[6]:t[2],i=t[3]?"_self":"_blank"):(o=t[7],n=t[11],i=t[9]||t[10]?"_self":"_blank"),u(new URL(n))&&(i="_self"),Object(Ta.jsx)("a",{href:n,target:i,rel:"noreferrer",children:o},e)}function Oc(e){for(var t,n=[],i="https?:\\/\\/[-_.!~*'()a-zA-Z0-9;/?:@&=+$,%#]+",o=new RegExp("(".concat(i,")|")+"\\[(".concat(i,")(( *>)|( +move))?\\s*(\\S+)\\]")+"|\\[(\\S+)((\\s*>)|(\\s+move)|\\s)\\s*(".concat(i,")\\]")),a=0;null!==(t=o.exec(e.slice(a)));){var r=e.slice(a,a+t.index);r&&n.push(Object(Ta.jsx)("span",{children:r},a)),n.push(jc(a+r.length,t)),a+=r.length+t[0].length}return n.push(Object(Ta.jsx)("span",{children:e.slice(a)},a)),n}gc.displayName="ImageAvatar";var yc={text:"black",called:"red",callTo:"black",log:"black",private:"purple"},xc={text:"white",called:"red",callTo:"white",log:"white",private:"purple"},Cc=function(e){var t=("log"===e.message.type||e.message.type,1),n=e.lineHeight*t,i=e.fontSize*t,o=e.stores,a=o.roomInfo,r=o.participants,s=o.map,l="joined."===e.message.text.split(" ")[1]?"green":"Left."===e.message.text.split(" ")[1]?"red":"black";return Object(Ta.jsx)(pa.a,{children:function(){var t=Ac(e.message.timestamp),o=U(a.backgroundFill)?xc:yc,u=U(a.backgroundFill)?"rgba(0, 0, 0, 1)":"rgba(255, 255, 255, 1)",d=e.message.pid===r.localId;return Object(Ta.jsx)(Rr.a,{title:"private"===e.message.type?Object(Ta.jsxs)(Ta.Fragment,{children:[ee(e.message.pid===r.localId?"cmPrivateTo":"cmPrivateFrom",{name:e.message.name}),Object(Ta.jsx)("br",{}),t]}):Object(Ta.jsxs)(Ta.Fragment,{children:[e.message.name,Object(Ta.jsx)("br",{}),t]}),placement:"right",children:d?Object(Ta.jsxs)("div",{style:{display:"flex",overflowY:"auto",overflowX:"hidden",wordWrap:"break-word",marginTop:2,marginLeft:10,fontSize:i,padding:"5px",alignItems:"flex-end",justifyContent:"flex-start"},children:[Object(Ta.jsx)("span",{style:{marginRight:"0.3rem"},onClick:function(){var t=r.find(e.message.pid);t&&s.focusOn(t)},children:Object(Ta.jsx)(gc,{name:e.message.name,colors:e.message.colors,avatarSrc:e.message.avatarUrl,size:c()?3.5*n:1.7*n,border:!0})}),Object(Ta.jsxs)("span",{style:{color:l,backgroundColor:u,border:"1px solid #ffffff",padding:"10px",marginTop:"-5px",marginLeft:"15px",borderRadius:"15px",minWidth:"10%",maxWidth:c()?"60%":"62%",userSelect:"none",fontSize:c()?"2.5rem":"1rem",fontWeight:"normal"},children:[Oc(e.message.text),Object(Ta.jsx)("div",{style:{color:o[e.message.type],backgroundColor:u,border:"1px solid #ffff00",padding:"5px",marginTop:"-17px",marginLeft:"-17px",borderRadius:"1px",borderTop:"0px solid #ffffff",borderRight:"0px solid #ffffff",borderBottom:"1px solid #ffffff",borderLeft:"1px solid #ffffff",width:"5px",height:"5px",content:"",transform:"rotate(45deg)"}})]})]}):Object(Ta.jsxs)("div",{style:{display:"flex",overflowY:"auto",overflowX:"hidden",wordWrap:"break-word",marginTop:2,marginLeft:10,marginRight:0,fontSize:i,padding:"5px",alignItems:"flex-end",justifyContent:"flex-end"},children:[Object(Ta.jsxs)("span",{style:{color:l,backgroundColor:"#B3E1EA",border:"1px solid #B3E1EA",padding:"10px",marginTop:"-5px",marginLeft:"15px",marginRight:"15px",borderRadius:"12px",minWidth:"10%",maxWidth:c()?"60%":"62%",userSelect:"none",fontSize:c()?"2.5em":"1em",fontWeight:"normal"},children:[Oc(e.message.text),Object(Ta.jsx)("div",{style:{color:o[e.message.type],backgroundColor:"#B3E1EA",border:"1px solid #B3E1EA",padding:"5px",marginTop:"-17px",marginLeft:"101%",borderRadius:"1px",borderTop:"0px solid #B3E1EA",borderRight:"0px solid #B3E1EA",borderBottom:"1px solid #B3E1EA",borderLeft:"1px solid #B3E1EA",width:"5px",height:"5px",content:"",transform:"rotate(45deg)"}})]}),Object(Ta.jsx)("span",{style:{marginRight:"0.3rem"},onClick:function(){var t=r.find(e.message.pid);t&&s.focusOn(t)},children:Object(Ta.jsx)(gc,{name:e.message.name,colors:e.message.colors,avatarSrc:e.message.avatarUrl,size:c()?3.5*n:1.7*n,border:!0})})]})})}})};function wc(e,t,n){var i={msg:e,ts:Date.now(),to:t};Uo.dataConnection.sendMessage(Rn.CHAT_MESSAGE,i,t);var o=n.stores.participants.local;if(t){var a=n.stores.participants.remote.get(t);a&&Cn.addMessage(new yn(e,o.id,a.information.name,o.information.avatarSrc,o.getColor(),Date.now(),"private"))}else Cn.addMessage(new yn(e,o.id,o.information.name,o.information.avatarSrc,o.getColor(),Date.now(),"text"))}var Sc=function(e){var t=e.stores,n=t.chat,o=t.roomInfo,a=t.participants,r=t.map,s=pc({height:e.lineHeight,fontSize:e.fontSize}),l=ha.a.useState(""),u=Object(i.a)(l,2),d=u[0],p=u[1];return Object(Ta.jsxs)("div",{className:s.container,style:{height:"100%",display:"flex",flexDirection:"column-reverse",overflowY:"auto",overflowX:"hidden",whiteSpace:"pre-line",resize:"horizontal",minWidth:"290px"},children:[Object(Ta.jsxs)("form",{noValidate:!0,autoComplete:"off",children:[Object(Ta.jsx)(Rr.a,{title:ee("cmSend"),placement:"right",children:Object(Ta.jsx)("div",{style:{position:"relative",top:15,textAlign:"right",zIndex:1e3},children:Object(Ta.jsx)(Tr.a,{size:"small",onClick:function(){var t,i,o=n.sendTo?null===a||void 0===a||null===(t=a.find(n.sendTo))||void 0===t||null===(i=t.information)||void 0===i?void 0:i.name:void 0;wc(d,o?n.sendTo:"",e),p("")},children:Object(Ta.jsx)("img",{style:{width:c()?"4.2rem":"2.9rem",bottom:"1px",position:"relative",left:"1px"},src:ga,draggable:!1,alt:""})})})}),Object(Ta.jsx)(pa.a,{children:function(){var t,i,s=n.sendTo?null===a||void 0===a||null===(t=a.find(n.sendTo))||void 0===t||null===(i=t.information)||void 0===i?void 0:i.name:void 0,l=U(o.backgroundFill)?"white":"black";return Object(Ta.jsx)(dr.a,{variant:"outlined",label:"",multiline:!0,value:d,rowsMax:2,style:{width:"77%",minWidth:"30%",userSelect:"none",marginTop:c()?"-55px":"-38px",marginLeft:"15px",right:"3px",resize:"horizontal"},InputProps:{style:{color:l,backgroundColor:"white",borderRadius:"8px",height:c()?"70px":"50px",fontSize:c()?"2.5rem":"1rem",zIndex:9999}},InputLabelProps:{style:{color:"black"}},onFocus:function(){r.keyInputUsers.add("chat")},onBlur:function(){r.keyInputUsers.delete("chat")},onKeyDown:function(e){"Escape"!==e.key&&"Esc"!==e.key||(n.sendTo="")},onKeyPress:function(t){!t.ctrlKey||0!==t.keyCode&&76!==t.keyCode||(wc(d,s?n.sendTo:"",e),p(""))},onChange:function(e){p(e.target.value)}})}})]}),Object(Ta.jsx)("div",{children:Object(Ta.jsx)(pa.a,{children:function(){return Object(Ta.jsx)(Ta.Fragment,{children:n.messages.map((function(t,n){return Object(Ta.jsx)(Cc,Object(wn.a)({message:t},e),n)}))})}})})]})};Sc.displayName="Chat";var kc=n(604),Ic=new(Object(V.a)((function e(){Object(X.a)(this,e),this.useTransparent=!0}))),Tc=n(303),Ec=n(306),Mc=n.n(Ec),Pc=n(307),Rc=n.n(Pc),Dc=n(308),Bc=n.n(Dc),Nc=n(224),zc=n.n(Nc),Fc=n(313),Qc=n.n(Fc),Lc=n(312),Uc=n.n(Lc),Gc=n(314),Yc=n.n(Gc),Hc=Object(_a.a)({iframe:{width:"100%",height:"100%",pointerEvents:"none"},iframeEdit:{width:"100%",height:"100%"},iframeVScrool:function(e){return{width:e.content.size[0]+13+10,height:100*e.content.size[0],pointerEvents:"none"}},divScroll:function(e){return{width:e.content.size[0]+100,height:"100%",position:"relative",left:-15,overflow:"scroll"}},divClip:{width:"100%",height:"100%",overflow:"hidden"},divError:{width:"100%",height:"100%",overflow:"hidden",backgroundColor:"white"}});function Wc(e){var t=function(e){var t="";return e.forEach((function(e,n){t="".concat(t).concat(t?"&":"").concat(n,"=").concat(e)})),t}(e.params);t!==e.props.content.url&&e.props.updateAndSend&&(e.props.content.url=t,e.props.updateAndSend(e.props.content))}var Jc,Kc,Vc,Xc,Zc=function(e){r("gdrive"===e.content.type);var t=Object(va.useRef)(null),n=e.stores.contents,i=vi(e.content.url),o=i.get("id"),a=i.get("mimeType"),s=Object(va.useRef)({props:e,params:i,scrolling:!1,onscroll:function(){}}).current;s.props=e,s.params=i,!a&&o&&function(e){return new Promise((function(t,n){gapi?(gapi.client.setApiKey("AIzaSyCE4B2cKycH0fVmBznwfr1ynnNf2qNEU9M"),gapi.client.load("drive","v3",(function(){gapi.client.drive.files.get({fileId:e,fields:"mimeType,name"}).then((function(e){var n=JSON.parse(e.body);t({mimeType:n.mimeType,name:n.name})})).catch((function(e){console.debug("GAPI error",e),n(e)}))}))):n("gapi is not loaded")}))}(o).then((function(t){(t.name&&e.content.name!==t.name||t.mimeType)&&(s.params.set("mimeType",t.mimeType),console.log("mime: ".concat(t.mimeType),t),t.name&&(e.content.name=t.name),Wc(s))})).catch((function(e){console.log("GDrive failed ".concat(e.body)),404===e.status&&(console.log("404 may be video"),s.params.set("mimeType","video"),Wc(s))}));var c=Hc(e),l=Object(pa.b)((function(){return e.stores.contents.editing===e.content.id})),u=pi(l,s.params);Object(va.useEffect)((function(){var e=Number(s.params.get("top"));l||s.scrolling||!t.current||isNaN(e)||e===t.current.scrollTop||(t.current.onscroll=function(){},t.current.scrollTop=e,setTimeout((function(){t.current&&(t.current.onscroll=s.onscroll)}),100))})),Object(va.useEffect)((function(){function e(){var e=Number(s.params.get("top"));t.current&&t.current.scrollTop!==e&&(s.params.set("top",t.current.scrollTop.toString()),Wc(s))}if(t.current){var n=ke.a.throttle((function(){return setTimeout(e,100)}),100),i=ke.a.debounce((function(){s.scrolling=!1}),100);s.onscroll=function(){s.scrolling=!0,n(),i()},t.current.onscroll=s.onscroll}}),[n.roomContents]);var d=function(e){return!e||!("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e||"application/vnd.google-apps.presentation"===e||"application/vnd.google-apps.spreadsheet"===e||"image"===e.slice(0,5)||"video"===e.slice(0,5)||"audio"===e.slice(0,5))}(a);return Object(Ta.jsx)("div",{className:a?c.divClip:c.divError,children:a?Object(Ta.jsx)("div",{className:l||!d?c.divClip:c.divScroll,ref:t,onWheel:function(e){return e.ctrlKey||e.stopPropagation()},children:Object(Ta.jsx)("iframe",{src:u,title:e.content.url,className:l?c.iframeEdit:d?c.iframeVScrool:c.iframe})}):l?Object(Ta.jsx)("div",{className:c.divClip,onWheel:function(e){return e.ctrlKey||e.stopPropagation()},children:Object(Ta.jsx)("iframe",{src:u,title:e.content.url,className:c.iframeEdit})}):Object(Ta.jsx)("div",{style:{margin:"1em",whiteSpace:"pre-wrap"},children:ee("gdFailed")})})},qc=n(309),_c=n.n(qc),$c=n(310),el=n.n($c),tl=n(140);tl.GlobalWorkerOptions.workerSrc="https://cdn.jsdelivr.net/npm/pdfjs-dist@2.7.570/build/pdf.worker.js";var nl=(Jc=function(){function e(){Object(X.a)(this,e),this.newProps=void 0,this.props=void 0,this.mainUrl=void 0,this.document=void 0,this.pages=[],this.renderTask=void 0,this.canvas=null,this.textDiv=null,this.annotationDiv=null,this.prevSize=[0,0],this.pageNum=0,Object(J.a)(this,"numPages",Kc,this),Object(J.a)(this,"showTop",Vc,this),Object(J.a)(this,"pageText",Xc,this),Object(fe.g)(this)}return Object(V.a)(e,[{key:"render",value:function(){var e=this,t=this.pages[this.pageNum];if(this.canvas&&t){var n=t.getViewport({scale:1}),i=this.props.content;if(i.originalSize[0]!==n.width||i.originalSize[1]!==n.height)return i.originalSize=[n.width,n.height],i.size=[i.size[0],i.size[0]*i.originalSize[1]/i.originalSize[0]],this.props.updateOnly(this.props.content),!1;var o=3*this.props.content.size[0]/n.width,a=t.getViewport({scale:o});this.canvas.width=a.width,this.canvas.height=a.height;var r=this.canvas.getContext("2d");return r&&(this.renderTask&&this.renderTask.cancel(),this.renderTask=t.render({canvasContext:r,viewport:a}),this.renderTask.promise.then((function(){t.getTextContent().then((function(t){if(e.textDiv){var n=e.textDiv.childNodes;Array.from(n.values()).forEach((function(e){return e.remove()}));var i=[];Object(tl.renderTextLayer)({textContent:t,container:e.textDiv,viewport:a,textDivs:i}),i.forEach((function(e){e.style.position="absolute",e.style.color="transparent",e.style.whiteSpace="pre",e.style.transformOrigin="0% 0%",e.style.whiteSpace="nowrap",e.style.verticalAlign="top"}))}})),e.renderTask=void 0})).catch((function(e){}))),!0}return!1}},{key:"updateProps",value:function(){var e=this;if(this.newProps!==this.props){this.props=this.newProps;var t=new URL(this.props.content.url);this.mainUrl=t.hash?t.href.substring(0,t.href.length-t.hash.length):t.href;var n,i=this.pageNum;if("#page="===t.hash.substr(0,6))(i=null!==(n=Number(t.hash.substr(6))-1)&&void 0!==n?n:0)<0&&(i=0),this.numPages&&i>=this.numPages&&(i=this.numPages-1);this.document&&i===this.pageNum?this.prevSize[0]===this.props.content.size[0]&&this.prevSize[1]===this.props.content.size[1]||this.render()&&(this.prevSize=Array.from(this.props.content.size)):(this.getPage(i).then((function(){e.render()})),this.pageNum=i,this.pageText=String(i+1))}}},{key:"getDocument",value:function(){var e=this;return new Promise((function(t,n){e.document?t(e.document):Object(tl.getDocument)({url:Wn(e.mainUrl),cMapUrl:"https://cdn.jsdelivr.net/npm/pdfjs-dist@2.7.570/cmaps/",cMapPacked:!0}).promise.then((function(n){e.document=n,e.numPages=n.numPages,t(e.document)})).catch((function(i){Object(tl.getDocument)({url:e.mainUrl,cMapUrl:"https://cdn.jsdelivr.net/npm/pdfjs-dist@2.7.570/cmaps/",cMapPacked:!0}).promise.then((function(n){e.document=n,e.numPages=n.numPages,t(e.document)})).catch((function(t){console.error("PDF: failed to load ".concat(e.mainUrl)),n(t)}))}))}))}},{key:"getPage",value:function(e){var t=this;return new Promise((function(n,i){t.pages[e]?n(t.pages[e]):t.getDocument().then((function(o){o.getPage(e+1).then((function(i){t.pages[e]=i,n(t.pages[e])})).catch((function(e){i(e)}))})).catch((function(e){i(e)}))}))}},{key:"updateUrl",value:function(e){void 0!==e&&Number.isFinite(e)||(e=this.pageNum),e<0&&(e=0),e>=this.numPages&&(e=this.numPages-1);var t="".concat(this.mainUrl,"#page=").concat(e+1);if(t!==this.props.content.url){var n=Object.assign({},this.props.content);n.url=t,this.props.updateAndSend(n)}}}]),e}(),Kc=Object(K.a)(Jc.prototype,"numPages",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vc=Object(K.a)(Jc.prototype,"showTop",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Xc=Object(K.a)(Jc.prototype,"pageText",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Jc),il={onMouseDown:function(e){e.stopPropagation()},onMouseUp:function(e){e.stopPropagation()},onPointerDown:function(e){e.stopPropagation()},onPointerUp:function(e){e.stopPropagation()}},ol=function(e){r("pdf"===e.content.type);var t=Object(va.useRef)(new nl).current;t.newProps=e;var n=Object(va.useRef)(null),i=Object(va.useRef)(null),o=Object(va.useRef)(null),a=Object(pa.b)((function(){return e.stores.contents.editing===e.content.id}));return Object(va.useEffect)((function(){t.canvas=n.current,t.textDiv=i.current,t.annotationDiv=o.current}),[n.current]),Object(va.useEffect)((function(){t.updateProps()})),Object(Ta.jsxs)("div",{style:{overflow:"hidden",pointerEvents:"auto",userSelect:a?"text":"none"},onDoubleClick:function(t){a||(t.stopPropagation(),t.preventDefault(),e.stores.contents.setEditing(e.content.id))},children:[Object(Ta.jsx)("canvas",{style:{width:"".concat(300,"%"),height:"".concat(300,"%"),transformOrigin:"top left",transform:"scale(".concat(1/3,")")},ref:n}),Object(Ta.jsx)("div",{ref:i,style:{position:"absolute",left:0,top:0,width:"".concat(300,"%"),height:"".concat(300,"%"),transformOrigin:"top left",transform:"scale(".concat(1/3,")"),lineHeight:1,overflow:"hidden"}}),Object(Ta.jsx)("div",{ref:o}),Object(Ta.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:40},onPointerEnter:function(){t.showTop=!0},onPointerLeave:function(){t.showTop=!1},children:Object(Ta.jsx)(pa.a,{children:function(){return Object(Ta.jsx)(Va.a,{in:t.showTop,style:{position:"absolute",top:0,left:0,width:"100%"},children:Object(Ta.jsxs)(hr.a,{container:!0,alignItems:"center",children:[Object(Ta.jsx)(hr.a,{item:!0,children:Object(Ta.jsx)(Tr.a,Object(wn.a)(Object(wn.a)({size:"small",color:t.pageNum>0?"primary":"default"},il),{},{onClick:function(e){e.stopPropagation(),t.updateUrl(t.pageNum-1)},onDoubleClick:function(e){e.stopPropagation()},children:Object(Ta.jsx)(_c.a,{})}))}),Object(Ta.jsx)(hr.a,{item:!0,xs:1,children:Object(Ta.jsx)(dr.a,Object(wn.a)(Object(wn.a)({value:t.pageText},il),{},{inputProps:{min:0,style:{textAlign:"center"}},onChange:function(e){t.pageText=e.target.value},onBlur:function(e){var n=Number(t.pageText);n>0&&t.updateUrl(n-1)},onKeyPress:function(e){if("Enter"===e.key){var n=Number(t.pageText);n>0&&t.updateUrl(n-1)}}}))}),Object(Ta.jsxs)(hr.a,{item:!0,style:{fontSize:15},children:["/ ",t.numPages]}),Object(Ta.jsx)(hr.a,{item:!0,children:Object(Ta.jsx)(Tr.a,Object(wn.a)(Object(wn.a)({size:"small",color:t.pageNum<t.numPages-1?"primary":"default"},il),{},{onClick:function(e){e.stopPropagation(),t.updateUrl(t.pageNum+1)},onDoubleClick:function(e){e.stopPropagation()},children:Object(Ta.jsx)(el.a,{})}))})]})})}})})]})},al=Object(_a.a)({video:{width:"100%",height:"100%"}}),rl=function(e){r("playbackScreen"===e.content.type||"playbackCamera"===e.content.type);var t=al(),n=Object(va.useRef)(null);return Object(va.useEffect)((function(){n.current&&(n.current.src=e.content.url,n.current.autoplay=!0)}),[n.current]),Object(Ta.jsx)("video",{className:t.video,ref:n})},sl=Object(_a.a)({video:{width:"100%",height:"100%"}}),cl=function(e){r("screen"===e.content.type||"camera"===e.content.type);var t=sl(),n=Object(va.useRef)(null),o=ha.a.useState(!1),a=Object(i.a)(o,2),s=a[0],c=a[1],l=Object(va.useRef)({}),u=[.25,.5,.75,4/3,2,4];return Object(va.useEffect)((function(){var t;null!==(t=l.current)&&void 0!==t&&t.tracks||(l.current={tracks:ea.getOrCreateContentTracks("",e.content.id).tracks,content:e.content},l.current.tracks.length>2&&console.error("content ".concat(e.content.id," has ").concat(l.current.tracks.length," tracks"),l.current.tracks));var i=Object(fe.c)((function(){if(n.current){var e=l.current.tracks.find((function(e){return"video"===e.kind}));if(e)if((n.current.srcObject instanceof MediaStream?n.current.srcObject.getVideoTracks()[0]:void 0)!==e){var t=new MediaStream;t.addTrack(e);var i=0;e.onmute=function(){i=window.setTimeout((function(){c(!0)}),5e3)},e.onunmute=function(){i&&(window.clearTimeout(i),i=0),c(!1)},n.current.srcObject=t,n.current.autoplay=!0}}}));return function(){i()}}),[]),Object(va.useEffect)((function(){var t=setInterval((function(){if(l.current.tracks.length&&n.current){var t=n.current.srcObject instanceof MediaStream&&n.current.srcObject.getTracks();if(t&&t.length){var i=t.find((function(e){return"video"===e.kind})),o=null===i||void 0===i?void 0:i.getSettings(),a=[(null===o||void 0===o?void 0:o.width)||0,(null===o||void 0===o?void 0:o.height)||0];if(a[0]&&l.current.content.originalSize.toString()!==a.toString()){if(l.current.content.originalSize[0]){var r=l.current.content.originalSize[0]/a[0],s=l.current.content.originalSize[1]/a[1];if(r===s&&u.find((function(e){return e===r})))return}var c=l.current.content.size[0]/(l.current.content.originalSize[0]?l.current.content.originalSize[0]:a[0]);l.current.content.originalSize=a,l.current.content.size=y(c,a),e.updateAndSend(l.current.content)}}}}),333);return function(){return clearInterval(t)}}),[]),Object(Ta.jsx)("video",{className:t.video,style:s?{filter:"brightness(80%) sepia(25%)"}:{},ref:n})},ll=["backgroundColor"],ul=Object(V.a)((function e(){Object(X.a)(this,e),this.messages=[],this.isStatic=!1,this.abortScroll=!1,this.editing=!1}));function dl(e,t,n){var i={messages:e,scroll:[t.scrollLeft,t.scrollTop]},o=JSON.stringify(i);n.content.url!==o&&n.updateAndSend&&(n.content.url=o,n.updateAndSend(n.content))}function pl(e,t){t.text.message=e;var n=t.member.messages.filter((function(e){return e.message.length}));t.div&&dl(n,t.div,t)}var vl=function(e){var t=ha.a.useState(e.text.message),n=Object(i.a)(t,2),o=n[0],a=n[1],r=Object(va.useRef)(void 0);Object(va.useEffect)((function(){r.current=ke.a.throttle(pl,1e3,{leading:!1})}),[]);var s=r.current;return Object(Ta.jsx)(pa.a,{children:function(){return Object(Ta.jsxs)("div",{style:Object(wn.a)(Object(wn.a)({},e.css),{},{position:"relative",margin:0,border:0,padding:0,backgroundColor:"none"}),children:[Object(Ta.jsx)("div",{style:Object(wn.a)(Object(wn.a)({},e.css),{},{color:"red",position:"relative",width:"100%",overflow:"hidden",visibility:"hidden"}),children:o+"\u200b"}),Object(Ta.jsx)("textarea",{value:o,autoFocus:e.autoFocus,style:Object(wn.a)(Object(wn.a)({},e.css),{},{font:"inherit",verticalAlign:"baseline",resize:"none",position:"absolute",top:0,left:0,width:"100%",height:"100%",border:"none",letterSpacing:"inherit",overflow:"hidden"}),onChange:function(t){a(t.currentTarget.value),s&&s(t.currentTarget.value,e)},onBlur:function(){s&&s.cancel(),pl(o,e)},onFocus:function(){},onKeyDown:function(t){"Escape"!==t.key&&"Esc"!==t.key||(t.stopPropagation(),t.preventDefault(),s&&s.cancel(),pl(o,e),e.stores.contents.setEditing(""))}})]})}})},hl=function(e){var t,n,i=Ac(e.text.time),o=null!==(t=e.text.color)&&void 0!==t&&t.length?e.text.color:Q(e.text.name),a={color:W(null!==(n=e.text.textColor)&&void 0!==n&&n.length?e.text.textColor:L(o),1),backgroundColor:Ic.useTransparent?W(o,.5):W(o,1),padding:"0.1em",fontSize:16,lineHeight:1.2,width:"100%",overflow:"clip",boxSizing:"border-box",whiteSpace:"pre-wrap",wordWrap:"break-word",overflowWrap:"break-word"},r=Object(me.a)(a,ll);return r.backgroundColor=W(o,1),Object(Ta.jsx)(Rr.a,{title:Object(Ta.jsxs)(ha.a.Fragment,{children:[e.text.name," ",Object(Ta.jsx)("br",{})," ",i]}),placement:"left",arrow:!0,suppressContentEditableWarning:!0,children:Object(Ta.jsx)("div",{children:e.textEditing?Object(Ta.jsx)(vl,Object(wn.a)(Object(wn.a)({},e),{},{css:r})):Object(Ta.jsx)("div",{style:a,onPointerDown:function(){e.member.isStatic=!0},onPointerMove:function(){e.member.isStatic=!1},onPointerUp:function(t){if(e.member.isStatic){var n=t.target;if(n instanceof Node){t.preventDefault();var i=window.getSelection();if(i)if(i.rangeCount&&i.getRangeAt(0).toString())i.removeAllRanges();else{var o=document.createRange();o.selectNode(n),i.removeAllRanges(),i.addRange(o)}}}},children:e.textToShow})})})},bl={height:"100%",width:"100%",whiteSpace:"pre-line",pointerEvents:"auto",overflowY:"auto",overflowX:"visible",wordWrap:"break-word"},fl=Object(_a.a)({text:bl,textEdit:Object(wn.a)(Object(wn.a)({},bl),{},{cursor:"default",userSelect:"text"})}),ml=function(e){r("text"===e.content.type);var t=e.stores,n=t.contents,i=t.participants,o=ha.a.useRef(new ul).current,a=fl(),s=Object(va.useRef)(null),c=e.content.url,l=JSON.parse(c),u=Object(pa.b)((function(){return n.editing===e.content.id}));u&&n.setBeforeChangeEditing((function(t,i){t===e.content.id&&""===i&&(s.current&&(o.messages=o.messages.filter((function(e){return e.message.length})),dl(o.messages,s.current,e)),n.setBeforeChangeEditing())})),Object(va.useEffect)((function(){var e;!u&&s.current&&(s.current.scrollLeft===l.scroll[0]&&s.current.scrollTop===l.scroll[1]||(o.abortScroll=!0,null===(e=s.current)||void 0===e||e.scroll(l.scroll[0],l.scroll[1])))}),[l.scroll[0],l.scroll[1],u]);var d=new Set;l.messages.forEach((function(e){var t=o.messages.findIndex((function(t){return t.pid===e.pid&&t.time===e.time}));-1===t?(d.add(o.messages.length),o.messages.push(e)):e.pid!==i.localId&&(d.add(t),o.messages[t]=e)})),o.messages=o.messages.filter((function(e,t){return e.pid===i.localId||d.has(t)})),o.messages.sort(Gn);var p=void 0;if(u){var v=o.messages.pop();v&&o.messages.push(v),(null===v||void 0===v?void 0:v.pid)!==i.localId&&o.messages.push({message:"",pid:i.localId,name:i.local.information.name,color:i.local.information.color,textColor:i.local.information.textColor,time:Date.now()}),o.editing||(o.messages.reverse(),p=o.messages.find((function(e){return e.pid===i.localId})),o.messages.reverse())}var h=o.messages.map((function(t,n){var a=u&&(t.pid===i.localId||!i.remote.has(t.pid)),r=[];return a||(r=Oc(t.message)),Object(va.createElement)(hl,Object(wn.a)(Object(wn.a)({},e),{},{key:n,text:t,div:s.current,textToShow:r,member:o,textEditing:a,autoFocus:t===p}))})),b=ke.a.debounce((function(t){s.current&&(o.abortScroll?o.abortScroll=!1:dl(o.messages,s.current,e))}),200);return o.editing=u,Object(Ta.jsx)("div",{ref:s,className:u?a.textEdit:a.text,onWheel:function(e){return e.ctrlKey||e.stopPropagation()},onScroll:function(e){u||b(e)},children:h})};function gl(e,t){var n=e;n.setSinkId&&n.setSinkId(t).then((function(){})).catch((function(){console.warn("audio.setSinkId:",t," failed")}))}var Al,jl,Ol,yl,xl,Cl,wl,Sl,kl,Il=1e5,Tl=function(){function e(t,n,i,o){Object(X.a)(this,e),this.sourceNode=void 0,this.audioElement=void 0,this.gainNode=void 0,this.pannerNode=void 0,this.destination=void 0,this.context=void 0,this.playMode=void 0,this.audibility=!1,this.audioDeviceId="",this.distance=1,this.interval=void 0,this._defaultPannerRefDistance=ae,this.context=t,this.destination=n,this.gainNode=this.createGainNode(t),this.pannerNode=this.createPannerNode(t),this.gainNode.connect(this.pannerNode),this.pannerNode.connect(this.destination),this.playMode=i,this.updateAudibility(o)}return Object(V.a)(e,[{key:"setPlayMode",value:function(e){var t=this;switch(this.playMode=e,e){case"Pause":var n;null===(n=this.sourceNode)||void 0===n||n.disconnect(),this.interval&&(clearInterval(this.interval),this.interval=void 0),this.audioElement&&this.audioElement.pause();break;case"Context":var i;null===(i=this.sourceNode)||void 0===i||i.connect(this.gainNode),this.interval&&(clearInterval(this.interval),this.interval=void 0),this.audioElement&&this.audioElement.pause();break;case"Element":var o;null===(o=this.sourceNode)||void 0===o||o.disconnect(),this.audioElement||(this.audioElement=this.createAudioElement()),this.audioElement.muted=!1,this.interval||(this.interval=setInterval((function(){var e;da.type||(null===t||void 0===t||null===(e=t.audioElement)||void 0===e||e.play().then((function(){t.interval&&(clearInterval(t.interval),t.interval=void 0)})).catch((function(e){})))}),500));break;default:console.error("Unknown output: ".concat(e))}this.updateAudibility(this.audibility),this.updateVolume()}},{key:"setAudioOutput",value:function(e){this.audioDeviceId!==e&&(this.audioDeviceId=e,this.audioElement&&gl(this.audioElement,this.audioDeviceId))}},{key:"updateStream",value:function(e){this.updateSourceStream(e),this.setPlayMode(this.playMode)}},{key:"updatePose",value:function(e){var t,n,i,o,a=x(e.position),r=(a*a/(this.pannerNode.refDistance*this.pannerNode.refDistance)+this.pannerNode.refDistance-1)/(a||1);(this.distance=r*a,this.pannerNode.positionX&&this.pannerNode.orientationX)?(this.pannerNode.positionX.setValueAtTime(r*e.position[0],this.context.currentTime),this.pannerNode.positionY.setValueAtTime(r*e.position[1],this.context.currentTime),this.pannerNode.positionZ.setValueAtTime(r*e.position[2],this.context.currentTime),this.pannerNode.orientationX.setValueAtTime(e.orientation[0],this.context.currentTime),this.pannerNode.orientationY.setValueAtTime(e.orientation[1],this.context.currentTime),this.pannerNode.orientationZ.setValueAtTime(e.orientation[2],this.context.currentTime)):((t=this.pannerNode).setPosition.apply(t,Object(p.a)((i=r,o=e.position,[i*o[0],i*o[1],i*o[2]]))),(n=this.pannerNode).setOrientation.apply(n,Object(p.a)(e.orientation)));this.updateVolume()}},{key:"updateVolume",value:function(){var e=0;"Element"===this.playMode&&(e=Math.pow(Math.max(this.distance,this.pannerNode.refDistance)/this.pannerNode.refDistance,-this.pannerNode.rolloffFactor)),this.audioElement&&(this.audioElement.volume=e)}},{key:"defaultPannerRefDistance",get:function(){return this._defaultPannerRefDistance},set:function(e){this._defaultPannerRefDistance=e,this.pannerNode.refDistance!==Il&&(this.pannerNode.refDistance=this._defaultPannerRefDistance)}},{key:"updateBroadcast",value:function(e){this.pannerNode.refDistance=e?Il:this.defaultPannerRefDistance}},{key:"updatePannerConfig",value:function(e){var t=this;["coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","distanceModel","panningModel","refDistance","rolloffFactor"].forEach((function(n){"refDistance"===n?t.defaultPannerRefDistance=e.refDistance:t.pannerNode[n]=e[n]}))}},{key:"updateAudibility",value:function(e){e?this.gainNode.connect(this.pannerNode):this.gainNode.disconnect(),this.audioElement&&(this.audioElement.muted=!e),this.audibility=e}},{key:"disconnect",value:function(){this.sourceNode&&this.sourceNode.disconnect(),this.gainNode.disconnect(),this.pannerNode.disconnect(),this.audioElement&&(this.audioElement.volume=0,this.audioElement.pause(),this.audioElement.remove())}},{key:"isBroadcast",get:function(){return this.pannerNode.refDistance===Il}},{key:"createGainNode",value:function(e){var t=e.createGain();return t.gain.value=1,t}},{key:"createPannerNode",value:function(e){return e.createPanner()}},{key:"updateSourceStream",value:function(e){this.sourceNode&&this.sourceNode.disconnect(),void 0!==e?(this.sourceNode=this.context.createMediaStreamSource(e),void 0===this.audioElement&&(this.audioElement=this.createAudioElement()),this.audioElement.srcObject=e):this.sourceNode=void 0}},{key:"createAudioElement",value:function(){var e=new Audio;return gl(e,this.audioDeviceId),e}}]),e}(),El=function(e){Object(Ae.a)(n,e);var t=Object(je.a)(n);function n(){var e;Object(X.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).audioElementForBlob=void 0,e}return Object(V.a)(n,[{key:"playBlob",value:function(e){this.playSourceBlob(e),this.setPlayMode(this.playMode)}},{key:"playSourceBlob",value:function(e){if(this.sourceNode&&this.sourceNode.disconnect(),void 0!==e){var t=URL.createObjectURL(e);this.audioElementForBlob&&this.audioElementForBlob.remove(),this.audioElementForBlob=this.createAudioElement(),this.audioElementForBlob.src=t,this.sourceNode=this.context.createMediaElementSource(this.audioElementForBlob),this.sourceNode.connect(this.gainNode),this.audioElementForBlob.muted=!1,function e(t){var n;null===(n=t.audioElementForBlob)||void 0===n||n.play().catch((function(){setTimeout((function(){return e(t)}),500)}))}(this),void 0===this.audioElement&&(this.audioElement=this.createAudioElement(),this.audioElement.muted=!1),this.audioElement.src=URL.createObjectURL(e),function e(t){var n;null===(n=t.audioElement)||void 0===n||n.play().catch((function(){setTimeout((function(){return e(t)}),500)}))}(this)}else this.sourceNode=void 0}},{key:"setPlayMode",value:function(e){this.playMode=e,this.updateVolume()}}]),n}(Tl),Ml=new(Al=function(){function e(){Object(X.a)(this,e),Object(J.a)(this,"coneInnerAngle",jl,this),Object(J.a)(this,"coneOuterAngle",Ol,this),Object(J.a)(this,"coneOuterGain",yl,this),Object(J.a)(this,"maxDistance",xl,this),Object(J.a)(this,"panningModel",Cl,this),Object(J.a)(this,"distanceModel",wl,this),Object(J.a)(this,"refDistance",Sl,this),Object(J.a)(this,"rolloffFactor",kl,this),this.refDistanceNormal=this.refDistance,Object(fe.g)(this)}return Object(V.a)(e,[{key:"hearableRange",get:function(){return 100*this.refDistance/720}},{key:"setHearableRange",value:function(e){this.refDistanceNormal=e/100*720;var t=On.local.physics.onStage;this.setBroadcast(t)}},{key:"setBroadcast",value:function(e){this.refDistance=this.refDistanceNormal}},{key:"updateParameters",value:function(e){Object.assign(this,e)}}]),e}(),jl=Object(K.a)(Al.prototype,"coneInnerAngle",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ol=Object(K.a)(Al.prototype,"coneOuterAngle",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 180}}),yl=Object(K.a)(Al.prototype,"coneOuterGain",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),xl=Object(K.a)(Al.prototype,"maxDistance",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e4}}),Cl=Object(K.a)(Al.prototype,"panningModel",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"HRTF"}}),wl=Object(K.a)(Al.prototype,"distanceModel",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"exponential"}}),Sl=Object(K.a)(Al.prototype,"refDistance",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 90}}),kl=Object(K.a)(Al.prototype,"rolloffFactor",[fe.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 38}}),Object(K.a)(Al.prototype,"hearableRange",[fe.d],Object.getOwnPropertyDescriptor(Al.prototype,"hearableRange"),Al.prototype),Object(K.a)(Al.prototype,"setHearableRange",[fe.b],Object.getOwnPropertyDescriptor(Al.prototype,"setHearableRange"),Al.prototype),Object(K.a)(Al.prototype,"setBroadcast",[fe.b],Object.getOwnPropertyDescriptor(Al.prototype,"setBroadcast"),Al.prototype),Object(K.a)(Al.prototype,"updateParameters",[fe.b],Object.getOwnPropertyDescriptor(Al.prototype,"updateParameters"),Al.prototype),Al),Pl=Ml;Object(fe.c)((function(){var e=On.local.physics.onStage;Ml.setBroadcast(e)}));var Rl=n(311),Dl=n.n(Rl),Bl=.1;function Nl(){return.001*Date.now()}var zl=Object(_a.a)({iframe:{width:"100%",height:"100%"}}),Fl=Object(V.a)((function e(){Object(X.a)(this,e),this.player=void 0,this.goal="",this.skipOnPlaying=0,this.pauseIntervalTimer=0,this.lastCurrentTimePaused=0,this.playTimeout=0,this.pauseTimeout=0,this.params=new Map,this.editing=!1,this.prevRelPos=[0,0],this.volumeUI=.5,this.volumeDist=0,this.prevVolumeDist=0,this.volumeIntervalTimer=0,this.props=void 0}));function Ql(e){return function(e){return new Map(e.map((function(e){return e.split("=")})))}(e.split("&"))}function Ll(e){e.playTimeout&&(clearTimeout(e.playTimeout),e.playTimeout=0),e.pauseTimeout&&(clearTimeout(e.pauseTimeout),e.pauseTimeout=0)}function Ul(e,t,n){r(n.player),n.goal="playing",Ll(n);var i=(Nl()-e)*n.player.getPlaybackRate();if("playing"!==n.player.getState()||0!==n.player.getPlaylist().length&&n.player.getPlaylistIndex()!==t||!(Math.abs(n.player.getCurrentTime()-i)<Bl)){var o=-1e3;!function a(){if(n.player){var r=n.player.getCurrentTime();if("paused"===n.player.getState()&&Math.abs(o-r)<Bl)return n.player.play(),void Go("ytSeekAndPlay: ".concat(n.player.getState(),"  ")+"cur:".concat(n.player.getCurrentTime(),"  toSeek:").concat(i),n.params);var s=Nl();i=(s-e)*n.player.getPlaybackRate();o=i+1*n.player.getPlaybackRate();var c=n.player.getDuration();"unstarted"!==n.player.getState()&&c||(n.skipOnPlaying=1,n.player.play(),c=n.player.getDuration()),t>=0&&t!==n.player.getPlaylistIndex()&&(n.skipOnPlaying=1,n.player.playVideoAt(t),c=n.player.getDuration()),c&&(n.player.pause(),o>c&&(e=s+1-(o%=c)/n.player.getPlaybackRate()),n.player.seek(o)),n.playTimeout=setTimeout(a,1e3)}}()}}function Gl(e,t){r(t.player),t.goal="paused",Ll(t);!function n(){if(t.player){var i=t.params.get("index"),o=Number(i||-1);if("paused"!==t.player.getState()||o>=0&&o!==t.player.getPlaylistIndex())return"unstarted"===t.player.getState()&&t.player.play(),o>=0&&o!==t.player.getPlaylistIndex()&&t.player.playVideoAt(o),t.player.pause(),void(t.pauseTimeout=setTimeout(n,333));t.player.getCurrentTime()!==e&&(t.player.seek(e),Go("ytSeekAndPause seek to ".concat(e),t.params)),t.lastCurrentTimePaused=t.player.getCurrentTime()}}()}function Yl(e,t,n){var i,o,r;(r=n.params).delete("playing"),r.delete("paused"),r.delete("ended"),n.params.set(e,String(t)),n.params.set("rate",String(null===(i=n.player)||void 0===i?void 0:i.getPlaybackRate()));var s=null===(o=n.player)||void 0===o?void 0:o.getPlaylistIndex();n.params.set("index",String(s||-1)),n.props.content.url=function(e){var t,n="",i="",o=Object(a.a)(e);try{for(o.s();!(t=o.n()).done;){var r=t.value;n+="".concat(i).concat(r[0],"=").concat(r[1]),i="&"}}catch(s){o.e(s)}finally{o.f()}return n}(n.params),n.props.updateAndSend(n.props.content),Go("YT SEND state ".concat(e," t=").concat(t),n.params)}function Hl(e){if(e.player){var t=e.player.getState();if(e.editing||""!==e.goal||"paused"!==t)e.pauseIntervalTimer&&(clearInterval(e.pauseIntervalTimer),e.pauseIntervalTimer=0);else{var n=e.player.getCurrentTime();if(Go("YT ytPauseInterval cur:".concat(n,", last:").concat(e.lastCurrentTimePaused," param").concat(e.params.get("paused"))),Math.abs(n-e.lastCurrentTimePaused)>Bl)e.lastCurrentTimePaused=n,n!==Number(e.params.get("paused"))&&Yl("paused",n,e)}}}function Wl(e,t){t.player&&(t.volumeDist=function(e){var t=(e*e/(Ml.refDistance*Ml.refDistance)+Ml.refDistance-1)/(e||1)*e;return Math.pow(Math.max(t,Ml.refDistance)/Ml.refDistance,-Ml.rolloffFactor)}(e),t.player.setVolume(t.volumeUI*t.volumeDist*100))}function Jl(e){if(e.props.stores.participants){!function(e){if(e.player){if(1===e.volumeDist&&1===e.prevVolumeDist){var t=e.player.getVolume()/100;t!==e.volumeUI&&(e.volumeUI=t)}else e.player.setVolume(e.volumeUI*e.volumeDist*100);e.prevVolumeDist=e.volumeDist}}(e);var t=j(e.props.content.pose.position,e.props.stores.participants.local.pose.position);if(x(j(t,e.prevRelPos))>6){e.prevRelPos=[t[0],t[1]];for(var n=0;n<2;n++)t[n]<0&&(t[n]+=e.props.content.size[n],t[n]>0&&(t[n]=0));Wl(x(t),e)}}}var Kl=function(e){r("youtube"===e.content.type);var t=zl(),n=Object(va.useRef)(new Fl).current;n.props=e;var o=Object(pa.b)((function(){return e.stores.contents.editing===e.content.id})),s=n.params;if(n.params=Ql(e.content.url),!o&&(n.editing||!function(e,t){var n;if(e.size!==t.size)return!1;var o,r=Object(a.a)(e);try{for(r.s();!(o=r.n()).done;){var s=Object(i.a)(o.value,2),c=s[0],l=s[1];if((n=t.get(c))!==l||void 0===n&&!t.has(c))return!1}}catch(u){r.e(u)}finally{r.f()}return!0}(n.params,s))&&n.player){n.params.get("rate")!==s.get("rate")&&n.player.setPlaybackRate(Number(n.params.get("rate")));var c=n.params.get("playing"),l=void 0!==c&&c!==s.get("playing"),u=n.params.get("paused"),d=void 0!==u&&u!==s.get("paused");l?(Go("YT render move to play=".concat(c," state")),Ul(Number(n.params.get("playing")),Number(n.params.get("index")),n)):d&&(Go("YT render move to pause=".concat(u," state")),Gl(Number(n.params.get("paused")),n))}return n.editing=o,Object(va.useEffect)((function(){r(e.content.id);var t=!1;if(!n.player){var i="#YT".concat(e.content.id),o=new Dl.a(i);n.params.has("playing")||n.params.has("paused")||n.params.has("ended")||(t=!0,n.params.set("playing",String(-1)),o.play()),n.player=o,Go("YTPlayer for ".concat(i," created")),n.params.has("rate")&&o.setPlaybackRate(Number(n.params.get("rate"))),n.editing||(n.params.has("paused")?Gl(Number(n.params.get("paused")),n):!t&&n.params.has("playing")&&Ul(Number(n.params.get("playing")),Number(n.params.get("index")),n)),o.on("error",(function(e){return Go("YT on error ",e)})),o.on("buffering",(function(){return Go("YT on buffering")})),o.on("cued",(function(){return Go("YT on cued")})),o.on("unstarted",(function(){Go("YT on unstarted"),o.unMute()})),o.on("ended",(function(){(Go("YT on ended"),n.player)&&Ul(Nl(),0,n)})),o.on("paused",(function(){Go("YT on paused at ".concat(o.getCurrentTime()," goal:").concat(n.goal),n.params),"paused"===n.goal?n.goal="":""===n.goal?n.params.has("paused")||setTimeout((function(){n.params.has("paused")||n.params.has("playing")||"paused"!==o.getState()||Yl("paused",o.getCurrentTime(),n)}),1e3):Go("paused for goal ".concat(n.goal)),""!==n.goal||n.pauseIntervalTimer||(n.pauseIntervalTimer=setInterval(Hl,333,n))})),o.on("playing",(function(){Go("YT on playing goal=".concat(n.goal," skip=").concat(n.skipOnPlaying),n.params);var e=!1;if(o.getPlaylist().length>0&&o.getPlaylistIndex()!==Number(n.params.get("index"))&&(n.params.set("index",String(o.getPlaylistIndex())),e=!0),"playing"===n.goal)n.skipOnPlaying?n.skipOnPlaying=0:n.goal="";else if(""===n.goal){var t=Nl()-o.getCurrentTime()/o.getPlaybackRate(),i=Number(n.params.get("playing"));-1===i&&(i=t);var a=t-i;(!n.params.has("playing")||e||Math.abs(a)>Bl)&&Yl("playing",t,n)}})),o.on("playbackRateChange",(function(){Go("YT on playbackRateChange");var e=Nl()-o.getCurrentTime()/o.getPlaybackRate(),t=o.getState();Yl("paused"===t?"paused":"playing"===t?"playing":"ended",e,n)}))}var a=n.player;return a&&(n.params.has("list")?(a.loadList({listType:"playlist",list:n.params.get("list")}),Go("YT loadList: ".concat(n.params.get("list")))):n.params.has("v")&&(a.load(n.params.get("v")),Go("YT load: ".concat(n.params.get("v"))))),n.volumeIntervalTimer||(n.volumeIntervalTimer=setInterval(Jl,200,n)),function(){n.player&&n.player.destroy(),n.player=void 0,n.volumeIntervalTimer&&clearInterval(n.volumeIntervalTimer)}}),[]),Object(Ta.jsx)("div",{id:"YT".concat(e.content.id),className:t.iframe})};function Vl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;n<0&&(n=t);var i={img:Object(Ta.jsx)(Uc.a,{style:c()?{fontSize:t,width:"70px",height:"70px"}:{fontSize:t,width:"40px",height:"40px"}}),text:Object(Ta.jsx)(Hs.a,{style:c()?{fontSize:t,width:"70px",height:"70px"}:{fontSize:t,width:"40px",height:"40px"}}),iframe:Object(Ta.jsx)(Qc.a,{style:{fontSize:t,width:n}}),youtube:Object(Ta.jsx)(Yc.a,{style:{fontSize:t,width:n}}),screen:Object(Ta.jsx)(Gs.a,{style:c()?{fontSize:t,width:"70px",height:"70px"}:{fontSize:t,width:"40px",height:"40px"}}),gdrive:Object(Ta.jsx)("span",{style:{width:n,height:t},children:Object(Ta.jsx)(Ka.Icon,{icon:Bc.a,height:t})}),whiteboard:Object(Ta.jsx)("span",{style:{width:n,height:t},children:Object(Ta.jsx)(Ka.Icon,{icon:Mc.a,height:t})}),camera:Object(Ta.jsx)(zc.a,{style:{fontSize:t,width:n}}),pdf:Object(Ta.jsx)("span",{style:{width:n,height:t},children:Object(Ta.jsx)(Ka.Icon,{icon:Rc.a,height:t})}),playbackScreen:Object(Ta.jsx)(Gs.a,{style:{fontSize:t,width:n}}),playbackCamera:Object(Ta.jsx)(zc.a,{style:{fontSize:t,width:n}}),chat:Object(Ta.jsx)(Ta.Fragment,{}),content:Object(Ta.jsx)(Ta.Fragment,{}),"":void 0};return i[e]}function Xl(e,t){var n=t?t.type:"";return"whiteboard"===n?ee(e?"ctEndEditWhiteboard":"ctEditWhiteboard"):"gdrive"===n?ee(e?"ctEndEditGDrive":"ctEditGDrive"):"youtube"===n?ee(e?"ctEndEditYoutube":"ctEditYoutube"):"iframe"===n?ee(e?"ctEndEditIframe":"ctEditIframe"):"text"===n?ee(e?"ctEndEditText":"ctEditText"):""}var Zl=Object(_a.a)({img:{width:"100%",height:"100%",verticalAlign:"bottom",userDrag:"none",pointerEvents:"none"},iframe:{width:"100%",height:"100%",pointerEvents:"none",border:"none"},iframeEdit:{width:"100%",height:"100%",border:"none"},div:{width:"100%",height:"100%"}}),ql=function(e){var t=Zl(),n=Object(pa.b)((function(){return e.stores.contents.editing===e.content.id}));return"img"===e.content.type?Object(Ta.jsx)("img",{className:t.img,src:e.content.url,alt:e.content.name}):"iframe"===e.content.type||"whiteboard"===e.content.type?Object(Ta.jsx)("div",{className:t.div,children:Object(Ta.jsx)("iframe",{className:n?t.iframeEdit:t.iframe,style:"whiteboard"===e.content.type?{backgroundColor:e.content.noFrame?"rgba(0,0,0,0)":"white"}:{},src:e.content.url,title:e.content.name},e.content.name)}):"youtube"===e.content.type?Object(Ta.jsx)(Kl,Object(wn.a)({},e)):"gdrive"===e.content.type?Object(Ta.jsx)(Zc,Object(wn.a)({},e)):"pdf"===e.content.type?Object(Ta.jsx)(ol,Object(wn.a)({},e)):"text"===e.content.type?Object(Ta.jsx)(ml,Object(wn.a)({},e)):"screen"===e.content.type||"camera"===e.content.type?Object(Ta.jsx)(cl,Object(wn.a)({},e)):"playbackScreen"===e.content.type||"playbackCamera"===e.content.type?Object(Ta.jsx)(rl,Object(wn.a)({},e)):Object(Ta.jsxs)("div",{children:["Unknown type:",e.content.type," for ",e.content.url]})},_l=function(e){return ha.a.useMemo((function(){return Object(Ta.jsx)(ql,Object(wn.a)({},e))}),[e.content.url,e.content.id,e.content.type,e.stores.contents.editing===e.content.id,e.content.pose,e.content.size,e.content.originalSize])};_l.displayName="Content";var $l=n(315),eu=n(316),tu=n(317),nu=n(318),iu=n(319),ou=n.n(iu),au=n(612),ru=n(610),su=n(611),cu=n(609),lu=n(608),uu=n(323),du=n.n(uu),pu=n(322),vu=n.n(pu),hu=n(321),bu=n.n(hu),fu=n(320),mu=n.n(fu),gu=["onClose","autoHideTitle","updateAndSend","updateOnly","close"],Au=Object(Fr.a)({palette:{primary:{main:"#7ececc"},secondary:{main:"#ef4623"}}});function ju(e,t,n,i,o,a){var r={margin:0,padding:2,border:"none"},s={margin:0,padding:2,border:"none",transform:c()?"scale(1.5)":"scale(1)"};return Object(Ta.jsxs)(lu.a,{children:[Object(Ta.jsx)(cu.a,{align:"right",style:r,children:e}),Object(Ta.jsx)(cu.a,{align:"right",style:r,children:t}),Object(Ta.jsx)(cu.a,{align:"center",style:s,children:n}),Object(Ta.jsx)(cu.a,{style:r,children:i}),Object(Ta.jsx)(cu.a,{style:r,children:o})]},a)}var Ou=function(){function e(t){Object(X.a)(this,e),this.zorder=void 0,this.pinned=void 0,this.editing=void 0,this.showTitle=void 0,this.name=void 0,this.pose=void 0,this.save(t)}return Object(V.a)(e,[{key:"save",value:function(e){e.content&&(this.zorder=e.content.zorder,this.pinned=e.content.pinned,this.name=e.content.name,this.pose=e.content.pose,this.editing=e.stores.contents.editing,this.showTitle=e.content.showTitle)}},{key:"restore",value:function(e){e.content&&(e.content.zorder=this.zorder,e.content.pinned=this.pinned,e.content.name=this.name,e.content.pose=this.pose,e.stores.contents.setEditing(this.editing),this.showTitle=e.content.showTitle)}}]),e}(),yu=function(e){var t=ha.a.useRef(new Ou(e)).current,n={fontSize:c()?"2em":"1em"};function i(n,i){"enter"!==i&&"backdropClick"!==i||(t.save(e),e.content&&e.updateAndSend(e.content)),e.close()}var o=function(e){"Enter"===e.key&&i(0,"enter")},a=e.stores,r=a.contents,s=a.map,l=function(e){e.onClose,e.autoHideTitle,e.updateAndSend,e.updateOnly,e.close;return Object(me.a)(e,gu)}(e);return Object(Ta.jsx)(qa.a,Object(wn.a)(Object(wn.a)({onClose:i},l),{},{onMouseDown:function(e){e.stopPropagation()},children:Object(Ta.jsx)(pa.a,{children:function(){var a,l,u;return Object(Ta.jsxs)(ya.a,{children:[Object(Ta.jsx)("table",{children:Object(Ta.jsx)("tbody",{children:Object(Ta.jsxs)("tr",{children:[Object(Ta.jsx)("td",{children:Vl(e.content?e.content.type:"",Yo)}),Object(Ta.jsx)("td",{children:Object(Ta.jsx)(dr.a,{label:ee("ctName"),multiline:!1,value:e.content?e.content.name:"",inputProps:{autoFocus:!0,style:n},style:{marginLeft:20,width:"100%"},InputLabelProps:{style:n},onChange:function(t){e.content&&(e.content.name=t.target.value,e.updateOnly(e.content))},onKeyPress:o,fullWidth:!0})})]})})}),Object(Ta.jsx)("table",{children:Object(Ta.jsx)("tbody",{children:Object(Ta.jsx)("tr",{children:Object(Ta.jsx)("td",{children:Object(Ta.jsx)(dr.a,{label:ee("ctStreamingMedia"),multiline:!1,value:e.content?e.content.mediaURL:"",inputProps:{autoFocus:!0,style:n},style:{marginLeft:0,width:"240%"},InputLabelProps:{style:n},onChange:function(t){e.content&&(e.content.mediaURL=t.target.value,e.updateOnly(e.content))},onKeyPress:o,fullWidth:!0})})})})}),Object(Ta.jsxs)(Qr.a,{theme:Au,children:[Object(Ta.jsxs)(ja.a,{mt:2,mb:2,children:[Object(Ta.jsxs)(Oa.a,{variant:"contained",style:{textTransform:"none",fontSize:c()?"2em":"1em"},onClick:function(){e.content&&(hi(e.content),e.updateOnly(e.content))},children:[Object(Ta.jsx)(mu.a,{style:n}),"\xa0 ",ee("ctMoveTop")]})," \xa0",Object(Ta.jsxs)(Oa.a,{variant:"contained",style:{textTransform:"none",fontSize:c()?"2em":"1em"},onClick:function(){e.content&&(bi(e.content),e.updateOnly(e.content))},children:[Object(Ta.jsx)(bu.a,{style:n}),"\xa0 ",ee("ctMoveBottom")]})," \xa0"]}),Object(Ta.jsxs)(ja.a,{mt:2,mb:2,children:[Object(Ta.jsxs)(Oa.a,{variant:"contained",style:{textTransform:"none",fontSize:c()?"2em":"1em"},onClick:function(){e.content&&function(e){if("text"===e.type){var t=JSON.parse(e.url);di(t.messages.length?t.messages.map((function(e){return e.message})).reduce((function(e,t){return e?e+"\n":""+t})):"")}else if("youtube"===e.type){var n=e.url.split("&").filter((function(e){var t=e.split("=")[0];return"v"===t||"list"===t})),i=n.length?n.reduce((function(e,t){return(e?e+"&":"")+t})):"";di("https://www.youtube.com/watch?".concat(i))}else"gdrive"===e.type?di(pi(!0,vi(e.url))):di(e.url)}(e.content)},children:[Object(Ta.jsx)(Ka.Icon,{style:n,icon:nu.a}),"\xa0 ",ee("ctCopyToClipboard")]})," \xa0",Object(Ta.jsx)(Oa.a,{variant:"contained",style:{textTransform:"none",fontSize:c()?"2em":"1em"},onClick:function(){e.content&&s.focusOn(e.content)},children:ee("ctFocus")})]}),Object(Ta.jsx)(ru.a,{size:"small",children:Object(Ta.jsx)(su.a,{children:[Object(Ta.jsx)(va.Fragment,{children:Qn(e.content)?ju(Xl(!0,e.content),Object(Ta.jsx)(xr.a,{}),Object(Ta.jsx)(au.a,{color:"secondary",checked:(null===(a=e.content)||void 0===a?void 0:a.id)===r.editing,onChange:function(t,n){e.content&&r.setEditing(n?e.content.id:"")}}),Object(Ta.jsx)(vu.a,{}),Xl(!1,e.content)):void 0},"edit"),Object(Ta.jsx)(va.Fragment,{},"wall"),Object(Ta.jsx)(va.Fragment,{},"noFrame"),Object(Ta.jsx)(va.Fragment,{children:"img"===(null===(l=e.content)||void 0===l?void 0:l.type)?ju(Object(Ta.jsx)("span",{style:{fontSize:c()?"2em":"1em"},children:ee("ctNotAudioZone")}),Object(Ta.jsx)(Ka.Icon,{icon:$l.a,height:c()?42:Yo}),Object(Ta.jsx)(au.a,{color:"secondary",checked:void 0!==(null===(u=e.content)||void 0===u?void 0:u.zone),onChange:function(t,n){e.content&&(e.content.zone=n?e.content.zone?e.content.zone:"open":void 0,e.updateOnly(e.content))}}),Object(Ta.jsx)(Ka.Icon,{icon:eu.a,height:Yo}),Object(Ta.jsxs)(Ta.Fragment,{children:[e.content.zone?Object(Ta.jsx)(Tr.a,{size:"small",onClick:function(){e.content&&(e.content.zone="close"===e.content.zone?"open":"close",e.updateOnly(e.content))},children:Object(Ta.jsx)(Ka.Icon,{icon:"close"===e.content.zone?tu.a:ou.a,height:c()?42:Yo})}):void 0,"close"===e.content.zone?Object(Ta.jsx)("span",{style:{fontSize:c()?"2em":"1em"},children:ee("ctClosedAudioZone")}):Object(Ta.jsx)("span",{style:{fontSize:c()?"2em":"1em"},children:ee("ctOpenAudioZone")})]})):void 0},"zone"),Object(Ta.jsx)(va.Fragment,{},"opacity")]})}),Object(Ta.jsxs)(ja.a,{mt:2,mb:2,children:[Object(Ta.jsx)(Oa.a,{variant:"contained",color:"primary",style:{textTransform:"none",fontSize:c()?"2em":"1em"},onClick:function(){i(0,"enter")},children:ee("btSave")}),Object(Ta.jsx)(Oa.a,{variant:"contained",color:"secondary",style:{textTransform:"none",marginLeft:15,fontSize:c()?"2em":"1em"},onClick:function(){e.content&&(t.restore(e),e.updateOnly(e.content))},children:ee("btCancel")}),Object(Ta.jsxs)(Oa.a,{variant:"contained",color:"secondary",style:{textTransform:"none",marginLeft:60,fontSize:c()?"2em":"1em"},onClick:function(t){e.onClose(t)},children:[Object(Ta.jsx)(du.a,{})," \xa0 ",ee("ctDelete")]})," \xa0\xa0"]})]})]})}})}))},xu=n(141),Cu=n(324),wu=n.n(Cu),Su="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAAC4jAAAuIwF4pT92AAABkUlEQVR4nO3cwU3DMBiAURcxWJmErsAGHYVRYIOOwAhsEA5cOZBgyfrKe1Jv7u9In+RD0+S0bdug6WH1BXCceGHihYkXJl6YeGHihYkXJl6YeGHihYkXJl6YeGHihYkXJl6YeGHihYkXJl6YeGHihYkXJl6YeGHihYkXJl6YeGH3Eu86xth2fM4rLnK2e4n3L4kXJl6YeGHihYkXJl6YeGHihYkXJl6YeGHihYkXJl6YeGHihT0u3v86ac555/rLge/85GOM8TphziGnxW+6rb9m930s/EuFYzNMvDDxwsQLEy9MvDDxwsQLEy9MvLDVv20+TZpzGWM871j/Msa4Tdj3c8KMw1bHe5s057xz/W3i3ss4NsPECxMvTLww8cLECxMvTLww8cLECxMvTLww8cLECxMvTLyw1TdjZ/kY3w99/NbSO+CzrH5KiD9wbIaJFyZemHhh4oWJFyZemHhh4oWJFyZemHhh4oWJFyZemHhh4oWJFyZemHhh4oWJFyZemHhh4oWJFyZemHhh4oWJF/YFuDIiwrkDZeQAAAAASUVORK5CYII=";var ku=n(325),Iu=n.n(ku),Tu=n(326),Eu=n.n(Tu),Mu=n(327),Pu=n.n(Mu),Ru=n(328),Du=n.n(Ru),Bu=n(329),Nu=n.n(Bu),zu=function(e){var t=e.stat,n=e.streams;return Object(Ta.jsxs)(Ta.Fragment,{children:[null!==t&&void 0!==t&&t.turn?Object(Ta.jsxs)("div",{children:["RTC via ",t.turn]}):void 0,null!==t&&void 0!==t&&t.remoteServer?Object(Ta.jsxs)("div",{children:["RTC\u21d3:",t.remoteServer]}):void 0,Object(Ta.jsxs)("div",{children:["\u21d1",(((null===t||void 0===t?void 0:t.sentBytePerSec)||0)/1e3).toFixed(1),"k\xa0 \u21d3",(((null===t||void 0===t?void 0:t.receivedBytePerSec)||0)/1e3).toFixed(1),"k\xa0",void 0!==(null===t||void 0===t?void 0:t.quality)?Object(Ta.jsxs)(Ta.Fragment,{children:["Quality:",t.quality.toFixed(0),"%\xa0"]}):void 0,null!==t&&void 0!==t&&t.roundTripTime?Object(Ta.jsxs)(Ta.Fragment,{children:["RTT:",(1e3*t.roundTripTime).toFixed(0),"ms\xa0"]}):void 0,void 0!==(null===t||void 0===t?void 0:t.fractionLost)?Object(Ta.jsxs)(Ta.Fragment,{children:["Lost:",(100*(null===t||void 0===t?void 0:t.fractionLost)).toFixed(2),"%"]}):void 0]}),Object(Ta.jsx)("div",{children:"Streams:"}),null===n||void 0===n?void 0:n.map((function(e){return Object(Ta.jsxs)("div",{children:["\xa0","send"===e.dir?"\u21d1":"\u21d3",e.codec&&Object(Ta.jsxs)(Ta.Fragment,{children:[e.codec,"\xa0"]}),((e.bytesPerSec?e.bytesPerSec:0)/1e3).toFixed(1),"k",e.roundTripTime?Object(Ta.jsxs)(Ta.Fragment,{children:["\xa0 RTT:",(1e3*e.roundTripTime).toFixed(0),"ms"]}):void 0,void 0!==e.fractionLost?Object(Ta.jsxs)(Ta.Fragment,{children:["\xa0 Lost:",(100*e.fractionLost).toFixed(2),"%"]}):void 0,void 0!==e.jitter?Object(Ta.jsxs)(Ta.Fragment,{children:["\xa0 Jitter:",(1e3*e.jitter).toFixed(0),"ms"]}):void 0]},e.id)}))]})},Fu=function(e){var t=te().t,n=Object(pa.b)((function(){return e.stat?Object(wn.a)({},e.stat):void 0}));return Object(Ta.jsxs)(qa.a,{open:e.open,anchorEl:e.anchorEl,children:[Object(Ta.jsx)(Ia.a,{children:t("connectionStatus")}),Object(Ta.jsxs)(ya.a,{children:[Object(Ta.jsx)(zu,{stat:n,streams:null===n||void 0===n?void 0:n.streams}),Object(Ta.jsx)(Oa.a,{variant:"contained",color:"primary",style:{textTransform:"none",marginTop:"0.4em"},onClick:function(t){t.stopPropagation(),e.onClose&&e.onClose()},children:t("emClose")})]}),Object(Ta.jsx)("br",{})]})},Qu=function(e){var t=void 0,n=e.quality;return void 0!==n&&(t=Object(Ta.jsx)(Iu.a,{className:e.className,style:{color:"red"}}),n>30&&(t=Object(Ta.jsx)(Eu.a,{className:e.className,style:{color:"orange"}})),n>50&&(t=Object(Ta.jsx)(Pu.a,{className:e.className,style:{color:"gold"}})),n>70&&(t=Object(Ta.jsx)(Du.a,{className:e.className,style:{color:"yellow"}})),n>90&&(t=Object(Ta.jsx)(Nu.a,{className:e.className,style:{color:"green"}}))),Object(Ta.jsx)(Ta.Fragment,{children:t})},Lu=function(e){var t,n=ha.a.useState(!1),o=Object(i.a)(n,2),a=o[0],r=o[1],s=ha.a.useRef(null);return Object(Ta.jsxs)(Tr.a,{ref:s,onClick:function(){r(!0)},children:[Object(Ta.jsx)(Qu,{quality:null===(t=e.stat)||void 0===t?void 0:t.quality}),Object(Ta.jsx)(Fu,{stat:e.stat,open:a,anchorEl:s.current,onClose:function(){r(!1)}})]})},Uu=["close"],Gu=Object(Fr.a)({palette:{primary:{main:"#7ececc"},secondary:{main:"#ef4623"}}}),Yu={fontSize:c()?"2em":"1em",height:c()?"2em":"1.5em"},Hu={height:c()?"4em":"3em"},Wu={fontSize:(c(),"1em")},Ju={fontSize:c()?"2.5rem":"1rem"},Ku=function(e){var t=e.stores,n=t.participants,o=t.map,a=n.local,r=Object(va.useState)(),s=Object(i.a)(r,2),l=s[0],u=s[1],d=Object(va.useState)(!1),p=Object(i.a)(d,2),v=p[0],h=p[1],b=Object(va.useState)(!1),f=Object(i.a)(b,2),m=f[0],g=f[1],A=te().t;function j(t,n){"enter"!==n&&"backdropClick"!==n||(a.sendInformation(),a.saveInformationToStorage(!0)),e.close()}var O=function(e){"Enter"===e.key?j(0,"enter"):"Esc"!==e.key&&"Escape"!==e.key||a.loadInformationFromStorage()};function y(e){e.preventDefault(),u(null),a.information.avatarSrc=""}function x(e){e.preventDefault(),l&&qn(l).then((function(e){a.information.avatarSrc=e}))}var C=ha.a.useRef(null),w=ha.a.useRef(null),S=(e.close,Object(me.a)(e,Uu));return Object(Ta.jsxs)(qa.a,Object(wn.a)(Object(wn.a)({},S),{},{onClose:j,children:[Object(Ta.jsxs)(Ia.a,{children:[Object(Ta.jsx)("span",{style:{fontSize:c()?"2.5em":"1em"},children:A("lsTitle")}),Object(Ta.jsx)("span",{style:{float:"right"},children:Object(Ta.jsx)(Lu,{open:e.open,stat:Uo.sendTransportStat})})]}),Object(Ta.jsxs)(ya.a,{children:[Object(Ta.jsx)(pa.a,{children:function(){var e=a.getColorRGB(),t=a.getTextColorRGB(),n=U(e)?"white":"black",i=U(t)?"lightgray":"gray";return Object(Ta.jsxs)(Ta.Fragment,{children:[Object(Ta.jsx)(dr.a,{label:A("YourName"),multiline:!1,value:a.information.name,style:Hu,inputProps:{style:Yu,autoFocus:!0},InputLabelProps:{style:Wu},onChange:function(e){a.information.name=e.target.value},onKeyPress:O,fullWidth:!0}),Object(Ta.jsxs)(ja.a,{mt:3,children:[Object(Ta.jsx)("div",{style:{fontSize:c()?"2em":12},children:A("lsColor")}),Object(Ta.jsxs)(ja.a,{ml:2,children:[Object(Ta.jsx)(Oa.a,{variant:"contained",style:{backgroundColor:Y(e),color:n,textTransform:"none",fontSize:c()?"2em":"1em"},onClick:function(){h(!0)},ref:C,children:A("lsColorAvatar")}),Object(Ta.jsx)(qa.a,{open:v,onClose:function(){h(!1)},anchorEl:C.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(Ta.jsx)(pr.a,{color:{r:e[0],g:e[1],b:e[2]},disableAlpha:!0,onChange:function(e,t){t.preventDefault(),a.information.color=[e.rgb.r,e.rgb.g,e.rgb.b]}})}),Object(Ta.jsx)(Oa.a,{variant:"contained",style:{color:Y(t),backgroundColor:i,marginLeft:15,textTransform:"none",fontSize:c()?"2em":"1em"},onClick:function(){g(!0)},ref:w,children:A("lsColorText")}),Object(Ta.jsx)(qa.a,{open:m,anchorOrigin:{vertical:"bottom",horizontal:"right"},onClose:function(){g(!1)},anchorEl:w.current,children:Object(Ta.jsx)(pr.a,{color:{r:t[0],g:t[1],b:t[2]},onChange:function(e,t){t.preventDefault(),a.information.textColor=[e.rgb.r,e.rgb.g,e.rgb.b]}})}),Object(Ta.jsx)(Oa.a,{variant:"contained",style:{marginLeft:15,textTransform:"none",fontSize:c()?"2em":"1em"},onClick:function(){a.information.color=[],a.information.textColor=[]},children:A("lsAutoColor")})]})]}),Object(Ta.jsxs)(ja.a,{mt:3,children:[Object(Ta.jsx)("div",{style:{fontSize:c()?"2em":"1em"},children:A("lsImage")}),Object(Ta.jsxs)(ja.a,{mt:-1,ml:2,children:[Object(Ta.jsxs)("form",{onSubmit:x,style:{lineHeight:"2em",fontSize:c()?"2.5em":"1em"},children:[Object(Ta.jsx)("div",{style:{fontSize:c()?"1em":12,marginTop:8},children:A("lsImageFile")}),a.information.avatarSrc?Object(Ta.jsxs)(Ta.Fragment,{children:[Object(Ta.jsx)("img",{src:a.information.avatarSrc,style:{height:"1.5em",verticalAlign:"middle"},alt:"avatar"}),Object(Ta.jsx)("input",{style:Ju,type:"submit",onClick:y,value:"\u2715"})," \xa0"]}):void 0,Object(Ta.jsx)("input",{style:Ju,type:"file",onChange:function(e){var t;u(null===(t=e.target.files)||void 0===t?void 0:t.item(0))}}),Object(Ta.jsx)("input",{style:Ju,type:"submit",value:"Upload"})]},"information"),Object(Ta.jsx)(dr.a,{label:A("lsEmail"),multiline:!1,value:a.information.email,style:Object(wn.a)(Object(wn.a)({},Hu),{},{marginTop:8}),inputProps:{style:Yu,autoFocus:!0},InputLabelProps:{style:Wu},onChange:function(e){return a.information.email=e.target.value},onKeyPress:O,fullWidth:!0})]})]}),Object(Ta.jsx)(Qr.a,{theme:Gu,children:Object(Ta.jsxs)(ja.a,{mt:3,children:[Object(Ta.jsx)("div",{style:{fontSize:c()?"2em":12},children:A("lsNotification")}),Object(Ta.jsxs)(ja.a,{mt:c()?1:-1,ml:c()?37:2,style:{transform:c()?"scale(2)":"scale(1)"},children:[Object(Ta.jsx)(vr.a,{control:Object(Ta.jsx)(Or.a,{color:"secondary",style:{fontSize:c()?"2em":"1em"},checked:a.information.notifyCall,onChange:function(e){a.information.notifyCall=e.target.checked}}),label:A("lsNotifyCall")}),Object(Ta.jsx)(vr.a,{control:Object(Ta.jsx)(Or.a,{color:"secondary",checked:a.information.notifyTouch,onChange:function(e){a.information.notifyTouch=e.target.checked}}),label:A("lsNotifyTouch")}),Object(Ta.jsx)(vr.a,{control:Object(Ta.jsx)(Or.a,{color:"secondary",checked:a.information.notifyNear,onChange:function(e){a.information.notifyNear=e.target.checked}}),label:A("lsNotifyNear")}),Object(Ta.jsx)(vr.a,{control:Object(Ta.jsx)(Or.a,{color:"secondary",checked:a.information.notifyYarn,onChange:function(e){a.information.notifyYarn=e.target.checked}}),label:A("lsNotifyYarn")})]})]})})]})}}),Object(Ta.jsx)(Qr.a,{theme:Gu,children:Object(Ta.jsxs)(ja.a,{mt:4,mb:3,children:[Object(Ta.jsx)(Oa.a,{variant:"contained",color:"primary",style:{textTransform:"none",fontSize:c()?"2em":"1em"},onClick:function(){j(0,"enter")},children:A("btSave")}),Object(Ta.jsx)(Oa.a,{variant:"contained",color:"secondary",style:{marginLeft:15,textTransform:"none",fontSize:c()?"2em":"1em"},onClick:function(){a.loadInformationFromStorage()},children:A("btCancel")}),Object(Ta.jsx)(Oa.a,{variant:"contained",style:{marginLeft:15,textTransform:"none",fontSize:c()?"2em":"1em"},onClick:function(){o.focusOn(a)},children:A("ctFocus")})]})})]})]}))},Vu=Object(_a.a)({root:function(e){return{display:"flex",justifyContent:"center",alignItems:"center",width:e.size,height:e.size,clipPath:"circle(".concat(.5*(e.size||0),"px  at center)"),overflow:"hidden"}},videoLargerWidth:function(e){return{height:"100%",transform:"scale(".concat(e.mirror?-1:1,", 1)")}},videoLargerHeight:function(e){return{width:"100%",transform:"scale(".concat(e.mirror?-1:1,", 1)")}}});var Xu=function(e){var t=Vu(e),n=Object(va.useRef)(null);return Object(va.useEffect)((function(){null!==(null===n||void 0===n?void 0:n.current)&&function(e,t,n,i,o){if(t)e.srcObject=t;else if(n&&n.size){var a=URL.createObjectURL(n);e.src=a}e.autoplay=!0,e.onloadedmetadata=function(){var t=e.width,n=e.height;void 0!==t&&void 0!==n?e.className=t>=n?i:o:(console.error("video stream width || height is undefined"),e.className=i)}}(n.current,e.stream,e.blob,t.videoLargerWidth,t.videoLargerHeight)}),[n,t.videoLargerWidth,t.videoLargerHeight,e.stream,e.blob]),Object(Ta.jsx)("div",{className:t.root,style:e.style,children:Object(Ta.jsx)("video",{ref:n,style:e.style})})};Xu.defaultProps={size:100},Xu.displayName="StreamAvatar";var Zu=["name","avatarSrc","colors","stream","blob"],qu=function(e){var t=e.name,n=e.avatarSrc,i=e.colors,o=(e.stream,e.blob,Object(me.a)(e,Zu));return Object(Ta.jsx)(gc,Object(wn.a)({name:t,colors:i,avatarSrc:n},o))};qu.displayName="ComposedAvatar";var _u=function(e){var t=e.participant;return Object(Ta.jsx)(pa.a,{children:function(){var n=t.getColor(),i=t.information,o={colors:n,avatarSrc:i.avatarSrc,name:i.name};return Object(Ta.jsx)(qu,Object(wn.a)(Object(wn.a)({},o),{},{stream:!t.showVideo||t instanceof bn?void 0:t.tracks.avatarStream,blob:t.showVideo&&t instanceof bn?t.videoBlob:void 0,colors:n,size:e.size,style:{pointerEvents:"none"},mirror:e.isLocal}))}})},$u=function(e){var t;return ha.a.useMemo((function(){return Object(Ta.jsx)(_u,Object(wn.a)({},e))}),[e.size,e.participant.information.avatarSrc,e.participant.information.color,e.participant.information.name,e.participant.information.textColor,null===(t=e.participant.tracks)||void 0===t?void 0:t.avatar])};$u.displayName="MemorizedAvatar";var ed=n(331),td=n.n(ed),nd=n(332),id=n.n(nd),od=n(20),ad=n(19),rd=n(7),sd=n(330),cd=n(145),ld=n(89),ud=n(83),dd=function(e){Object(Ae.a)(n,e);var t=Object(je.a)(n);function n(){return Object(X.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"promiseLoad",value:function(e,t){var i=this;return new Promise((function(o,a){Object(od.a)(Object(ad.a)(n.prototype),"load",i).call(i,e,o,t,a)}))}}]),n}(sd.a),pd=[150,300],vd=function(e){var t=ha.a.useRef(null),n=ha.a.useRef(null);return ha.a.useEffect((function(){if(t.current){n.current={clock:new rd.j,renderer:new rd.yb({antialias:!0,alpha:!0,canvas:t.current}),camera:new rd.V(35,pd[0]/pd[1],.1,1e3),scene:new rd.fb};var i=n.current;i.renderer.setSize(pd[0],pd[1]),i.renderer.setPixelRatio(4*window.devicePixelRatio);var o=new rd.l(16777215);o.position.set(1,1,1).normalize(),i.scene.add(o);var r=new dd,s=[];s.push(Object(fe.c)((function(){var t=n.current;r.promiseLoad(e.participant.information.avatarSrc).then((function(n){var i;t.vrm&&(null===(i=t.scene)||void 0===i||i.remove(t.vrm.scene));cd.c.removeUnnecessaryJoints(n.scene),cd.a.from(n).then((function(n){var i;null===(i=t.scene)||void 0===i||i.add(n.scene),n.scene.rotation.y=Math.PI,t&&(t.vrm=n,c(e.participant.pose.orientation,e.participant.vrmRigs))}))})).catch((function(e){console.log("Failed to load VRM",e)}))})));var c=Object(Se.throttle)((function(e,t){if(null!==i&&void 0!==i&&i.vrm){var n,o,a;!function(e,t){var n;if(!e)return;if(!t)return fd(e,"RightUpperArm",new ud.a(0,0,-Math.PI/2*.8),1,1),void fd(e,"LeftUpperArm",new ud.a(0,0,Math.PI/2*.8),1,1);t.face&&function(e,t){var n,i;if(!e)return;var o={x:t.head.x-.1,y:t.head.y,z:t.head.z};fd(e,"Neck",o,.7);var a=e.blendShapeProxy,r=cd.b.BlendShapePresetName,s=hd(1-t.eye.l,0,1),c=hd(1-t.eye.r,0,1);a.setValue(r.BlinkL,s),a.setValue(r.BlinkR,c),a.setValue(r.I,bd(t.mouth.shape.I,a.getValue(r.I),.5)),a.setValue(r.A,bd(t.mouth.shape.A,a.getValue(r.A),.5)),a.setValue(r.E,bd(t.mouth.shape.E,a.getValue(r.E),.5)),a.setValue(r.O,bd(t.mouth.shape.O,a.getValue(r.O),.5)),a.setValue(r.U,bd(t.mouth.shape.U,a.getValue(r.U),.5));var l=new rd.n(bd(md.x,t.pupil.y,.4),bd(md.y,t.pupil.x,.4),0,"XYZ");md.copy(l),null===(n=e.lookAt)||void 0===n||null===(i=n.applyer)||void 0===i||i.lookAt(l)}(e,t.face);if(t.pose)fd(e,"Hips",t.pose.Hips.rotation,.7),fd(e,"Chest",t.pose.Spine,.25,.3),fd(e,"Spine",t.pose.Spine,.45,.3),fd(e,"RightUpperArm",t.pose.RightUpperArm,1,.3),fd(e,"RightLowerArm",t.pose.RightLowerArm,1,.3),fd(e,"LeftUpperArm",t.pose.LeftUpperArm,1,.3),fd(e,"LeftLowerArm",t.pose.LeftLowerArm,1,.3),fd(e,"LeftUpperLeg",t.pose.LeftUpperLeg,1,.3),fd(e,"LeftLowerLeg",t.pose.LeftLowerLeg,1,.3),fd(e,"RightUpperLeg",t.pose.RightUpperLeg,1,.3),fd(e,"RightLowerLeg",t.pose.RightLowerLeg,1,.3);else if(t.face){var i={x:t.face.head.x/3-.3,y:t.face.head.y/2,z:t.face.head.z/2};fd(e,"Chest",i,.25,.3),fd(e,"Spine",i,.45,.3),fd(e,"RightUpperArm",{x:-i.x/4-.2,y:-i.y/4,z:-i.z/4-Math.PI/2*.8},1,1),fd(e,"LeftUpperArm",{x:-i.x/4-.2,y:-i.y/4,z:-i.z/4+Math.PI/2*.8},1,1),fd(e,"RightLowerArm",new ud.a(0,1.8,-.3),1,1),fd(e,"LeftLowerArm",new ud.a(0,-1.8,.3),1,1),fd(e,"RightHand",new ud.a(-.4,.3,-.3),1,1),fd(e,"LeftHand",new ud.a(-.4,-.3,.3),1,1)}t.pose&&t.leftHand&&fd(e,"LeftHand",{z:t.pose.LeftHand.z,y:t.leftHand.LeftWrist.y,x:t.leftHand.LeftWrist.x});null!==t&&void 0!==t&&t.leftHand&&(fd(e,"LeftRingProximal",t.leftHand.LeftRingProximal),fd(e,"LeftRingIntermediate",t.leftHand.LeftRingIntermediate),fd(e,"LeftRingDistal",t.leftHand.LeftRingDistal),fd(e,"LeftIndexProximal",t.leftHand.LeftIndexProximal),fd(e,"LeftIndexIntermediate",t.leftHand.LeftIndexIntermediate),fd(e,"LeftIndexDistal",t.leftHand.LeftIndexDistal),fd(e,"LeftMiddleProximal",t.leftHand.LeftMiddleProximal),fd(e,"LeftMiddleIntermediate",t.leftHand.LeftMiddleIntermediate),fd(e,"LeftMiddleDistal",t.leftHand.LeftMiddleDistal),fd(e,"LeftThumbProximal",t.leftHand.LeftThumbProximal),fd(e,"LeftThumbIntermediate",t.leftHand.LeftThumbIntermediate),fd(e,"LeftThumbDistal",t.leftHand.LeftThumbDistal),fd(e,"LeftLittleProximal",t.leftHand.LeftLittleProximal),fd(e,"LeftLittleIntermediate",t.leftHand.LeftLittleIntermediate),fd(e,"LeftLittleDistal",t.leftHand.LeftLittleDistal));t.pose&&t.rightHand&&fd(e,"RightHand",{z:t.pose.RightHand.z,y:t.rightHand.RightWrist.y,x:t.rightHand.RightWrist.x});t.rightHand&&(fd(e,"RightRingProximal",t.rightHand.RightRingProximal),fd(e,"RightRingIntermediate",t.rightHand.RightRingIntermediate),fd(e,"RightRingDistal",t.rightHand.RightRingDistal),fd(e,"RightIndexProximal",t.rightHand.RightIndexProximal),fd(e,"RightIndexIntermediate",t.rightHand.RightIndexIntermediate),fd(e,"RightIndexDistal",t.rightHand.RightIndexDistal),fd(e,"RightMiddleProximal",t.rightHand.RightMiddleProximal),fd(e,"RightMiddleIntermediate",t.rightHand.RightMiddleIntermediate),fd(e,"RightMiddleDistal",t.rightHand.RightMiddleDistal),fd(e,"RightThumbProximal",t.rightHand.RightThumbProximal),fd(e,"RightThumbIntermediate",t.rightHand.RightThumbIntermediate),fd(e,"RightThumbDistal",t.rightHand.RightThumbDistal),fd(e,"RightLittleProximal",t.rightHand.RightLittleProximal),fd(e,"RightLittleIntermediate",t.rightHand.RightLittleIntermediate),fd(e,"RightLittleDistal",t.rightHand.RightLittleDistal));null===(n=e.blendShapeProxy)||void 0===n||n.update()}(i.vrm,t),i.vrm.update(i.clock.getDelta());var r=e/180*Math.PI;null===(n=i.camera)||void 0===n||n.position.set(3*-Math.sin(r),2,3*-Math.cos(r)),null===(o=i.camera)||void 0===o||o.lookAt(0,.93,0),null===(a=i.renderer)||void 0===a||a.render(i.scene,i.camera)}}),50);return s.push(Object(fe.c)((function(){c(e.participant.pose.orientation,e.participant.vrmRigs)}))),function(){var e,t=Object(a.a)(s);try{for(t.s();!(e=t.n()).done;){(0,e.value)()}}catch(n){t.e(n)}finally{t.f()}}}})),Object(Ta.jsx)(Ta.Fragment,{children:Object(Ta.jsx)("canvas",{style:{pointerEvents:"none",position:"relative",width:pd[0],height:pd[1],left:-pd[0]/2,top:-(pd[1]-15)},ref:t})})},hd=ld.d.clamp,bd=ld.e.lerp,fd=function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,z:0},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.3;if(e){var r=null===(n=e.humanoid)||void 0===n?void 0:n.getBoneNode(cd.b.HumanoidBoneName[t]);if(r){var s=new rd.n(i.x*o,i.y*o,i.z*o),c=(new rd.bb).setFromEuler(s);r.quaternion.slerp(c,a)}}},md=new rd.n;var gd="data:image/png;base64,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",Ad="data:image/png;base64,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",jd="data:image/png;base64,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",Od=n.p+"static/media/earshot_icon_avatar_glow.1b7acac1.png",yd=12,xd=.5,Cd=0,wd=Object(_a.a)({root:function(e){return{position:"absolute",left:e.position[0],top:e.position[1],width:0,height:0}},pointerRotate:function(e){return{transformOrigin:"top left",transform:"rotate(".concat(e.orientation,"deg)")}},pointer:function(e){return{position:"absolute",width:"".concat(yd*e.size),left:"-".concat(yd*e.size*xd,"px"),top:"-".concat(yd*e.size*xd,"px"),pointerEvents:"none"}},avatar:function(e){return{position:"absolute",left:"-".concat(e.size*xd,"px"),top:"-".concat(e.size*xd,"px"),transformOrigin:"top left",transform:"translate(".concat(e.size*xd,"px, ").concat(e.size*xd,"px) ")+"rotate(".concat(-e.orientation,"deg) translate(").concat(-e.size*xd,"px, ").concat(-e.size*xd,"px)")}},avatarGlow:function(e){return{position:"absolute",width:3*e.size,height:3*e.size,left:-1*e.size,top:-1*e.size,opacity:0,pointerEvents:"none",transform:"scale(0.5)",transition:"0.5s ease-out"}},avatarGlowEffect:function(e){return{position:"absolute",width:3*e.size,height:3*e.size,left:-1*e.size,top:-1*e.size,opacity:1,pointerEvents:"none",transform:"scale(0.9)",transition:"0.5s ease-out"}},icon:function(e){return{position:"absolute",width:.4*e.size,height:.4*e.size,left:.6*e.size,top:.6*e.size,pointerEvents:"none"}},signalIcon:function(e){return{position:"absolute",width:.25*e.size,height:.25*e.size,left:.8*e.size,top:.8*e.size,display:"none",pointerEvents:"none"}},iconProximity:function(e){return{position:"absolute",width:.6*e.size,height:.6*e.size,left:.7*e.size,top:.4*e.size,pointerEvents:"none"}},iconEmoticon:function(e){return{position:"absolute",width:.6*e.size,height:.6*e.size,left:-.2*e.size,top:-.2*e.size,pointerEvents:"none",transform:"scale(1)",transition:"0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55)"}},iconEmoticonNone:function(e){return{position:"absolute",width:.6*e.size,height:.6*e.size,left:.1*e.size,top:0*e.size,pointerEvents:"none",transform:"scale(0)",transition:"0s ease-out"}},conIcon:function(e){return{position:"absolute",width:.85*e.size,height:.85*e.size,left:.5*e.size,top:-.3*e.size,pointerEvents:"none"}},more:function(e){return{position:"absolute",width:.4*e.size,height:.4*e.size,left:.9*e.size,top:.3*-e.size}},pingLocIcon:function(e){return{position:"absolute",transform:"rotate(".concat(e.orientation,"deg)"),width:"200px",height:"200px"}}}),Sd=function(e,t){var n=e.participant,o=n.getColorRGB(),r=Object(pa.b)((function(){return{position:n.pose.position,orientation:n.pose.orientation,mousePosition:n.mouse.position,awayFromKeyboard:n.physics.awayFromKeyboard}})),s=Object(pa.b)((function(){return n.information.name})),c=Object(pa.b)((function(){return n.trackStates.micMuted?0:Math.pow(n.audioLevel,.5)})),l=Object(pa.b)((function(){return n.trackStates.micMuted})),u=Object(pa.b)((function(){return n.trackStates.speakerMuted})),d=Object(pa.b)((function(){return n.trackStates.headphone})),p=Object(pa.b)((function(){return n.physics.onStage})),v=Object(pa.b)((function(){var t;return null===(t=e.stores.participants.local.zone)||void 0===t?void 0:t.zone})),h=Object(pa.b)((function(){return n.trackStates.emoticon})),b=Object(pa.b)((function(){return n.quality})),f=Object(pa.b)((function(){var t,o=Array.from(e.stores.participants.remote.keys()).filter((function(t){return t!==e.stores.participants.localId})),r=Object(a.a)(o.entries());try{for(r.s();!(t=r.n()).done;){var s,c,l,u,d,p,v=Object(i.a)(t.value,1)[0];if(void 0===(null===(s=e.stores.participants.remote.get(o[v]))||void 0===s?void 0:s.closedZone))return;if((null===(c=e.stores.participants.remote.get(o[v]))||void 0===c?void 0:c.id)===n.id&&""!==(null===(l=e.stores.participants.remote.get(o[v]))||void 0===l||null===(u=l.closedZone)||void 0===u?void 0:u.id))return null===(d=e.stores.participants.remote.get(o[v]))||void 0===d||null===(p=d.closedZone)||void 0===p?void 0:p.id}}catch(h){r.e(h)}finally{r.f()}})),m=Object(pa.b)((function(){var t,n,i;return void 0!==(null===(t=e.stores.participants.local.zone)||void 0===t?void 0:t.id)&&""!==(null===(n=e.stores.participants.local.zone)||void 0===n?void 0:n.id)?null===(i=e.stores.participants.local.zone)||void 0===i?void 0:i.id:void 0})),g=Object(pa.b)((function(){var t,o=Array.from(e.stores.participants.remote.keys()).filter((function(t){return t!==e.stores.participants.localId})),r=0,s=e.stores.participants.local.pose,c=Object(a.a)(o.entries());try{for(c.s();!(t=c.n()).done;){var l,u,d,p=Object(i.a)(t.value,1)[0];if((null===(l=e.stores.participants.remote.get(o[p]))||void 0===l?void 0:l.id)===n.id&&void 0===(null===(u=e.stores.participants.remote.get(o[p]))||void 0===u||null===(d=u.closedZone)||void 0===d?void 0:d.id)){if(void 0!==Object(e.stores.participants.remote.get(o[p])).pose.position)r=x(S(s,Object(e.stores.participants.remote.get(o[p])).pose).position);return r}}}catch(v){c.e(v)}finally{c.f()}})),A=Object(pa.b)((function(){return n.trackStates.pingIcon})),j=Object(pa.b)((function(){return n.trackStates.pingX})),O=Object(pa.b)((function(){return n.trackStates.pingY})),y=Object(va.useState)(!1),C=Object(i.a)(y,2),w=C[0],k=C[1],I=Object(va.useState)([0,0]),T=Object(i.a)(I,2),E=T[0],M=T[1],P=Object(va.useState)(!1),R=Object(i.a)(P,2),D=R[0],B=R[1];!A||E[0]===j&&E[1]===O||k(!1);var N=j+14,z=O-55;if(A&&!1===w?(!function(){var t=r.mousePosition[0],n=e.stores.participants.local.pose.position[0],i="sound/beep.mp3",o=new AudioContext;window.fetch(i).then((function(e){return e.arrayBuffer()})).then((function(e){return o.decodeAudioData(e)})).then((function(e){var i=o.createBufferSource();i.buffer=e;var a=o.createStereoPanner();a.pan.value=t>n+10?1:t<n-10?-1:0,i.connect(a),a.connect(o.destination),i.start()}))}(),M([j,O]),k(!0)):!1===A&&w&&k(!1),void 0===m)Cd=0;else if(f===m)var F=setTimeout((function(){Cd>=2||(clearTimeout(F),!1===D?(B(!0),Cd++):B(!1))}),500);var Q=wd(Object(wn.a)(Object(wn.a)({},r),{},{size:e.size})),L=n?n.getColor():["white","black"],U=Object(i.a)(L,2),G=U[0],H=U[1],W=e.size/2+2,J=e.isLocal,K=e.size*yd*xd,V=yd*e.size*xd,X=Object(Ta.jsx)("svg",{className:Q.pointer,width:e.size*yd,height:e.size*yd,xmlns:"http://www.w3.org/2000/svg"}),Z=[.1,.2,.3,.4,.5,.6],q=Z.map((function(t){return c>t&&"close"!==v?Object(Ta.jsxs)(ha.a.Fragment,{children:[Object(Ta.jsx)("circle",{r:e.size*xd+t*K,cy:V,cx:V,stroke:G,fill:"none",opacity:.4*(1-t),strokeDasharray:"4 4 4 24"}),Object(Ta.jsx)("circle",{r:e.size*xd+t*K,cy:V,cx:V,stroke:"black",fill:"none",opacity:.4*(1-t),strokeDasharray:"4 32",strokeDashoffset:"-4"})]},t):void 0})),_=Z.map((function(e){return c>e?Object(Ta.jsx)(ha.a.Fragment,{children:Object(Ta.jsx)("img",{src:"data:image/png;base64,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",className:Q.iconProximity,alt:""})},e):void 0})),$=Object(Ta.jsxs)("svg",{className:Q.pointer,width:e.size*yd,height:e.size*yd,xmlns:"http://www.w3.org/2000/svg",children:["close"===v&&n.id!==e.stores.participants.localId&&f===m||void 0!==g&&g<360&&n.id!==e.stores.participants.localId&&void 0===m?Object(Ta.jsx)("circle",{r:W,cy:V,cx:V,stroke:"#ff4500","stroke-width":"4",fill:"#00000020"}):Object(Ta.jsx)("circle",{r:W,cy:V,cx:V,stroke:"none",fill:"#00000020"}),q,"arrow"===config.avatar?Object(Ta.jsxs)("g",{transform:"translate(".concat(V," ").concat(V,") rotate(-135) "),children:[Object(Ta.jsx)("rect",{style:{pointerEvents:"fill"},height:W,width:W,fill:G}),J?Object(Ta.jsx)("path",{d:"M 0 ".concat(W," h ").concat(W," v ").concat(-W)+"a ".concat(W," ").concat(W," 0 1 0 ").concat(-W," ").concat(W),fill:"none",stroke:H}):void 0]}):Object(Ta.jsx)("g",{style:{pointerEvents:"fill"}})]}),ee=n.information.avatarSrc&&".vrm"===n.information.avatarSrc.slice(-4);return Object(Ta.jsxs)(Ta.Fragment,{children:[Object(Ta.jsxs)("div",{className:Q.root,style:{zIndex:J?5e3:n.zIndex},children:[X,Object(Ta.jsxs)("div",{className:Q.pointerRotate,children:[$,Object(Ta.jsxs)("div",{className:Q.avatar+" dragHandle",onContextMenu:e.onContextMenu,children:[Object(Ta.jsx)(Rr.a,{title:s,children:Object(Ta.jsxs)("div",{children:["close"===v&&n.id!==e.stores.participants.localId&&f===m?Object(Ta.jsx)("img",{src:Od,className:D?Q.avatarGlow:Q.avatarGlowEffect,draggable:!1,alt:""}):(void 0!==g&&g<360&&(n.id,e.stores.participants.localId),""),Object(Ta.jsx)($u,Object(wn.a)({},e)),_,Object(Ta.jsx)("img",{src:"smile"===h?gd:"hand"===h?jd:"clap"===h?Ad:void 0,className:""===h?Q.iconEmoticonNone:Q.iconEmoticon,alt:""}),Object(Ta.jsx)(Qu,{className:Q.signalIcon,quality:e.participant.quality}),void 0!==b&&b<70?Object(Ta.jsx)("img",{src:"data:image/png;base64,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",className:Q.conIcon,alt:""}):void 0,d?Object(Ta.jsx)(td.a,{className:Q.icon,htmlColor:"rgba(0, 0, 0, 0.3)"}):void 0,u?Object(Ta.jsx)(cr.a,{className:Q.icon,color:"secondary"}):l?Object(Ta.jsx)(nr.a,{className:Q.icon,color:"secondary"}):void 0,!l&&p?Object(Ta.jsx)(Ka.Icon,{className:Q.icon,icon:Ja.a,color:"gold"}):void 0,e.isPlayback?Object(Ta.jsx)(id.a,{className:Q.icon,htmlColor:"#0C0"}):void 0]})}),Object(Ta.jsxs)("div",{children:[Object(Ta.jsx)("img",{src:!1!==A?"data:image/png;base64,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":void 0,style:!1!==A?{display:"block",width:Yo,position:"relative",textAlign:"center",top:z,left:N,whiteSpace:"pre"}:{display:"none"},alt:""}),Object(Ta.jsx)("img",{style:!1!==A?{backgroundColor:Y(o),borderRadius:"50%",position:"relative",display:"block",width:31,textAlign:"center",top:z-48,left:N+1.5,whiteSpace:"pre"}:{display:"none"},src:!1!==A?n.information.avatarSrc:void 0,alt:""})]})]})]})]}),ee?Object(Ta.jsx)("div",{className:Q.root,style:{zIndex:n.zIndex+5e3},children:Object(Ta.jsx)(vd,{participant:n})}):void 0]})};Sd.displayName="RawParticipant";var kd=function(e){return ha.a.useMemo((function(){return Object(Ta.jsx)(Sd,Object(wn.a)({},e))}),[e.size,e.participant.id,e.participant.information.avatarSrc,e.participant.information.color,e.participant.information.name,e.participant.information.textColor])};kd.displayName="MemorizedParticipant";var Id=n(184),Td=n.n(Id),Ed=Object(Fr.a)({palette:{primary:{main:"#7ececc"},secondary:{main:"#ef4623"}}}),Md=Object(_a.a)({more:function(e){return{position:"absolute",width:.5*e.size,height:.5*e.size,left:e.position[0]+.4*e.size,top:e.position[1]-.8*e.size}},hideMenuContainer:function(e){return{display:"flex",position:"absolute",width:350,height:250,overflow:"hidden",userSelect:"none",userDrag:"none",bottom:"auto",backgroundColor:"transparent",transition:"0s ease-out",cursor:"default"}},showMenuContainer:function(e){return{display:"flex",position:"absolute",width:350,height:250,overflow:"hidden",userSelect:"none",userDrag:"none",top:0,left:0,bottom:"auto",backgroundColor:"transparent",transition:"0.3s ease-out",transitionDelay:"0.1s",cursor:"default"}},dashedCircle:function(e){return{position:"relative",width:200,height:200,borderWidth:2,borderStyle:"solid",borderColor:"#9e886c",borderRadius:"50%",opacity:.4,top:25,left:65,background:"radial-gradient(#ffffff, #ffffff, #ffffff, #9e886c, #9e886c)",zIndex:-9999}},moreIcon:function(e){return{display:"block",position:"absolute",textAlign:"center",top:180,left:145,whiteSpace:"pre",cursor:"default",background:e.moreMouseEnter?"black":"#9e886c",margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"}},avatarTool:function(e){return{display:"block",position:"absolute",textAlign:"center",top:25,left:145,whiteSpace:"pre",cursor:"default",background:e.generateAvatarMouseEnter?"black":"#9e886c",margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"}},moreInfo:function(e){return Object(wn.a)({display:"block",height:Yo,position:"absolute",textAlign:"center",top:180,left:145,whiteSpace:"pre",cursor:"default",background:"#9e886c"},Pd)},mainContainer:{display:"flex",height:"100%",width:"100%"},menuContainer:{position:"relative",top:"12px",left:"15px",width:"100px",height:"100px"},galleryMain:{width:"91%",height:"100%",minWidth:"440px",minHeight:"400px",border:"2px dashed #00000030",left:"45px",position:"relative"},gallery:{display:"grid",position:"relative",marginLeft:"10px",gridTemplateColumns:"repeat(7, 0.1fr)",gap:-10,overflowY:"auto",overflowX:"hidden",height:"334px",alignContent:"flex-start"},galleryList:{display:"grid",position:"relative",marginLeft:"10px",gridTemplateColumns:"repeat(7, 0.1fr)",gap:-10,overflowY:"hidden",overflowX:"hidden",height:c()?"110px":"90px",alignContent:"flex-start"},deavticeButtons:{position:"relative",padding:"10px",fontSize:c()?"1.5em":"1em",fontWeight:"bold",borderBottom:"2px solid #7ececc",color:"#000000",cursor:"pointer"},avticeButtons:{position:"relative",padding:"10px",fontSize:c()?"1.5em":"1em",fontWeight:"bold",borderBottom:"2px solid #7ececc",color:"#ef4623",cursor:"default"}}),Pd={"&":{margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"},"&:hover":{backgroundColor:"black",margin:"5px",padding:"3px",borderRadius:"50%"},"&:active":{margin:"5px",padding:"3px",borderRadius:"50%"}},Rd=Object(V.a)((function e(){Object(X.a)(this,e),this.prebThirdPersonView=!1,this.mouseDown=!1,this.dragging=!1,this.upTime=0,this.downTime=0,this.downXpos=0,this.downYpos=0,this.upXpos=0,this.upYpos=0,this.contentX=0,this.contentY=0,this.zoomX=0,this.zoomY=0,this.moveX=0,this.moveY=0,this.clickStatus="",this.userAngle=0,this.clickEnter=!1,this.pingX=0,this.pingY=0,this.hidePinIcon=0,this.cursorX=0,this.cursorY=0})),Dd=!1;function Bd(){return Dd}var Nd=!1;var zd=!1;var Fd="",Qd="",Ld="",Ud="",Gd="",Yd="",Hd="";var Wd=!1;function Jd(){return Wd}var Kd=function(e){var t=e.stores.map,n=e.stores.participants,o=n.local,s=Object(va.useRef)(new Rd).current;o.information.avatarSrc,r(e.participant.id===o.id);var l=Object(va.useRef)({}).current,u=function(e){!function(e){var i=j(e.xy,t.toWindow(o.pose.position)),a=Math.sqrt(i[0]*i[0]+i[1]*i[1]);if(a>50&&(i=y(50/a,i)),n.local.thirdPersonView){var r=t.rotateFromWindow(i);o.pose.position=A(o.pose.position,r),l.smoothedDelta||(l.smoothedDelta=[i[0],i[1]]),l.smoothedDelta=A(y(1-.8,r),y(.8,l.smoothedDelta));var s=180*Math.atan2(l.smoothedDelta[0],-l.smoothedDelta[1])/Math.PI-o.pose.orientation;s<-180&&(s+=360),s>180&&(s-=360),o.pose.orientation+=.2*s}else o.pose.position=A(t.rotateFromWindow(i),o.pose.position);o.savePhysicsToStorage(!1)}(e)},d=function(e,t,n,i,o){var a=Object(va.useRef)(null),r=Object(va.useRef)({state:{}}).current,s=function(){r.state.dragging||r.timerAgain?n&&(r.timerAgain=n(r.state)):(clearInterval(r.timerId),r.timerId=0)};function c(e){e.preventDefault(),e.stopPropagation()}Object(va.useEffect)((function(){var e=a.current;return null===e||void 0===e||e.addEventListener("touchmove",c,{passive:!1}),function(){null===e||void 0===e||e.removeEventListener("touchmove",c)}}),[a.current]);var l={target:a,memo:r,onMouseDown:function(e){e.stopPropagation()},onTouchStart:function(e){e.stopPropagation()},onPointerDown:function(e){e.stopPropagation(),r.state={dragging:!1,buttons:e.buttons,xy:[e.clientX,e.clientY],start:[e.clientX,e.clientY],startTime:Date.now(),event:e},1&e.buttons&&a.current&&(!t||function(e,t,n){for(var i=e;i&&i!==t;){if(i.attributes){var o=i.attributes.getNamedItem("class");if(o&&o.value.includes(n))return i}i=i.parentNode}return null}(e.target,a.current,t))&&(e.target.setPointerCapture(e.pointerId),r.timerId||(r.timerId=setInterval(s,i)),r.state.dragging=!0)},onPointerOut:function(e){e.stopPropagation(),Object.assign(r.state,{dragging:!1,buttons:e.buttons,xy:[e.clientX,e.clientY],event:e})},onPointerUp:function(e){e.target.releasePointerCapture(e.pointerId),l.onPointerOut(e)},onTouchEnd:function(e){e.stopPropagation();var t=x(j(r.state.xy,r.state.start)),n=Date.now()-r.state.startTime;t<5&&n>.5&&o&&o(e)},onPointerMove:function(t){var n;t.stopPropagation(),Object.assign(r.state,{dragging:!(null===(n=r.state)||void 0===n||!n.dragging),buttons:t.buttons,xy:[t.clientX,t.clientY],event:t}),r.state.dragging&&(1&t.buttons?e(r.state):r.state.dragging=!1)}};return l}(u,"dragHandle",(function(e){return e.dragging&&u(e),function(e){var a=t.toWindow(o.pose.position),r=[a[0],a[1]],s=t.left+t.screenSize[0]*e,c=t.left+t.screenSize[0]*(1-e),u=t.screenSize[1]*(1-e),d=n.local.thirdPersonView?t.screenSize[1]*e:u;r[0]<s&&(r[0]=s),r[0]>c&&(r[0]=c),r[1]<d&&(r[1]=d),r[1]>u&&(r[1]=u);var p=j(a,r),v=Math.sqrt(p[0]*p[0]+p[1]*p[1]);v>600?p=y(600/v,p):v<100&&(p=y(100/v,p));var h=y(.1,t.rotateFromWindow(p));if(Math.abs(h[0])+Math.abs(h[1])>.2){var b=t.matrix.translate(-h[0],-h[1]),f=t.rotateFromWindow([b.e,b.f]),m=!1;f[0]<-2500&&(f[0]=-2500,m=!0),f[0]>2500&&(f[0]=2500,m=!0),f[1]<-2500&&(f[1]=-2500,m=!0),f[1]>2500&&(f[1]=2500,m=!0);var g=t.rotateToWindow(f),A=Object(i.a)(g,2);return b.e=A[0],b.f=A[1],t.setMatrix(b),t.setCommittedMatrix(b),l.scrollAgain=!m,!m}return l.scrollAgain=!1,!1}(.2)}),33,(function(){D(!0)}));Object(va.useEffect)((function(){var e;null===(e=d.target.current)||void 0===e||e.focus({preventScroll:!0})}));var p=Object(va.useState)(!1),v=Object(i.a)(p,2),h=v[0],b=v[1],f=Object(va.useState)(!1),m=Object(i.a)(f,2),g=m[0],O=m[1],C=Object(pa.b)((function(){return{position:o.pose.position,size:e.size,mem:s,moreMouseEnter:h,generateAvatarMouseEnter:g}})),w=o?o.getColor():["white","black"],S=Object(i.a)(w,1)[0],k=Md(C),I=te().t,T=ha.a.useState(!1),E=Object(i.a)(T,2)[1],M=ha.a.useState(!1),P=Object(i.a)(M,2),R=P[0],D=P[1],B=Mr(E,l),N=ha.a.useState(!1),z=Object(i.a)(N,2),F=z[0],Q=z[1],L=ha.a.useState(!1),U=Object(i.a)(L,2),G=U[0],H=U[1],W=e.participant.getColorRGB();Wd=G;var J=Object(va.useState)(0),K=Object(i.a)(J,2),V=K[0],X=K[1],Z=Object(va.useState)(-1),q=Object(i.a)(Z,2),_=q[0],$=q[1],ee=Object(va.useState)(-1),ne=Object(i.a)(ee,2),ie=ne[0],oe=ne[1],ae=Object(va.useState)(-1),re=Object(i.a)(ae,2),se=re[0],ce=re[1],le=Object(va.useState)(-1),ue=Object(i.a)(le,2),de=ue[0],pe=ue[1],ve=Object(va.useState)(-1),he=Object(i.a)(ve,2),be=he[0],fe=he[1],me=Object(va.useState)(-1),ge=Object(i.a)(me,2),Ae=ge[0],je=ge[1],Oe=Object(va.useState)(-1),ye=Object(i.a)(Oe,2),xe=ye[0],Ce=ye[1],we=Object(va.useRef)(null);function Se(){D(!0),t.keyInputUsers.add("LocalParticipantConfig")}function ke(e){Me.length>0&&o.information.randomAvatar.length>0&&function(){var e=De[0].split(","),t=e.indexOf(Le[0]),n=e.indexOf("avatar_tool/Colors/es_co_"+Le[1]+".png"),i=e.indexOf(Le[2]),o=De[1].split(","),a=De[2].split(","),r=a.indexOf(Le[4]),s=De[3].split(","),c=s.indexOf(Le[5]);Qd=e[t],se!==t&&ce(t);Ld=e[n].split("/")[2].split(".")[0].split("co_")[1],de!==n&&pe(n);Fd=e[i],be!==i&&fe(i);var l=[],u=[],d=[],p=[];l.splice(0),u.splice(0),d.splice(0),p.splice(0);for(var v=0;v<o.length-1;v++)if(-1===o.indexOf(Ld.split("_")[1]+"_"+o[v].split("_")[4])&&(Ld.split("_")[1]===o[v].split("_")[4]||"x"===o[v].split("_")[4])){var h=o[v].split("/")[2].split(".")[0].split("_")[4];"f"===h?(l.push(o[v]),u.push(v)):"b"===h&&(d.push(o[v]),p.push(v))}if(l.length>0){var b=l.indexOf(Le[3]);Ud=l[b],je(u[b]);var f=o.indexOf(String(l[b].split("_f.png")[0]+"_b.png"));-1!==f?(Gd=o[f],xe!==f?Ce(f):(Gd="",Ce(-1))):(Gd="",Ce(-1))}else Ud="",je(-1),Gd="",Ce(-1);Yd=a[r],_!==r&&$(r);Hd=s[c],ie!==c&&oe(c)}(),H(!0)}function Ie(e){var t=De[V].split(",");if(t[e],0===V){if(e<7&&(Fd=t[e],be!==e&&fe(e)),e>=7&&e<15){if(Ld=t[e].split("/")[2].split(".")[0].split("co_")[1],""!==Ud||""!==Gd)for(var n=Ud.split("/")[2].split("_")[2]+"_"+Ld.split("_")[1],i=De[1].split(","),o=0;o<i.length;o++)if(-1!==i[o].indexOf(n)){var a=i[o].split("/")[2].split(".")[0].split("_")[4];"f"===a?(Ud=i[o],Ae!==o&&je(o)):"b"===a&&(Gd=i[o],xe!==o&&Ce(o))}de!==e&&pe(e)}e>=15&&e<22&&(Qd=t[e],se!==e&&ce(e))}else if(1===V){var r=t[e].split("/")[2].split(".")[0].split("_")[4];if("f"===r){var s=t.indexOf(String(t[e].split("_f.png")[0]+"_b.png"));Ud=t[e],Ae!==e&&je(e),-1!==s?(Gd=t[s],xe!==s&&Ce(s)):(Gd="",Ce(-1))}else if("b"===r){var c=t.indexOf(String(t[e].split("_b.png")[0]+"_f.png"));Gd=t[e],xe!==e&&Ce(e),-1!==c?(Ud=t[c],Ae!==c&&je(c)):(Ud="",je(-1))}}else 2===V?(Yd=t[e],_!==e&&$(e)):3===V&&(Hd=t[e],ie!==e&&oe(e))}Nd=R;var Te=Object(va.useState)(""),Ee=Object(i.a)(Te,2),Me=Ee[0],Pe=Ee[1];Object(va.useEffect)((function(){fetch("folderlist.php?folder=avatar_tool/*/*.png").then((function(e){return e.text()})).then((function(e){return Pe(e)}))}),[]);for(var Re=[],De=[],Be="",Ne=Me.split(","),ze=0;ze<Ne.length-1;ze++)-1===Re.indexOf(Ne[ze].split("/")[1])&&void 0!==Ne[ze].split("/")[1]&&Re.push(Ne[ze].split("/")[1]);for(var Fe=0;Fe<Re.length;Fe++){for(var Qe=0;Qe<Ne.length-1;Qe++)Re[Fe]===Ne[Qe].split("/")[1]&&(Be+=Ne[Qe]+",");De.push(Be),Be=""}var Le=Object(pa.b)((function(){return e.participant.information.randomAvatar}));var Ue=[];if(De.length>0&&V>=0)for(var Ge=De[V].split(","),Ye=function(e){if(1===V){if(Ld.split("_")[1]===Ge[e].split("_")[4]||"x"===Ge[e].split("_")[4]){if("f"===Ge[e].split("/")[2].split(".")[0].split("_")[4]){var t=Ge.indexOf(String(Ge[e].split("_f.png")[0]+"_b.png"));Ue.push(Object(Ta.jsxs)("div",{onClick:function(){Ie(e)},children:[Object(Ta.jsx)("img",{src:encodeURIComponent(Ge[e]),style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",borderRadius:"50%",padding:"0px",border:Ae===e?"5px solid #ef4623":"5px dotted #00000000",position:"relative",top:"3px"},draggable:!1,alt:""}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"6px",marginLeft:"3px",zIndex:-1,display:-1!==t?"block":"none"},children:Object(Ta.jsx)("img",{src:-1!==t?String(Ge[e].split("_f.png")[0]+"_b.png"):"",style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",padding:"2px"},alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"6px",marginLeft:"3px",zIndex:-1,display:""!==Qd?"block":"none"},children:Object(Ta.jsx)("img",{src:""!==Qd?String(Qd):"",style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",padding:"2px"},alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"6px",marginLeft:"3px",zIndex:0,display:""!==Yd?"block":"none"},children:Object(Ta.jsx)("img",{src:""!==Yd?String(Yd):"",style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",padding:"2px",position:"relative",top:"-2px"},alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"6px",marginLeft:"3px",zIndex:1,display:""!==Hd?"block":"none"},children:Object(Ta.jsx)("img",{src:""!==Hd?String(Hd):"",style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",padding:"2px"},alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"6px",marginLeft:"3px",zIndex:-4,display:""!==Fd?"block":"none"},children:Object(Ta.jsx)("img",{src:""!==Fd?String(Fd):"",style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",padding:"2px"},alt:""})})]}))}!function(e,t,n){if(n>=e.length)for(var i=n-e.length+1;i--;)e.push(void 0);e.splice(n,0,e.splice(0,1)[0])}(Ue,0,Ue.length)}}else 2===V?Ue.push(Object(Ta.jsxs)("div",{onClick:function(){Ie(e)},children:[Object(Ta.jsx)("img",{src:encodeURIComponent(Ge[e]),style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",padding:"0px",border:_===e?"5px solid #ef462300":"5px dotted #00000000",borderRadius:"50%",position:"relative",top:"1px"},draggable:!1,alt:""}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"6px",marginLeft:"3px",zIndex:1,display:""!==Ud?"block":"none"},children:Object(Ta.jsx)("img",{src:""!==Ud?String(Ud):"",style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",padding:"2px"},alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"6px",marginLeft:"3px",zIndex:-1,display:""!==Gd?"block":"none"},children:Object(Ta.jsx)("img",{src:""!==Gd?String(Gd):"",style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",padding:"2px"},alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"6px",marginLeft:"3px",zIndex:-1,display:""!==Qd?"block":"none"},children:Object(Ta.jsx)("img",{src:""!==Qd?String(Qd):"",style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",padding:"0px",border:_===e?"5px solid #ef4623":"5px dotted #00000000",borderRadius:"50%",position:"relative",top:"-3px",left:"-3px"},alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"6px",marginLeft:"3px",zIndex:1,display:""!==Hd?"block":"none"},children:Object(Ta.jsx)("img",{src:""!==Hd?String(Hd):"",style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",padding:"2px"},alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"6px",marginLeft:"3px",zIndex:-2,display:""!==Fd?"block":"none"},children:Object(Ta.jsx)("img",{src:""!==Fd?String(Fd):"",style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",padding:"2px"},alt:""})})]})):3===V&&Ue.push(Object(Ta.jsxs)("div",{onClick:function(){Ie(e)},children:[Object(Ta.jsx)("img",{src:encodeURIComponent(Ge[e]),style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",padding:"0px",border:ie===e?"5px solid #ef4623":"5px dotted #00000000",borderRadius:"50%",position:"relative",top:"3px"},draggable:!1,alt:""}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"6px",marginLeft:"3px",zIndex:1,display:""!==Ud?"block":"none"},children:Object(Ta.jsx)("img",{src:""!==Ud?String(Ud):"",style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",padding:"2px"},alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"6px",marginLeft:"3px",zIndex:-1,display:""!==Gd?"block":"none"},children:Object(Ta.jsx)("img",{src:""!==Gd?String(Gd):"",style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",padding:"2px"},alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"6px",marginLeft:"3px",zIndex:-1,display:""!==Qd?"block":"none"},children:Object(Ta.jsx)("img",{src:""!==Qd?String(Qd):"",style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",padding:"2px"},alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"6px",marginLeft:"3px",zIndex:1,display:""!==Yd?"block":"none"},children:Object(Ta.jsx)("img",{src:""!==Yd?String(Yd):"",style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",padding:"2px",position:"relative",top:"-2px"},alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"6px",marginLeft:"3px",zIndex:-2,display:""!==Fd?"block":"none"},children:Object(Ta.jsx)("img",{src:""!==Fd?String(Fd):"",style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",padding:"2px"},alt:""})})]}))},He=0;He<Ge.length-1;He++)Ye(He);var We=[],Je=[],Ke=[];if(De.length>0&&V>=0)for(var Ve=De[V].split(","),Xe=function(e){-1!==Ve[e].indexOf("skin")&&We.push(Object(Ta.jsx)("div",{onClick:function(){Ie(e)},children:Object(Ta.jsx)("img",{src:encodeURIComponent(Ve[e]),style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",padding:"0px",border:se===e?"5px solid #ef4623":"5px dotted #00000000",borderRadius:"50%"},draggable:!1,alt:""})})),-1!==Ve[e].indexOf("group")&&-1===Ve[e].indexOf("_x")&&Je.push(Object(Ta.jsx)("div",{onClick:function(){Ie(e)},children:Object(Ta.jsx)("img",{src:encodeURIComponent(Ve[e]),style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",padding:"0px",border:be===e?"5px solid #ef4623":"5px dotted #00000000",borderRadius:"50%"},draggable:!1,alt:""})})),-1!==Ve[e].indexOf("hair")&&Ke.push(Object(Ta.jsx)("div",{onClick:function(){Ie(e)},children:Object(Ta.jsx)("img",{src:encodeURIComponent(Ve[e]),style:{width:"60px",minHeight:"60px",height:"60px",objectFit:"contain",padding:"0px",border:de===e?"5px solid #ef4623":"5px dotted #00000000",borderRadius:"50%"},draggable:!1,alt:""})}))},Ze=0;Ze<Ve.length-1;Ze++)Xe(Ze);var qe=Object(va.useRef)(null);function _e(e){e.stopPropagation(),e.preventDefault()}function $e(){Fd="",Qd="",Ld="",Ud="",Gd="",Yd="",Hd="",H(!1),fe(-1),pe(-1),ce(-1),X(0),Ce(-1),je(-1),$(-1),oe(-1)}function et(){null!==we.current&&Td()(we.current,{allowTaint:!0}).then((function(e){var t=new FormData;t.append("imgData",e.toDataURL()),fetch("saveAvatarImage.php",{method:"POST",body:t}).then((function(e){return e.text()})).then((function(e){return t=e,void(o.information.avatarSrc!==t&&-1!==se&&(o.information.avatarSrc=t,o.information.randomAvatar=[Qd,Ld,Fd,Ud,Yd,Hd],o.sendInformation(),o.saveInformationToStorage(!0),$e()));var t}))})).catch((function(e){console.log(e)}))}function tt(e,t){return Math.floor(Math.random()*(t-e+1)+e)}var nt=Object(cc.a)({onDragStart:function(e){var r=e.buttons,c=e.xy,l=e.event;if(null===l||void 0===l||l.preventDefault(),document.body.focus(),s.dragging=!0,s.mouseDown=!0,Dd=!0,s.downTime=(new Date).getSeconds(),s.moveX=t.mouseOnMap[0],s.moveY=t.mouseOnMap[1],1===r||0===r){s.downTime=(new Date).getSeconds(),s.downXpos=c[0],s.downYpos=c[1];var u,d=Array.from(n.remote.keys()).filter((function(e){return e!==n.localId})),p=Object(a.a)(d.entries());try{for(p.s();!(u=p.n()).done;){var v,h,b=Object(i.a)(u.value,1)[0],f=Number(null===(v=n.remote.get(d[b]))||void 0===v?void 0:v.pose.position[0]),m=Number(null===(h=n.remote.get(d[b]))||void 0===h?void 0:h.pose.position[1]),g=Number(t.mouseOnMap[0]),A=Number(t.mouseOnMap[1]);if(g>=f-30&&g<=f+30&&A>=m-30&&A<=m+30)return}}catch(O){p.e(O)}finally{p.f()}var j=setTimeout((function(){clearTimeout(j);var e=s.downXpos-s.cursorX,n=s.downYpos-s.cursorY;s.mouseDown&&0===e&&0===n&&(s.zoomX=c[0],s.zoomY=c[1],s.downXpos=c[0]+(t.toWindow(o.pose.position)[0]-c[0]),s.downYpos=c[1]+(t.toWindow(o.pose.position)[1]-c[1]),s.contentX=t.mouseOnMap[0],s.contentY=t.mouseOnMap[1],zd=!0,Q(!0))}),500)}},onDrag:function(e){e.down,e.delta;var t=e.xy;e.buttons;s.cursorX=t[0],s.cursorY=t[1]},onDragEnd:function(e){var o=e.event,r=e.xy;s.upXpos=r[0],s.upYpos=r[1],s.upTime=(new Date).getSeconds();var c=s.upTime-s.downTime;if(s.upXpos>=s.downXpos-20&&s.upXpos<=s.downXpos+20&&s.upYpos>=s.downYpos-20&&s.upYpos<=s.downYpos+20&&"DIV"===String(Object(null===o||void 0===o?void 0:o.target).tagName)&&c<1){var l,u=Array.from(n.remote.keys()).filter((function(e){return e!==n.localId})),d=Object(a.a)(u.entries());try{for(d.s();!(l=d.n()).done;){var p,v,h=Object(i.a)(l.value,1)[0],b=Number(null===(p=n.remote.get(u[h]))||void 0===p?void 0:p.pose.position[0]),f=Number(null===(v=n.remote.get(u[h]))||void 0===v?void 0:v.pose.position[1]),m=Number(t.mouseOnMap[0]),g=Number(t.mouseOnMap[1]);if(m>=b-30&&m<=b+30&&g>=f-30&&g<=f+30)return}}catch(j){d.e(j)}finally{d.f()}}s.dragging=!1,s.mouseDown=!1,Dd=!1,Q(!1);var A=setTimeout((function(){clearInterval(A),zd=!1}),250)},onMove:function(e){var i=e.xy;s.zoomX=i[0],s.zoomY=i[1],t.setMouse(i),F||(n.local.mouse.position=Object.assign({},t.mouseOnMap))},onTouchStart:function(e){s.zoomX=e.touches[0].clientX,s.zoomY=e.touches[0].clientY,Dd=!0,t.setMouse([e.touches[0].clientX,e.touches[0].clientY]),n.local.mouse.position=Object.assign({},t.mouseOnMap)},onTouchEnd:function(e){var t=e.changedTouches[0],n=document.elementFromPoint(t.clientX,t.clientY);console.log(null===n||void 0===n?void 0:n.nodeName," ----- ",null===n||void 0===n?void 0:n.id),"IMG"===(null===n||void 0===n?void 0:n.nodeName)&&"contextMore"===(null===n||void 0===n?void 0:n.id)?Se():"IMG"===(null===n||void 0===n?void 0:n.nodeName)&&"avatarGen"===(null===n||void 0===n?void 0:n.id)&&ke(),Dd=!1}},{eventOptions:{passive:!1}});function it(e){var t=Object(e.target).id;"moreDiv"===t||"contextMore"===t?b(!0):"genDiv"!==t&&"avatarGen"!==t||O(!0)}function ot(e){var t=Object(e.target).id;"moreDiv"===t||"contextMore"===t?b(!1):"genDiv"!==t&&"avatarGen"!==t||O(!1)}return Object(Ta.jsxs)("div",Object(wn.a)(Object(wn.a)(Object(wn.a)({ref:d.target},B),nt()),{},{children:[Object(Ta.jsx)(kd,Object(wn.a)(Object(wn.a)({},e),{},{isLocal:!0})),Object(Ta.jsx)(Pr,Object(wn.a)(Object(wn.a)({show:!1,className:k.more,htmlColor:S},B),{},{buttonRef:qe,onClickMore:Se})),Object(Ta.jsx)(Ku,{stores:e.stores,open:R,close:function(){D(!1),t.keyInputUsers.delete("LocalParticipantConfig")},anchorEl:qe.current,anchorOrigin:{vertical:"top",horizontal:"left"},anchorReference:"anchorEl"}),Object(Ta.jsx)(ka.a,{open:F,onClose:function(){return Q(!1)},onExited:function(){return Q(!1)},keepMounted:!0,PaperProps:{style:{backgroundColor:"transparent",position:"absolute",boxShadow:"none",overflow:"hidden",width:350,height:250,left:Number(s.downXpos)-200,top:Number(s.downYpos)-160,zIndex:F?999:-999,transform:c()?"scale(2.5)":"scale(1)"}},BackdropProps:{invisible:!0},children:Object(Ta.jsx)(ya.a,{style:F?{transform:"scale(1.1)",transition:"0s ease-out"}:{transform:"scale(0)",transition:"0s ease-out"},children:Object(Ta.jsx)(Er.a,{in:F,style:{transition:F?"500ms":"0ms"},children:Object(Ta.jsxs)("div",{className:F?k.showMenuContainer:k.hideMenuContainer,children:[Object(Ta.jsx)("div",{id:"moreDiv",className:k.moreIcon,onMouseUp:Se,onTouchStart:_e,children:Object(Ta.jsx)("img",{id:"contextMore",src:Lr,onMouseEnter:it,onMouseOut:ot,height:Yo,width:Yo,style:{transform:"scale(1.2)"},alt:""})}),Object(Ta.jsx)(Rr.a,{placement:"top",title:F?I("ctGenerateAvatar"):"",children:Object(Ta.jsx)("div",{id:"genDiv",className:k.avatarTool,onMouseUp:ke,onTouchStart:_e,children:Object(Ta.jsx)("img",{id:"avatarGen",src:"data:image/png;base64,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",onMouseEnter:it,onMouseOut:ot,height:Yo,width:Yo,style:{transform:"scale(1)"},alt:""})})}),Object(Ta.jsx)("div",{className:k.dashedCircle})]})})})}),Object(Ta.jsxs)(ka.a,{open:G,onClose:function(){return $e()},onExited:function(){return $e()},maxWidth:"sm",fullWidth:!0,fullScreen:!1,keepMounted:!0,PaperProps:{style:{minWidth:760,transform:c()?"scale(1.2)":"scale(1)"}},children:[Object(Ta.jsx)(Ia.a,{id:"simple-dialog-title",disableTypography:!0,style:{fontSize:c()?"2.5em":"1.2em",fontWeight:"bold"},children:"Customize My Avatar"}),Object(Ta.jsx)(ya.a,{children:Object(Ta.jsxs)("div",{className:k.mainContainer,children:[Object(Ta.jsxs)("div",{className:k.menuContainer,children:[Re.map((function(e,t){return Object(Ta.jsx)("div",{className:V===t?k.avticeButtons:k.deavticeButtons,onClick:function(){"",X(t)},children:e})})),Object(Ta.jsxs)("div",{style:{position:"relative",width:"130px",height:"130px",maxWidth:"130px",marginLeft:"-10px",marginTop:"50px"},children:[""!==Fd||""!==Qd?Object(Ta.jsxs)("div",{ref:we,style:{position:"relative",width:"130px",height:"130px",maxWidth:"130px"},children:[Object(Ta.jsx)("div",{style:{position:"absolute",top:"0px",left:"0px"},children:Object(Ta.jsx)("img",{style:{display:""!==Fd?"block":"none"},src:Fd,width:"130px",height:"130px",draggable:!1,alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"0px",left:"0px"},children:Object(Ta.jsx)("img",{style:{display:""!==Gd?"block":"none"},src:Gd,width:"130px",height:"130px",draggable:!1,alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"0px",left:"0px"},children:Object(Ta.jsx)("img",{style:{display:""!==Qd?"block":"none"},src:Qd,width:"130px",height:"130px",draggable:!1,alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"0px",left:"0px"},children:Object(Ta.jsx)("img",{style:{display:""!==Ud?"block":"none"},src:Ud,width:"130px",height:"130px",draggable:!1,alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"-3px",left:"0px"},children:Object(Ta.jsx)("img",{style:{display:""!==Yd?"block":"none"},src:Yd,width:"130px",height:"130px",draggable:!1,alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"0px",left:"0px"},children:Object(Ta.jsx)("img",{style:{display:""!==Hd?"block":"none"},src:Hd,width:"130px",height:"130px",draggable:!1,alt:""})})]}):Object(Ta.jsx)("div",{children:Object(Ta.jsx)("div",{style:{position:"absolute",top:"0px",left:"0px"},children:Object(Ta.jsx)("img",{style:{backgroundColor:Y(W),borderRadius:"50%"},src:e.participant.information.avatarSrc,width:"130px",height:"130px",draggable:!1,alt:""})})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"145px",left:"0px",fontSize:c()?"2em":"1em",fontWeight:"bold",color:"#2279BD",width:"100%",textAlign:"center"},children:e.participant.information.name})]})]}),Object(Ta.jsxs)(As.a,{children:[0===V?Object(Ta.jsx)(Xr.a,{style:{minWidth:"470px",minHeight:"250px"},children:Object(Ta.jsxs)("div",{className:k.galleryMain,children:[Object(Ta.jsx)("div",{style:{position:"relative",marginTop:"5px",marginLeft:"5px",fontSize:c()?"1.5em":"0.9em",fontWeight:"bold",color:"#2279BD"},children:"SKIN"}),Object(Ta.jsx)("div",{className:k.galleryList,children:We}),Object(Ta.jsx)("div",{style:{position:"relative",marginTop:"5px",marginLeft:"5px",fontSize:c()?"1.5em":"0.9em",fontWeight:"bold",color:"#2279BD"},children:"HAIR"}),Object(Ta.jsx)("div",{className:k.galleryList,children:Ke}),Object(Ta.jsx)("div",{style:{position:"relative",marginTop:"5px",marginLeft:"5px",fontSize:c()?"1.5em":"0.9em",fontWeight:"bold",color:"#2279BD"},children:"GROUP"}),Object(Ta.jsx)("div",{className:k.galleryList,children:Je})]})}):Object(Ta.jsx)(Xr.a,{style:{minWidth:"470px",minHeight:"250px"},children:Object(Ta.jsx)("div",{className:k.galleryMain,children:Object(Ta.jsx)("div",{className:k.gallery,children:Ue})})}),Object(Ta.jsx)(Xr.a,{style:{width:"100%"},children:Object(Ta.jsxs)(Qr.a,{theme:Ed,children:[Object(Ta.jsx)(Oa.a,{variant:"contained",style:{fontSize:c()?"1.5em":"1em",backgroundColor:"orange",position:"relative",marginLeft:c()?"-130px":"75px"},onClick:function(){$e()},children:"Revert"}),Object(Ta.jsx)(Oa.a,{variant:"contained",color:"primary",style:{fontSize:c()?"1.5em":"1em",position:"relative",marginLeft:"13px"},onClick:function(){!function(){var e=tt(15,20),t=tt(8,14),n=De[0].split(",");t>=7&&t<15&&(Ld=n[t].split("/")[2].split(".")[0].split("co_")[1],de!==t&&pe(t)),e>=15&&e<20&&(Qd=n[e],se!==e&&ce(e));var i=De[1].split(","),o=[],a=[],r=[],s=[];o.splice(0),a.splice(0),r.splice(0),s.splice(0);for(var c=0;c<i.length-1;c++)if(-1===i.indexOf(Ld.split("_")[1]+"_"+i[c].split("_")[4])&&Ld.split("_")[1]===i[c].split("_")[4]){var l=i[c].split("/")[2].split(".")[0].split("_")[4];"f"===l?(o.push(i[c]),a.push(c)):"b"===l&&(r.push(i[c]),s.push(c))}if(o.length>0){var u=tt(0,o.length-1);Ud=o[u],je(a[u]);var d=i.indexOf(String(o[u].split("_f.png")[0]+"_b.png"));-1!==d?(Gd=i[d],xe!==d?Ce(d):(Gd="",Ce(-1))):(Gd="",Ce(-1))}else Ud="",je(-1),Gd="",Ce(-1);var p=De[2].split(","),v=tt(0,p.length-2);Yd=p[v],$(v);var h=De[3].split(","),b=tt(0,h.length-2);Hd=h[b],oe(b)}()},children:"Generate Random"}),Object(Ta.jsx)(Oa.a,{variant:"contained",style:{fontSize:c()?"1.5em":"1em",backgroundColor:"orange",position:"relative",marginLeft:"13px"},onClick:function(){et()},children:"Apply Changes"})]})})]})]})})]})]}))},Vd=function(e){return ha.a.useMemo((function(){return Object(Ta.jsx)(Kd,Object(wn.a)({},e))}),[e.size,e.participant.information.avatarSrc,e.participant.information.color,e.participant.information.name,e.participant.information.textColor])};Vd.displayName="MemorizedLocalParticipant";var Xd=function(e){var t,n,o=e.stores.roomInfo,a=ha.a.useState(""),r=Object(i.a)(a,2),s=r[0],c=r[1],l=ha.a.useState(""),u=Object(i.a)(l,2),d=u[0],p=u[1];function v(t,n){e.close()}var h=Object.assign({},e);delete h.close;var b=e.participant?e.participant.id:"";return Object(Ta.jsxs)(qa.a,Object(wn.a)(Object(wn.a)({},h),{},{onClose:v,children:[Object(Ta.jsxs)(Ia.a,{children:[null===(t=e.participant)||void 0===t?void 0:t.information.name,Object(Ta.jsx)("span",{style:{float:"right"},children:Object(Ta.jsx)(Lu,{open:e.open,stat:mo(Uo.remotePeers.get(b))})})]}),Object(Ta.jsxs)(ya.a,{children:[Object(Ta.jsx)(ja.a,{mb:2,children:Object(Ta.jsx)(Oa.a,{variant:"contained",style:{textTransform:"none"},onClick:function(){var t;v(),null===(t=e.participant)||void 0===t||t.call()},children:ee("rsCall")})}),Object(Ta.jsx)(ja.a,{mb:2,children:Object(Ta.jsx)(Oa.a,{variant:"contained",style:{textTransform:"none"},onClick:function(){e.participant&&(On.yarnPhones.has(e.participant.id)?On.yarnPhones.delete(e.participant.id):On.yarnPhones.add(e.participant.id),v())},children:e.participant&&On.yarnPhones.has(e.participant.id)?ee("rsCutYarnPhone"):ee("rsConnectYarnPhone")})}),Object(Ta.jsx)(ja.a,{mb:2,children:Object(Ta.jsx)(Oa.a,{variant:"contained",style:{textTransform:"none"},onClick:function(){e.participant&&(Cn.sendTo=e.participant.id,v())},children:ee("rsChatTo",{name:null===(n=e.participant)||void 0===n?void 0:n.information.name})})}),Object(Ta.jsx)(ja.a,{mb:2,children:Object(Ta.jsx)(Oa.a,{variant:"contained",style:{textTransform:"none"},onClick:function(){e.participant&&e.stores.map.focusOn(e.participant)},children:ee("ctFocus")})}),o.passMatched&&Object(Ta.jsxs)(Ta.Fragment,{children:[Object(Ta.jsxs)(ja.a,{mb:2,children:["To kick this user type 'kick' and enter. \u2009",Object(Ta.jsx)(dr.a,{label:"kick",type:"text",style:{marginTop:-22},value:s,onChange:function(e){c(e.currentTarget.value)},onKeyPress:function(t){if("Enter"===t.key&&"kick"===s){if(!e.participant)return;setTimeout((function(){Uo.dataConnection.sendMessage(Rn.KICK,"Kicked by administrator.",e.participant.id)}),5e3),e.close()}}})]}),Object(Ta.jsxs)(ja.a,{mb:2,children:["Clear this user's contents.\u2009",Object(Ta.jsx)(dr.a,{label:"clear",type:"text",style:{marginTop:-22},value:d,onChange:function(e){p(e.currentTarget.value)},onKeyPress:function(t){if("Enter"===t.key&&"clear"===d){if(!e.participant)return;var n=[];ea.all.forEach((function(t){var i;t.ownerName===(null===(i=e.participant)||void 0===i?void 0:i.information.name)&&n.push(t.id)})),n.forEach((function(e){return ea.removeByLocal(e)})),e.close()}}})]})]})]})]}))},Zd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAAC4jAAAuIwF4pT92AAAEhElEQVR4nO2c0XHaQBBAH5n8h1RguQLTQUgFdgfBHZAOcAVxKjDuAFcQXEGgA9yBqED5WGmEsZCEjNhdZ9+MxkaWuRs97Wp1dzDIsozAJ5+0OxB0J+Q5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ5JuQ55rN2B3okAUb5VjAGVkCav97k2/JsvTohgw/2ydibne3Lkf+7BubAAhFqno8gbwhM8+1YYYd4BmYYj0jv8qbIST6VtH1MS/Qqb4ikt29nau83cqGYwqO8ERIJfUXbIdZIwZM2HHc2vD0q3KAjDuAqb3uo0HYlniJvBPzV7gSGItBL5CXYKRqukPutOl7kLdBJlYf4hlShqlhNm8V9JUWqvF+KfanjEsUHeouRN0aGsMaIxJliX5qYaTZuLfImwEP++1ekunw4eLQN1KLPUuTNKUU9UqZM69xoNWxF3hT4sfN6gaTMK53uHMV/LW/M24JkyeupnGO4Q1LuALgFtjXHroHv+bGX+etjOdcQ3VuyLNPchlmWpdlr0vxv0+x45hVtTGqOTyr6s+nQrsr50468qmmcVf6zyzDUvOU+kBmDzd6+FCMP4G3QlFfMw52SpOW+uv1mxi6b0JTXZba7iSlvT/7swLEXyKPJLiNeF06m0VzD0lSlbTq8ZzHyf0/5qFFXUDwgwhZ5fyYd2lRD8yG9ruEBdmYRmnjhcAruFe2C5RAJUrjUlflWWGo1bFVekVI9VH5qfbSaNtdI2hwDf87Sm26opUywG3lXlGtVnnW7UstMs3GrkQfwhKRPq4WLatSBbuS9NPz9mnJu76733hzPRLsDmvLa3OjnlBOyltLnTwysqdGUN29xzMXOcTd0G/U/NY/IIIA6mvJWtIuma0RgiqRRTYG/MZAuC7SrzVnL435QChwhJ/Hc/MTYzL6FNSwLJLra8IRc+SmSRu+R1No3WwzONmhHHoiMtqnwmnJl2QKJwjv6H0YzOdJjQV4RRW0FXCCjLnPKSjRB0lrT40dXkp7e911YSJsFCXKFH7vo6BERuMlfF8Nq4/z3U6XVrxj4fMIuluSBRNI93SZEi48lLymXUuy+7/6CpiES8W3buqXd483ZsCYP5KSueH/EFGtUNnv7N7yWMEIumKZVYM9INJvBojyQk9vHcoQ1UiDtRyb5/hn1F83g5D16BxYKlr7ZIvfF70iUVYkDuWASJD1WVb+WhucAu5G3pN1i1heq17qsKL9f5ZCsJhLKwidFojIKlhbUdWqLnEg335fSFxa/AaluVdkjMkRlKgK0sChvUrHvGZHWNQV+SCzKK8YQt0hqvCekVWLxnlc8UC+V+2Eei/KClvwPz3kflpDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmJDnmH/0ilgyg53pQQAAAABJRU5ErkJggg==",qd=Object(_a.a)({more:function(e){return{position:"absolute",width:.5*e.size,height:.5*e.size,left:e.position[0]+.4*e.size,top:e.position[1]-.8*e.size,opacity:"0"}},hideMenuContainer:function(e){return{display:"flex",position:"absolute",width:350,height:250,overflow:"hidden",userSelect:"none",userDrag:"none",bottom:"auto",backgroundColor:"transparent",transition:"0s ease-out",cursor:"default"}},showMenuContainer:function(e){return{display:"flex",position:"absolute",width:350,height:250,overflow:"hidden",userSelect:"none",userDrag:"none",top:0,left:0,bottom:"auto",backgroundColor:"transparent",transition:"0.3s ease-out",transitionDelay:"0.1s",cursor:"default"}},dashedCircle:function(e){return{position:"relative",width:200,height:200,borderWidth:2,borderStyle:"solid",borderColor:"#9e886c",borderRadius:"50%",opacity:.4,top:25,left:65,background:"radial-gradient(#ffffff, #ffffff, #ffffff, #9e886c, #9e886c)",zIndex:-9999}},callIcon:function(e){return{display:"block",position:"absolute",textAlign:"center",top:90,left:64,whiteSpace:"pre",cursor:"default",background:e.callMouseEnter?"black":"#9e886c",opacity:.2,margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"}},yarnPhoneIcon:function(e){return{display:"block",position:"absolute",textAlign:"center",top:44,left:90,whiteSpace:"pre",cursor:"default",background:e.yarnMouseEnter?(On.yarnPhones.size,"black"):On.yarnPhones.size>0?"#ef4623":"#9e886c",margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"}},chatIcon:function(e){return{display:"block",position:"absolute",textAlign:"center",top:23,left:140,whiteSpace:"pre",cursor:"default",background:e.chatMouseEnter?"black":"#9e886c",margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"}},focusIcon:function(e){return{display:"block",position:"absolute",textAlign:"center",top:40,left:190,whiteSpace:"pre",cursor:"default",background:e.focusMouseEnter?"black":"#9e886c",margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"}},kickIcon:function(e){return{display:"block",position:"absolute",textAlign:"center",top:85,left:217,whiteSpace:"pre",cursor:"default",background:e.kickMouseEnter?"black":"#9e886c",margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"}}}),_d=Object(V.a)((function e(){Object(X.a)(this,e),this.prebThirdPersonView=!1,this.mouseDown=!1,this.dragging=!1,this.upTime=0,this.downTime=0,this.downXpos=0,this.downYpos=0,this.upXpos=0,this.upYpos=0,this.contentX=0,this.contentY=0,this.zoomX=0,this.zoomY=0,this.moveX=0,this.moveY=0,this.clickStatus="",this.userAngle=0,this.clickEnter=!1,this.pingX=0,this.pingY=0,this.hidePinIcon=0,this.cursorX=0,this.cursorY=0}));var $d=!1;function ep(){return $d}var tp=!1;var np=function(e){var t=ha.a.useRef({}).current,n=ha.a.useState(!1),o=Object(i.a)(n,2),a=o[0],r=Mr(o[1],t),s=ha.a.useState(!1),l=Object(i.a)(s,2),u=l[0],d=l[1],p=e.participant.getColor(),v=Object(i.a)(p,1)[0],h=Object(va.useRef)(new _d).current,b=ha.a.useState(!1),f=Object(i.a)(b,2),m=f[0],g=f[1],A=e.stores.map,j=ha.a.useState(!1),O=Object(i.a)(j,2),y=O[0],x=O[1],C=ha.a.useState(!1),w=Object(i.a)(C,2),S=w[0],k=w[1],I=ha.a.useState(!1),T=Object(i.a)(I,2),E=T[0],M=T[1],P=ha.a.useState(!1),R=Object(i.a)(P,2),D=R[0],B=R[1],N=ha.a.useState(!1),z=Object(i.a)(N,2),F=z[0],Q=z[1],L=Object(pa.b)((function(){return{position:e.participant.pose.position,size:e.size,callMouseEnter:y,yarnMouseEnter:S,chatMouseEnter:D,focusMouseEnter:E,kickMouseEnter:F}})),U=qd(L),G=te().t;var Y=ha.a.useRef(null);function H(e){e.stopPropagation(),e.preventDefault()}var W=Object(cc.a)({onDragStart:function(t){var n=t.buttons,i=t.xy,o=t.event;null===o||void 0===o||o.preventDefault(),document.body.focus(),h.dragging=!0,h.mouseDown=!0,$d=!0,h.downTime=(new Date).getSeconds(),h.moveX=A.mouseOnMap[0],h.moveY=A.mouseOnMap[1];var a=mp(),r=xp(),s=Xs();if(!Ap()&&!s&&!r&&(1===n||0===n)){h.downTime=(new Date).getSeconds(),h.downXpos=i[0],h.downYpos=i[1];var c=setTimeout((function(){if(clearTimeout(c),!a){var t=h.downXpos-h.cursorX,n=h.downYpos-h.cursorY;h.mouseDown&&0===t&&0===n&&(h.zoomX=i[0],h.zoomY=i[1],h.downXpos=i[0]+(A.toWindow(e.participant.pose.position)[0]-i[0]),h.downYpos=i[1]+(A.toWindow(e.participant.pose.position)[1]-i[1]),h.contentX=A.mouseOnMap[0],h.contentY=A.mouseOnMap[1],tp=!0,g(!0))}}),500)}},onDrag:function(e){e.down,e.delta;var t=e.xy;e.buttons;h.cursorX=t[0],h.cursorY=t[1]},onDragEnd:function(e){e.event;var t=e.xy;h.upXpos=t[0],h.upYpos=t[1],h.upTime=(new Date).getSeconds();h.upTime,h.downTime;var n=Xs();if(!Ap()&&!n){h.dragging=!1,h.mouseDown=!1,$d=!1,g(!1);var i=setTimeout((function(){clearInterval(i),tp=!1}),250)}},onMove:function(e){var t=e.xy;h.zoomX=t[0],h.zoomY=t[1],A.setMouse(t),m||(On.local.mouse.position=Object.assign({},A.mouseOnMap))},onTouchStart:function(e){h.zoomX=e.touches[0].clientX,h.zoomY=e.touches[0].clientY,$d=!0,A.setMouse([e.touches[0].clientX,e.touches[0].clientY]),On.local.mouse.position=Object.assign({},A.mouseOnMap)},onTouchEnd:function(e){var t=e.changedTouches[0],n=document.elementFromPoint(t.clientX,t.clientY);"IMG"===(null===n||void 0===n?void 0:n.nodeName)&&"rsCall"===(null===n||void 0===n?void 0:n.id)||("IMG"===(null===n||void 0===n?void 0:n.nodeName)&&"yarnPhone"===(null===n||void 0===n?void 0:n.id)?J(e):"IMG"===(null===n||void 0===n?void 0:n.nodeName)&&"yarnChat"===(null===n||void 0===n?void 0:n.id)?X(e):"IMG"===(null===n||void 0===n?void 0:n.nodeName)&&"focusCenter"===(null===n||void 0===n?void 0:n.id)?K(e):"IMG"===(null===n||void 0===n?void 0:n.nodeName)&&"kickUser"===(null===n||void 0===n?void 0:n.id)&&V(e)),$d=!1}},{eventOptions:{passive:!1}});function J(t){e.participant&&(On.yarnPhones.has(e.participant.id)?On.yarnPhones.delete(e.participant.id):On.yarnPhones.add(e.participant.id))}function K(t){e.participant&&e.stores.map.focusOn(e.participant)}function V(t){e.participant&&setTimeout((function(){Uo.dataConnection.sendMessage(Rn.KICK,"Kicked by Host.",e.participant.id)}),5e3)}function X(t){e.participant&&(Cn.sendTo=e.participant.id)}function Z(e){var t=Object(e.target).id;"callDiv"===t||"rsCAll"===t?x(!0):"yarnDiv"===t||"yarnPhone"===t?k(!0):"chatDiv"===t||"yarnChat"===t?B(!0):"focusDiv"===t||"focusCenter"===t?M(!0):"kickDiv"!==t&&"kickUser"!==t||Q(!0)}function q(e){var t=Object(e.target).id;"callDiv"===t||"rsCAll"===t?x(!1):"yarnDiv"===t||"yarnPhone"===t?k(!1):"chatDiv"===t||"yarnChat"===t?B(!1):"focusDiv"===t||"focusCenter"===t?M(!1):"kickDiv"!==t&&"kickUser"!==t||Q(!1)}return Object(Ta.jsxs)("div",Object(wn.a)(Object(wn.a)(Object(wn.a)({},r),W()),{},{children:[Object(Ta.jsx)(kd,Object(wn.a)(Object(wn.a)({},e),{},{isLocal:!1})),Object(Ta.jsx)(Pr,Object(wn.a)(Object(wn.a)({show:a,className:U.more,htmlColor:v},r),{},{buttonRef:Y,onClickMore:function(t){t.stopPropagation(),e.stores.map.keyInputUsers.add("remoteForm"),d(!0)}})),Object(Ta.jsx)(Xd,{open:u,close:function(){e.stores.map.keyInputUsers.delete("remoteForm"),d(!1)},stores:e.stores,participant:e.participant,anchorEl:Y.current,anchorOrigin:{vertical:"top",horizontal:"left"},anchorReference:"anchorEl"}),Object(Ta.jsx)(ka.a,{open:m,onClose:function(){return g(!1)},onExited:function(){return g(!1)},keepMounted:!0,PaperProps:{style:{backgroundColor:"transparent",position:"absolute",boxShadow:"none",overflow:"hidden",width:350,height:250,left:Number(h.downXpos)-200,top:Number(h.downYpos)-160,zIndex:m?999:-999,transform:c()?"scale(2.5)":"scale(1)"}},BackdropProps:{invisible:!0},children:Object(Ta.jsx)(ya.a,{style:m?{transform:"scale(1.1)",transition:"0s ease-out"}:{transform:"scale(0)",transition:"0s ease-out"},children:Object(Ta.jsx)(Er.a,{in:m,style:{transition:m?"500ms":"0ms"},children:Object(Ta.jsxs)("div",{className:m?U.showMenuContainer:U.hideMenuContainer,children:[Object(Ta.jsx)(Rr.a,{placement:"left",title:m?G("rsCall"):"",children:Object(Ta.jsx)("div",{id:"callDiv",className:U.callIcon,onTouchStart:H,children:Object(Ta.jsx)("img",{id:"rsCall",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAAC4jAAAuIwF4pT92AAAEBUlEQVR4nO2cvWsUQRiHn4iFsVIQVBDEDxArFSwUAhGsBS3kxEYxFtpFrPwLYqH/wVnYiFZqp12CESwEUwg2fgUEbSSpEsXgWswcWTeby9fu7fwuvweW292bfefNPZndnWVmB7Isw2iypekEzPqxPGEsTxjLE8byhLE8YSxPGMsTxvKEsTxhLE8YyxPG8oSxPGEsTxjLE8byhLE8YSxPGMsTxvKEsTxhLE8YyxPG8oSxPGG2Np1ADQwBJ4HzuX3PgLfAZCMZ1cRAH81VaAOXgcEuZeaBR8D1nmRUM/1w2hwF/gAjdBdH/H4klh+tOa/aUW95bYKM9fIA4Vao3PI2Ko54fLuCXBpBteW1gMcVxrsEPKkwXk9QlTfHyte3tTAPbK8wXk9QPG22qVYcMZ7c6VOx5X0H9tQQ9wewt4a4taEor86EB2qMXTlqp826+2ZSfT81eSaH5QljecJYnjCWJ4yavN1NJ5ASavJON51ASqjJMzksTxjLE8byhLE8YdTkPWs6gZRIWd5+wnCHJmnFPJIkVXljwFfCOJU5mvkB52L9X2I+yZGqvBu59UHgQo/rH2NxqMVAIZ9kSFVekeEe1yfxJEdF3s6mE0iRVOX9LGzvi59va673afw8UthfzCcJUpX3rbDduWGZBBZqqnMemI7ru1bIJwlSlVfsz20lTN0CeF1TnS/jZ4ulU9+S7F+mPPTvL/8PxZsCThBa4ReqHaaXAQcILe8jcKjwXZL/5EkmFflc2D5GaH3TwPOK63oe4w4BB1fIIxlSbnlDwKvCvvyo5qpGTn8CDneJmewklJRb3iThh82zh8U5BaeA2Q3WMQucjettloqbJVFxkLY8gKsl+0YII5unCf2/qXXGnorHTxNuUq6VlDm3zti9Icuy1JfxbCl/sywby5UZzbJspqRcGTOxfOfYsRivyIsE/vauS8rXvDwzwI6S/RPAmdz2EHCbcErdltv/C3gD3Of/N0KMU/7oTWLGkIq8/cAHyuflLQD3gDtriNcGrlD+KpN54CiLHfZkUZEH3QVCkPgeeEG4nuVvNFrAceAioSuwXB9RRhxoyevwjiCiavJdBglSv9ss4wRwi+qecS4AdxETB5otL89q3nq0HAvAQ4Tfw6Iur0MLuEl4hFZ2V9phljC84i4Jd75XS7/IK1J81UexS9EXKF7zVsPvphPoBf0qb1NgecJYnjCWJ4zlCWN5wqjLGycMECouxY768DLlxnuUZy2od9KrSF7qZXF51FvepkZd3kTDxzeK+mlzU6Pe8jY1lieM5QljecJYnjCWJ4zlCWN5wlieMJYnjOUJY3nCWJ4wlieM5QljecJYnjCWJ4zlCWN5wlieMJYnjOUJY3nCWJ4wlifMP99fG1KrceiIAAAAAElFTkSuQmCC",onMouseEnter:Z,onMouseOut:q,height:Yo,width:Yo,style:{transform:"scale(1.2)"},alt:""})})}),Object(Ta.jsx)(Rr.a,{placement:"left",title:m?G("rsConnectYarnPhone"):"",children:Object(Ta.jsx)("div",{id:"yarnDiv",className:U.yarnPhoneIcon,onMouseUp:J,onTouchStart:H,children:Object(Ta.jsx)("img",{id:"yarnPhone",src:"data:image/png;base64,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",onMouseEnter:Z,onMouseOut:q,height:Yo,width:Yo,style:{transform:"scale(1.2)"},alt:""})})}),Object(Ta.jsx)(Rr.a,{placement:"top",title:m?G("rsChatTo"):"",children:Object(Ta.jsx)("div",{id:"chatDiv",className:U.chatIcon,onMouseUp:X,onTouchStart:H,children:Object(Ta.jsx)("img",{id:"yarnChat",src:Zd,onMouseEnter:Z,onMouseOut:q,height:Yo,width:Yo,style:{transform:"scale(1.2)"},alt:""})})}),Object(Ta.jsx)(Rr.a,{placement:"right",title:m?G("ctFocus"):"",children:Object(Ta.jsx)("div",{id:"focusDiv",className:U.focusIcon,onMouseUp:K,onTouchStart:H,children:Object(Ta.jsx)("img",{id:"focusCenter",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAAC4jAAAuIwF4pT92AAACrElEQVR4nO3c4W3aQByG8TdVv6cblEzQjOARukE7QjZoM0mSDZoJ6hHoBmQDmMD9YE5UKYmxMf7fc/c+EopAEXfwk23gDFdd18kx+xA9ATc944EzHjjjgTMeOOOBMx4444EzHjjjgTMeOOOBMx4444EzHjjjgTMeOOOBMx4444EzHjjjgTMeOOOBMx4444EzHjjjgTMeOOOBywWvkfQoaSOpm3BpB+5/JWk78b7fuzSTH/EMfYwcfN93SQ8XHmOj/oluJV1feKzFit7ybnV5uNRaPeBuofEuXjTe3cLjFQUYjdcEjFkMYPQx7/OR217Uv3gZ02bk/yfAVuBjYDTesTaSfi4wDh4wercZHXoXWjueBAY0Hjjj9e81WwGPe7XjYeGkuvHQcFK9eENwfyTd7P9mW414p8A1OnyYnS1gbXinwm3317fKGLAmvLFwqWwBa8GbCpfKErAGvHPhUtkBlo43F1wqK8CS8YbgXjQOLpUNYI5LQnM0BLeT9FXj4VIJMLQS8U6Ba9SvJpzTVPjZKm23uRRcFpWG915FwUnl4b21sFocnFQenvQ/YJFwUpl40gEwvR0oDk4q89Vmaq3+OwrFVjLenK3Uf6fidY8af87obBnvtFaSfhy5vVUgXqnHvCoyHjjjgTMeOOOBMx4444EzHjjjgTMeOOOBy/GzzU/K4OSeV91GT+BYOeJ9kfQ7ehKEonebz8Hjn1voIm803q/g8c/pScGn/111XRc5vtQvaH6LnsTIdjr8kmBY0Vue1K9Q34vzUxpPygBOymPL+7cmegIDrZUBWio3PDeiHHabbmLGA2c8cMYDZzxwxgNnPHDGA2c8cMYDZzxwxgNnPHDGA2c8cMYDZzxwxgNnPHDGA2c8cMYDZzxwxgNnPHDGA2c8cMYDZzxwxgP3F01fmrDtI5K3AAAAAElFTkSuQmCC",onMouseEnter:Z,onMouseOut:q,height:Yo,width:Yo,style:{transform:"scale(1.2)"},alt:""})})}),Object(Ta.jsx)(Rr.a,{placement:"right",title:m?G("ctKick"):"",children:Object(Ta.jsx)("div",{id:"kickDiv",className:U.kickIcon,onMouseUp:V,onTouchStart:H,children:Object(Ta.jsx)("img",{id:"kickUser",src:Ur,onMouseEnter:Z,onMouseOut:q,height:Yo,width:Yo,style:{transform:"scale(1.2)"},alt:""})})}),Object(Ta.jsx)("div",{className:U.dashedCircle})]})})})})]}))};function ip(e,t){var n=e*t;return n>na?na/e:n<ta?ta/e:t}var op=Object(_a.a)({root:{position:"absolute",width:"100%",height:"100%",top:0,left:0,userDrag:"none",overflow:"hidden",cursor:"default"},center:{position:"absolute",margin:"auto",left:0,right:0,top:0,bottom:0,width:0,height:0},transform:function(e){return{position:"absolute",width:0,height:0,transform:e.matrix.toString()}},hideMenuContainer:function(e){return{display:"flex",position:"relative",width:350,height:250,overflow:"hidden",userSelect:"none",userDrag:"none",bottom:"auto",transform:"scale(0)",backgroundColor:"transparent",transition:"0s ease-out",cursor:"default"}},showMenuContainer:function(e){return{display:"flex",position:"relative",width:350,height:250,overflow:"hidden",userDrag:"none",top:e.mem.zoomY-125,left:c()?e.mem.zoomX-160:e.mem.zoomX-170,bottom:"auto",transform:c()?"scale(2.8)":"scale(1.2)",backgroundColor:"transparent",transition:"0.3s ease-out",transitionDelay:"0.1s",cursor:"default"}},dashedCircle:function(e){return{position:"relative",width:200,height:200,borderWidth:2,borderStyle:"solid",borderColor:"#9e886c",borderRadius:"50%",opacity:.4,top:25,left:65,background:"radial-gradient(#ffffff, #ffffff, #ffffff, #9e886c, #9e886c)",zIndex:-9999,cursor:"default"}},uploadZone:function(e){return{display:"block",position:"absolute",textAlign:"center",top:180,left:145,whiteSpace:"pre",cursor:"default",background:"#9e886c",zIndex:9999,margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"}},uploadZoneHover:function(e){return{display:"block",position:"absolute",textAlign:"center",top:180,left:145,whiteSpace:"pre",cursor:"default",background:"black",margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"}},PingLocation:function(e){return{display:"block",height:Yo,position:"absolute",textAlign:"center",top:e.mem.pingY-25,left:e.mem.pingX-17,whiteSpace:"pre"}},PingLocationHide:function(e){return{display:"none",height:Yo,position:"absolute",textAlign:"center",top:e.mem.pingY-25,left:e.mem.pingX-17,whiteSpace:"pre"}}}),ap=Object(V.a)((function e(){Object(X.a)(this,e),this.prebThirdPersonView=!1,this.mouseDown=!1,this.dragging=!1,this.upTime=0,this.downTime=0,this.downXpos=0,this.downYpos=0,this.upXpos=0,this.upYpos=0,this.contentX=0,this.contentY=0,this.zoomX=0,this.zoomY=0,this.moveX=0,this.moveY=0,this.clickStatus="",this.userAngle=0,this.clickEnter=!1,this.pingX=0,this.pingY=0,this.hidePinIcon=0,this.touchStart=0,this.touchEnd=0}));var rp=!1;function sp(){return rp}var cp=0,lp=function(e){var t=e.stores,n=t.map,o=t.participants,r=Object(pa.b)((function(){return n.matrix})),s=Object(va.useRef)(null),c=Object(va.useRef)(null);function l(){return n.offset}var u=Object(pa.b)((function(){return o.local.thirdPersonView})),d=Object(va.useRef)(new ap).current,h=m(r,o.local.pose.position);if(u!==d.prebThirdPersonView)if(d.prebThirdPersonView=u,u){var O=w(b(r));if(O){var C=M(-O,h);n.setCommittedMatrix(C)}}else{var S=o.local.pose.orientation,k=w(b(r));if(S+k){var I=M(-(S+k),h);n.setCommittedMatrix(I)}}function M(e,t){var i=f(t,(new DOMMatrix).rotateSelf(0,0,e),r);return n.setMatrix(i),i}function P(e,t){var i=o.local,a=t;a||(a=n.mouseOnMap);var r=j(a,i.pose.position);if(x(r)>(t?120:30)){var s=y(20/x(r),r);i.pose.orientation=180*Math.atan2(s[0],-s[1])/Math.PI,e&&(i.pose.position=A(i.pose.position,s)),i.savePhysicsToStorage(!1)}}function R(){if("single"===d.clickStatus||""===d.clickStatus){if(d.clickEnter)return;if(o.local.pingIcon)return;if(function(){var t=!1;if(e.stores.contents.all.length>0)for(var n=0;n<e.stores.contents.all.length;n++)e.stores.contents.all[n].scaleRotateToggle&&(t=!0);return t}())return void function(){if(e.stores.contents.all.length>0)for(var t=0;t<e.stores.contents.all.length;t++)e.stores.contents.all[t].scaleRotateToggle&&(e.stores.contents.all[t].scaleRotateToggle=!e.stores.contents.all[t].scaleRotateToggle),!1===e.stores.contents.all[t].pinned&&(e.stores.contents.all[t].pinned=!0),e.stores.contents.updateByLocal(e.stores.contents.all[t])}();!1,o.local.pingIcon=!1,o.local.pingX=0,o.local.pingY=0,K(!1);var t=setTimeout((function(){var n=Cp;clearTimeout(t),n||function t(n){var i=j([d.moveX,d.moveY],e.stores.participants.local.pose.position);if(x(i)>6){var o=y(x(i)/5/x(i),i);e.stores.participants.local.pose.orientation=180*Math.atan2(o[0],-o[1])/Math.PI,n&&(e.stores.participants.local.pose.position=A(e.stores.participants.local.pose.position,o)),e.stores.participants.local.savePhysicsToStorage(!1);setTimeout((function(){t(!0)}),0)}}(!1)}),0)}else"double"===d.clickStatus&&(window.clearTimeout(d.hidePinIcon),o.local.pingX=d.pingX,o.local.pingY=d.pingY,o.local.pingIcon=!0,!0,K(!0),d.hidePinIcon=window.setTimeout((function(){window.clearTimeout(d.hidePinIcon),d.clickStatus="",o.local.pingIcon=!1,o.local.pingX=0,o.local.pingY=0,!1,K(!1)}),3e3))}var D=Object(cc.a)({onDragStart:function(e){var t=e.buttons,r=e.xy,s=e.event;null===s||void 0===s||s.preventDefault(),document.body.focus(),d.dragging=!0,d.mouseDown=!0,rp=!1,d.downTime=(new Date).getSeconds(),d.moveX=n.mouseOnMap[0],d.moveY=n.mouseOnMap[1];var c=mp(),l=xp(),u=ep(),p=Xs(),v=Ap(),h=Bd(),b=Jd();if(!Op()&&!v&&!p&&!Y&&!l&&!u&&!h&&!b&&(1===t||0===t)){d.downTime=(new Date).getSeconds(),d.downXpos=r[0],d.downYpos=r[1];var f,m=Array.from(o.remote.keys()).filter((function(e){return e!==o.localId})),g=Object(a.a)(m.entries());try{for(g.s();!(f=g.n()).done;){var A,j,O=Object(i.a)(f.value,1)[0],y=Number(null===(A=o.remote.get(m[O]))||void 0===A?void 0:A.pose.position[0]),x=Number(null===(j=o.remote.get(m[O]))||void 0===j?void 0:j.pose.position[1]),C=Number(n.mouseOnMap[0]),w=Number(n.mouseOnMap[1]);if(C>=y-30&&C<=y+30&&w>=x-30&&w<=x+30)return}}catch(k){g.e(k)}finally{g.f()}var S=setTimeout((function(){clearTimeout(S),c||d.mouseDown&&!1===Y&&!1===rp&&(d.zoomX=r[0],d.zoomY=r[1],d.contentX=n.mouseOnMap[0],d.contentY=n.mouseOnMap[1],!0,L(!0),H(!1))}),500)}},onDrag:function(e){var t=e.down,i=e.delta,a=e.xy,s=e.buttons;e.event;(i[0]||i[1])&&(d.mouseDown=!1),(i[0]||i[1])&&(d.mouseDown=!1,rp=!0);var v,h=bp(),f=Xs(),O=Ap(),y=Bd(),x=ep(),C=Jd();if(!O&&(!f&&!h&&!Q&&!y&&!x&&!C&&d.dragging&&t&&c.current))if(u||2!==s){var S=g(r.inverse(),i),k=r.translate.apply(r,Object(p.a)(S));n.setMatrix(k),(i[0]||i[1])&&P(!1,n.centerOnMap)}else{var I=m(r,o.local.pose.position),R=j(A(a,l()),I),D=j(R,i),B=T(R,D)/(E(R)*E(D)),N=T([(v=R)[1],-v[0]],i)>0?-1:1,z=Math.acos(B)*N;if(isNaN(z))return;var F=M(w(z),I);o.local.pose.orientation=-w(b(F))}},onDragEnd:function(e){var t=e.event,s=e.xy;d.upXpos=s[0],d.upYpos=s[1],d.upTime=(new Date).getSeconds();var c=d.upTime-d.downTime,l=Xs(),u=Ap(),p=Jd(),v=bp(),h=Nd,b=Op();if(!zd&&!tp&&!b&&!h&&!u&&!v&&!l&&!p){if(d.upXpos>=d.downXpos-20&&d.upXpos<=d.downXpos+20&&d.upYpos>=d.downYpos-20&&d.upYpos<=d.downYpos+20&&"DIV"===String(Object(null===t||void 0===t?void 0:t.target).tagName)&&c<1){var f,m=Array.from(o.remote.keys()).filter((function(e){return e!==o.localId})),g=Object(a.a)(m.entries());try{for(g.s();!(f=g.n()).done;){var A,j,O=Object(i.a)(f.value,1)[0],y=Number(null===(A=o.remote.get(m[O]))||void 0===A?void 0:A.pose.position[0]),x=Number(null===(j=o.remote.get(m[O]))||void 0===j?void 0:j.pose.position[1]),C=Number(n.mouseOnMap[0]),w=Number(n.mouseOnMap[1]);if(C>=y-30&&C<=y+30&&w>=x-30&&w<=x+30)return}}catch(k){g.e(k)}finally{g.f()}}1===(null===t||void 0===t?void 0:t.detail)?d.clickStatus="single":2===(null===t||void 0===t?void 0:t.detail)&&(d.clickStatus="double",d.pingX=o.local.mouse.position[0]-o.local.pose.position[0],d.pingY=o.local.mouse.position[1]-o.local.pose.position[1]),console.log(Q," ---- ",rp),d.clickEnter=!0;var S=setTimeout((function(){clearTimeout(S),d.clickEnter&&(d.clickEnter=!1,!1===Q&&!1===rp&&R()),rp=!1}),220);r.toString()!==n.committedMatrix.toString()&&(n.setCommittedMatrix(r),P(!1,n.centerOnMap)),d.dragging=!1,d.mouseDown=!1,!1,L(!1)}},onPinch:function(e){var t=Object(i.a)(e.da,2),a=t[0],s=t[1],c=e.origin,d=(e.event,e.memo);if(void 0===d)return[a,s];var p=Object(i.a)(d,2),h=p[0],m=p[1],g=A(c,l()),j=a>10?a/h:a<-10?h/a:1+(a-h)/10;j=ip(v(r),j);var O=f(g,u?(new DOMMatrix).scaleSelf(j,j,1):(new DOMMatrix).scaleSelf(j,j,1).rotateSelf(0,0,s-m),r);return n.setMatrix(O),u||(o.local.pose.orientation=-w(b(O))),[a,s]},onPinchEnd:function(){return n.setCommittedMatrix(r)},onMove:function(e){var t=e.xy;n.setMouse(t),o.local.mouse.position[0]===n.mouseOnMap[0]&&o.local.mouse.position[1]===n.mouseOnMap[1]||(o.local.mouse.position=Object.assign({},n.mouseOnMap))},onTouchStart:function(e){d.zoomX=e.touches[0].clientX,d.zoomY=e.touches[0].clientY,n.setMouse([e.touches[0].clientX,e.touches[0].clientY]),o.local.mouse.position=Object.assign({},n.mouseOnMap)},onTouchEnd:function(e){var t=e.changedTouches[0],n=document.elementFromPoint(t.clientX,t.clientY);cp++;var i=setTimeout((function(){clearTimeout(i),2===cp&&(d.clickStatus="double",d.pingX=o.local.mouse.position[0]-o.local.pose.position[0],d.pingY=o.local.mouse.position[1]-o.local.pose.position[1]),cp=0}),250);"IMG"===(null===n||void 0===n?void 0:n.nodeName)&&"menuUpload"===(null===n||void 0===n?void 0:n.id)&&(H(!0),L(!1))}},{eventOptions:{passive:!1}});Object(va.useEffect)((function(){B()}),[]),Object(va.useEffect)((function(){function e(e){e.ctrlKey&&(window.visualViewport&&window.visualViewport.scale>1?e.deltaY<0&&e.preventDefault():e.preventDefault())}return window.document.body.addEventListener("wheel",e,{passive:!1}),function(){window.document.body.removeEventListener("wheel",e)}}),[]);var B=Object(va.useRef)((function(){if(c.current){for(var e=c.current,t=0;e;)t+=e.offsetLeft,e=e.offsetParent;n.setScreenSize([c.current.clientWidth,c.current.clientHeight]),n.setLeft(t)}})).current,N={matrix:r,props:e,mem:d};var z=Object(va.useState)(!1),F=Object(i.a)(z,2),Q=F[0],L=F[1],U=Object(va.useState)(!1),G=Object(i.a)(U,2),Y=G[0],H=G[1],W=Object(va.useState)(!1),J=Object(i.a)(W,2),K=(J[0],J[1]),V=op(N);return Object(Ta.jsxs)("div",Object(wn.a)(Object(wn.a)({className:V.root,ref:c},D()),{},{children:[Object(Ta.jsx)(wu.a,{onResize:B}),Object(Ta.jsx)("div",{className:V.center,onWheel:function(e){if(!e.ctrlKey){var t,i=Math.pow(1.2,e.deltaY/100);if(1===(i=ip(v(n.matrix),i)))return;var o=(t=n.matrix).scale.apply(t,[i,i,1].concat(Object(p.a)(m(n.matrix.inverse(),n.mouse))));n.setMatrix(o),n.setCommittedMatrix(o)}},children:Object(Ta.jsx)("div",{id:"map-transform",className:V.transform,ref:s,children:e.children})}),Object(Ta.jsxs)("div",{className:Q?V.showMenuContainer:V.hideMenuContainer,children:[Object(Ta.jsx)(Rr.a,{placement:"bottom",title:Q?ee("ctUploadZone"):"",children:Object(Ta.jsx)("div",{id:"uploadDiv",className:V.uploadZone,onMouseUp:function(e){H(!0),L(!1)},onTouchStart:function(e){e.stopPropagation(),e.preventDefault()},onMouseOver:function(){Object(document.getElementById("uploadDiv")).className=V.uploadZoneHover},onMouseOut:function(){Object(document.getElementById("uploadDiv")).className=V.uploadZone},children:Object(Ta.jsx)("img",{id:"menuUpload",src:Su,height:Yo,width:Yo,alt:""})})}),Object(Ta.jsx)("div",{className:V.dashedCircle})]}),Object(Ta.jsx)(Zs,Object(wn.a)(Object(wn.a)({},e),{},{open:Y,onClose:function(){return H(!1)},cordX:d.contentX,cordY:d.contentY,origin:"contextmenu",_type:"menu"}))]}))};lp.displayName="MapBase";var up="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAAC4jAAAuIwF4pT92AAAABGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAQIElEQVR42mL8//8/wygYmgAggJhGg2DoAoAAGo28IQwAAmg08oYwAAig0cgbwgAggEYjbwgDgAAajbwhDAACaDTyhjAACKDRyBvCACCARiNvCAOAABqNvCEMAAJoNPKGMAAIoNHIG8IAIIBGI28IA4AAGo28IQwAAmg08oYwAAig0cgbwgAggEYjbwgDgAAajbwhDAACaDTyhjAACKDRyBvCACCARiNvCAOAABqNvCEMAAKIZRC7TRKINYBYD4jFgPgWEO8A4tdA/G806hgYAAJosEUeIxALAbEMEIcBcTIQiyPJ1wDxZCD+NBp1DAwAAcQ4yBbdKgNxGRCHAzE/FvmPQGwAxA9Go46BASCABlPOSwHiQiCWB2JuHGpAEco8Gm0QABBAgyHyQPVaFhB7A7ESAbWXgfjHaLRBAEAADXTkuQNxKhAHQes7XOAnEG8F4llA/I6G7uEDYkVouAhC+aD69QM0x78A4oeDJfIAAmigIo8XiN2AuA7amsQFPgPxJSDeD8RLgfgGld3BCs35CkAsAaV1oOKgFq4wEL8F4jfQsLoPxGeB+DEUP4JG7IAAgAAaiAYLqD6LAuIOaMsSG/gN7RJsBuI+aDeBmoALmrMsoHWtBxlm7ATibUC8G4ifDkQLGCCAGECRR2ecAsTf/uMGP4H4ABCbAzEjDeznBuIEID4HxH/+Uw4+AnElEAvSOywBAojeEecFxGfxBMQHIG4AYkkgZqGB/dZAvAOIX1Mp4mDgPRCfBOJIeoYnQADRs9g0BeJGaF2Hrbn/BFqUroU2DLABfWirVAda3ywB4itE2g/qO5YCsSENhwWvAvECIJ4OxF9pHaAAAUSvVAIqUtYA8S8cKfcMEMcBMTsO/QZAXAfEO4H4E1QPKOfMAGIpIuwH5YjrJOSkz0B8DYhPAfFNJDuJAW+AeDK09KBpuAIEED1amzxAnAHEAThy3B0g7gTi1VjkRIDYBoiTgNgXTQ5kVii0BTqBQI5rhXYBcKZhIL4LxbBW5E1oS1IE2gpVhGI56EACGw6zQC3UHGh/tAeIX9IqYAECiNY5DlRvOUArdXTwD4jfAXEyEHNh0QvKURVA/ApPKv8OxAtw2M0MxJZA/AKP/r/QnLIdiOOBmJOAf8SAOAaIVwLxUzwlCQzkEGEm2RgggGgdeZpAvBqHx0ARVwDEvFj0CQDxZiD+TSBwQEVhKA67pYH4AoGGyS1o65eNRH8xQlvDB6CtY1zgLhAH0ip8AQKI1pEXjaNbAMoxq3BEnAkQH4KqwQdu48m1oPqmmUDkL4NGADcFpYoktHX8Hk/OXg7ECrQIX4AAomXEqQPxehyeAjWrtbDoUQXirQQiDZRjJwCxHTSHYrPbHoif4TFjPhDrE+EHKWjxi0+NBBCXAvEjPO7Np0UYAwQQLRssoC6BExZxUAW+HIivoYkrQefrvPCYuQGIt0BHXl7hUCMKxJ7QyVxsY6QHgLgJOtSFDkANEktoA0UK2lh5D3UzqGF1Eohvo+l5AR1zBQ2n5UOH1pCBINQ9q4D4OTUDGCCAaJXrZIB4E46UuASIZdHUCwFxG4Hm9ywgViLCbk9oXYarS+KARQ+o+PaB5siXOPS+hbo9Aprb0M0AlSQbcegFlQK51A5ngACiVeQV4mglfoa21tDVRwHxHTyjLh14+oDImAk6VIWrZdqIRQ8PEKdCI4cY8AWIq3EU2aCE8xWHvv1EFMEkYYAAotVIgz60+EIHa4D4KJZB4iDoLDo2AOrDVUCLPEIAVMzp4pA7BMTrsIhHAPFEPIPk2AbW84C4GIvcA+hgNa5VArLUDGSAAKJF5GkCsQoOuWPQDjAySIQOnWEDoBmFqSTYrQ7tQGMDJ7HUs+bQTjwniX4EJcxIaP3IihZ5W3Do4QBiE2oGNEAA0SLy7IBYGos4aFrnOhD/RROPhjYO0AFoDm8ZdGqIWGCAIwe/hTY0fqOJ+0AjgOSpNGjjphI6YQsD34H4DBZ7YHOH2tQMaIAAolXkSWAR34U2Cw3yjBV0MhS91fsXmusukzETzoNF/DaWHM8HzfG41st8hSa2p3jCzhtLQn0H9ec/LDlPj5oBDRBA1O4qcEBH/DmwyB1Aa97zQIssVizN+f1Q/IuMiV4mHDkPfbLUCEciY4BG2jroLD6oniqD1qdMWCJQEVoc/0FKeBcZIMsXOdDCWoKagQ0QQNSOPAUcDZVfUA/+RAtoOyz1DWh53xSkwCDVfk4c/kQfFNdiwL68kAE61dSGVEIIAHEBjlwtCB2k/oO0CuAu1M8caIPfv6kZ2AABRO1iUwNLIP2FpuRPWCp9Ayzqv0FbpD/JsJ+NBLW/GHCvvOZGqstAAV6LZ1DgA1oJ8Q9a99F8ohQggKgdeZpYAvAXdNoG2YPsOBoWIDXnobmP3MlQbJOgf7FE1D08606MsEwhgSaJv2CpF6+hlRKgXC6Oo1Sj6ppTgACidrHJjyVB/IHOkf1Bm/MyxVE3naIg1eKqI6WwFOegVWCfcagHLUzyg9ZdMDAV6ocw6FAYqBE0GUtDCBSmalgS8V+o/6gGAAKI2pGnhKUB8gfaYvuN1liRwVEEUbJS7BM0d6C3ICWgdRN63XoOiM2gJQEyANVx8dDcuRQq9hBaF5+EmgXy024sbmCHDlKgh+1vLOOiFAGAAKJ25Eljibzf0NT5B21URQxH85ySwduL0AFncSyjOOxY1K+AdpytcYyIZAPxQQbI+hoQeAbEG/HYzw4d4RHGUSqco2ZgAwQQteu831iKvL8MmNuyeBmwL0sALR14Q4H9F6DNe3TwHkcReQLasnyPp/UaRYL9MtDuDzYAKhFOUzOwAQKIXpsr0Svqfzi6AowUVuqfoDkFfVRmE3RoDhuYC8TdOOTEoAMJxALQsGAoDjlQiXCHmoEKEEADtdydCYfd/7EMn5EKNkJzmRe0CAflxm14mvq/oaM/jkDsiiXRaRBprxhUP7YBClBVsJPagQgQQNSOPFYG/BtGYOAzNCUqYxmhEaGwYgfVmzugQ2tM0BYeoa7HI2jOdMUiR+ygNaiFGolDDtRVWkztyAMIIGpHHqxVyYKWm/6g1YXfcOQEUCtRkkp17wMS1HNiaY0im0UIgDr0bgzYB9i/Q1uoT6kdeQABRO067x4Wz4KKHiG0uuwLUgsOvYmuNgDFuBw08LF17p8Qod8FinG1gDfTwtEAAUTtyPuIZSSDHcvIy1scLS9haL+Lkc6RJ4KjbgO5cz8RjTHQgmJ1HLl2L57GEkUAIICoHXnXsYxyMEOLQuSiFDRueReLflAEGzLgHjCmFcDVSALVvSsJ6FVlwL2jFxQeh2nlaIAAonbk3cASELAZZDYsqfo+ln4hF7TTzE7HyAMV99uxNKo2EdG8B+3vwzXJuhbadaEJAAggajdYHkD7WJJoLVB9aKSgd1pBzedYtOEsUK4DrfXfR+fIA80cnIe69R+0xbqBAffUFBN0RMkDWldj69cdYaDhHnqAAKJ25IEcegXa6EDu7/BAA+UZkmdAKXsRdESCG62OBDXZQUsUtkBba7QGIDvOQotJZWhpcI0B/2QwyH/JeIrMOdA+Js0AQADRYoQFtEoL2/66ALQcCarMj0OL2j9Y6knYXjp6gk/Q3HeBgfAsviI08jiwjB6BqgTQSjlaHn7AABBAtIq8pzia09hWlS2F5kh0AJoyAi3LE6ei29igIyGS0O4LuSUPbBW0DJaWMahkWY9nRIdqACCAaBF513FU8lLQhgv6rMN8BtwDtrkMkCXw3FRyG2il2GwGyHL7BmhRTg7QgjZUcHWXlkIHImgKAAKIViumQSuQH2BZNXwOx3JzfCumQausp5GxDQsdBwDxPejK6V9Qcy8CsTcZZsXh2DoG2pW0Bbq6m5HGO7AYAAKIVrMKm6B1BzrQgTZG0O0FtexW4TAL1NgBTctMYSB8QhIuACom/aD1FAc094PM1SMj96kz4N7l+xDaUPnJQIc1LAABRKvIewlt6qOvEQEFWjCWoah3UE8vwmEeqPsAOimpF9pIECPRPaD60wKHHBeJZoHc7oxD7gQDDWYPcAGAAKLlfN4uHH01UMoF7VGXx9LXaoKOaODqW4FSPGjurYoBsn2M2JEYcwbsy+C/MpA2YCwNLTn4sMiBRozW0alrAwYAAUTLyLsJbS5j84wdtDHChSUAcqHF6Dc8Lb18aC4NZsC+lhJbsx5bDrvIQPxRICAQiSMHg4rI3fTMdSAAEEC0nkkHrdnYiiMCQAt8wrAE6mvoqMs+BvwLb0G5oBranSCmi4ANwDrmxABOaHcH26LiN9AxzK/0jDyAAKJ15IECZjoOOWFoEYht/T5oFVk6dMjqNYEItKXAfZ9JaNInQbsIuKqIE3QeUGAACCBaR94faB+ukQFzqgjUuQVNxUwCYnssep9BGzFpDLjnw0CtOmKWClI6xcQOLQ1wTRTvYcBcv0lzABBA9DoBSYDACUiHoX09Yk5Aeo6kbzYQKxNh/xoc9m4DYm0iju2IgvYLsYFDOA5HoDkGCCB6LUACFYOd0PrNFcuwlA20UQEqSjdiScUXoFgf2tgBqX8OHS25S4T9j6C5FH2ayQra/7uHp5UI2k9RzIB9igo0/dXPgP1wApoDgAAaiFP/zuPZ7w06s6UfegAOOxXtDYKeJYYNXIGeTSYGPdMFNJLDCsR8QGwIxNNx6PsDHTESHohcB8IAATQQh6WCugIdeDrHoHoStGEEtOt0LwPpe/SwAVCnfgID7tVdH6Gt203QUZK/0NwNGtnBNdEKamGWQkeGvg1ExgMIoIGIPNBq6ThoYOIqtv9CAwc0GUqNk25BDbNM6AgNrhl60GzAFwbESjdOqFtxLQK+DB3o/kaPoTBsACCABupeBdDMM2hKpYIB/1bfT9BAOgLt8J+hwE5J6AhOChXcD6pnS6CJa8AAQAAxDFR5DcXu0JbgPwJnn/yBtjSjKDxFD9QqXEvhqbYPgThjgMMNjAECaDDcaELKvQqgDrsDA+aRHKQABQbIlmVQ31KKBH3/oENpM4F4HsMguN8BIIAG03U0oOIMtO9bFsfALwyA9hQcoIJ95dAGiTTUPlYcY5bfGBDLIybRe/wSHwAIoMF2l5AstDUKGlXBNWOgDO2XUQOIQAe3Qa1QTQbUqab/0P4hqMUL2mdwnIG8ffI0AwABNNgijxHamJFjwH6LF6i12MJA3YsoYIcHsEMHzLWhA8ygRsl7aM77TKUuC1UBQAANtshDbx2C6kNdaNH2GNq6e85A+TYwfADURfjNQN5RInQFAAE0mCMPBpSgRSUo8m4wjAI4AAigoRB5owAHAAig0TtjhzAACKDRyBvCACCARiNvCAOAABqNvCEMAAJoNPKGMAAIoNHIG8IAIIBGI28IA4AAGo28IQwAAmg08oYwAAig0cgbwgAggEYjbwgDgAAajbwhDAACaDTyhjAACKDRyBvCACCARiNvCAOAABqNvCEMAAJoNPKGMAAIoNHIG8IAIIBGI28IA4AAGo28IQwAAmg08oYwAAgwABY64iuoa8ueAAAAAElFTkSuQmCC",dp=n(333),pp=n.n(dp),vp=Object(V.a)((function e(){Object(X.a)(this,e),this.buttons=0,this.dragCanceled=!1,this._borderTimer=0,this._down=!1,this._item="",this._timer=0,this.downTime=0,this.upTime=0,this.downPos=0,this.downXPos=0,this.movePos=0,this.moveXPos=0,this.onContent=!1,this.onContext=!1,this.moveX=0,this.moveY=0,this.clickStatus="",this.userAngle=0,this.clickEnter=!1,this.pingX=0,this.pingY=0,this.isMoved=!1,this.hidePinIcon=0,this.OnTimerClick=!1,this.intervalStep=0,this._zIndex=0,this._clickX=0,this._clickY=0,this._checkForRotation=!1,this._onContentForEdit=!1,this.touchStart=0,this.touchEnd=0})),hp=!1;function bp(){return hp}var fp=!1;function mp(){return fp}var gp=!1;function Ap(){return gp}var jp=!1;function Op(){return jp}var yp=!1;function xp(){return yp}var Cp=!1;var wp=0,Sp=function(e){var t=Object(va.useState)(e.content.pose),n=Object(i.a)(t,2),o=n[0],a=n[1],r=Object(va.useState)(e.content.size),s=Object(i.a)(r,2),l=s[0],u=s[1],d=Object(va.useState)(l),b=Object(i.a)(d,2),f=b[0],m=b[1],g=Object(va.useState)(o.position),C=Object(i.a)(g,2),w=C[0],S=C[1],k=Object(va.useState)(!1),T=Object(i.a)(k,2),E=T[0],M=T[1],P=Object(va.useState)(!1),R=Object(i.a)(P,2),D=R[0],B=R[1],N=Object(va.useState)(o.orientation),z=Object(i.a)(N,2),F=z[0],Q=z[1],L=Object(va.useState)(!1),U=Object(i.a)(L,2),G=U[0],Y=U[1],H=Object(va.useRef)(null),W=e.stores,J=W.contents,K=W.map,V=W.participants,X=Object(pa.b)((function(){return J.editing===e.content.id}));var Z=Object(va.useRef)(new vp).current,q=Object(pa.b)((function(){return e.content.showTitle})),_=Object(va.useState)(!1),$=Object(i.a)(_,2),te=$[0],ne=$[1],ie=Object(va.useState)(!1),oe=Object(i.a)(ie,2),ae=oe[0],re=oe[1],se=Object(va.useState)(!1),ce=Object(i.a)(se,2),le=ce[0],ue=ce[1],de=Object(va.useState)(!1),pe=Object(i.a)(de,2),ve=pe[0],he=pe[1],be=Object(va.useState)(!1),fe=Object(i.a)(be,2),me=fe[0],ge=fe[1],Ae=Object(va.useState)(!1),je=Object(i.a)(Ae,2),Oe=je[0],ye=je[1],xe=Object(va.useState)(!1),Ce=Object(i.a)(xe,2),we=Ce[0],Se=Ce[1],Ie=Object(va.useState)(!1),Te=Object(i.a)(Ie,2),Ee=Te[0],Me=Te[1],Pe=Object(va.useState)(!1),Re=Object(i.a)(Pe,2),De=Re[0],Be=Re[1],Ne=Object(va.useState)(!1),ze=Object(i.a)(Ne,2),Fe=ze[0],Qe=ze[1],Le=Object(va.useState)(!1),Ue=Object(i.a)(Le,2),Ge=Ue[0],Ye=Ue[1],He=Object(va.useState)(!1),We=Object(i.a)(He,2),Je=We[0],Ke=We[1];gp=te;var Ve=setTimeout((function(){clearTimeout(Ve),jp=le}),500),Xe=Object(pa.b)((function(){return e.content.stopWatchToggle})),Ze=Object(pa.b)((function(){return e.content.stopWatchReset})),qe=Object(pa.b)((function(){return e.content.scaleRotateToggle}));qe;var _e=Object(va.useState)(0),$e=Object(i.a)(_e,2),et=$e[0],tt=$e[1],nt="img"===e.content.shareType?" Image?":"zoneimg"===e.content.shareType?" Chat Zone?":" Text?",it=Object(va.useState)(!1),ot=Object(i.a)(it,2),at=(ot[0],ot[1]);function rt(){var e,t;H.current&&(H.current.resizable.orientation=o.orientation+K.rotation);var n=E?Yo:0;null===(e=H.current)||void 0===e||e.updatePosition({x:o.position[0],y:o.position[1]-n}),null===(t=H.current)||void 0===t||t.updateSize({width:l[0],height:l[1]+n})}function st(e){e.stopPropagation(),e.preventDefault()}function ct(){Z._down||(Z._down=!1,Z._item="DIV",window.clearTimeout(Z._timer),ft(1))}function lt(e){var t=Object(e.target).id;"uploadDiv"===t||"contextUpload"===t?ge(!0):"deleteDiv"===t||"contextDelete"===t?ye(!0):"moreDiv"===t||"contextMore"===t?Be(!0):"frontDiv"===t||"contextFlipFront"===t?Se(!0):"backDiv"===t||"contextFlipBack"===t?Me(!0):"proxDiv"===t||"contextProx"===t?Qe(!0):"scaleRotateDiv"===t||"contextScaleRotate"===t?Ye(!0):"stopWatchDiv"!==t&&"contextStopWatch"!==t||Ke(!0)}function ut(e){var t=Object(e.target).id;"uploadDiv"===t||"contextUpload"===t?ge(!1):"deleteDiv"===t||"contextDelete"===t?ye(!1):"moreDiv"===t||"contextMore"===t?Be(!1):"frontDiv"===t||"contextFlipFront"===t?Se(!1):"backDiv"===t||"contextFlipBack"===t?Me(!1):"proxDiv"===t||"contextProx"===t?Qe(!1):"scaleRotateDiv"===t||"contextScaleRotate"===t?Ye(!1):"stopWatchDiv"!==t&&"contextStopWatch"!==t||Ke(!1)}function dt(){JSON.stringify(o)===JSON.stringify(e.content.pose)&&JSON.stringify(l)===JSON.stringify(e.content.size)||(e.content.size=Object(p.a)(l),e.content.pose=Object(wn.a)({},o),e.updateAndSend(e.content),he(!1))}function pt(){if("single"===Z.clickStatus){if(Z.clickEnter)return;if(sp())return;if(le)return;if(ve)return;if(qe)return;!1,Z.clickStatus="",V.local.pingIcon=!1,V.local.pingX=0,V.local.pingY=0,at(!1);var t=setTimeout((function(){clearTimeout(t),Z.isMoved||function e(t){var n=V.local,i=j([Z.moveX,Z.moveY],n.pose.position);if(x(i)>6){var o=y(x(i)/5/x(i),i);n.pose.orientation=180*Math.atan2(o[0],-o[1])/Math.PI,t?n.pose.position=A(n.pose.position,o):(re(!0),window.clearTimeout(Z._borderTimer),function(){var e=setTimeout((function(){clearTimeout(e),re(!1)}),1e3)}()),n.savePhysicsToStorage(!1);setTimeout((function(){e(!0)}),0)}}(!1)}),0)}else if("double"===Z.clickStatus){if(jp)return;window.clearTimeout(Z.hidePinIcon),!0,at(!0),V.local.pingX=Z.pingX,V.local.pingY=Z.pingY,V.local.pingIcon=!0,Z.hidePinIcon=window.setTimeout((function(){window.clearTimeout(Z.hidePinIcon),Z.clickStatus="",V.local.pingIcon=!1,V.local.pingX=0,V.local.pingY=0,!1,at(!1)}),3e3)}else"toggleTimer"===Z.clickStatus?(Cp=!0,Z.clickStatus="",e.content.stopWatchToggle?(e.content.stopWatchToggle=!1,e.content.stopWatchReset=!1):(e.content.stopWatchToggle=!0,e.content.stopWatchReset=!1),e.updateAndSend(e.content)):"resetTimer"===Z.clickStatus&&(Cp=!0,Z.clickStatus="",e.content.stopWatchToggle=!0,e.content.stopWatchReset=!0,e.updateAndSend(e.content));var n=setTimeout((function(){clearTimeout(n),Cp=!1}),1e3)}void 0===e.content.zone&&("zoneimg"===e.content.shareType?e.content.zone="close":e.content.zone=void 0),Object(va.useEffect)((function(){if(Z.dragCanceled=!0,e.content.scaleRotateToggle&&((e.content.size[0]<80||e.content.size[1]<80)&&u([e.content.size[0]+(150-e.content.size[0]),e.content.size[1]+(150-e.content.size[1])]),dt()),e.content.showStopWatch&&!1===Xe&&!1===Ze?Z.intervalStep=window.setInterval((function(){tt((function(e){return e+10}))}),10):Ze?(tt(0),window.clearInterval(Z.intervalStep)):window.clearInterval(Z.intervalStep),"img"!==e.content.shareType){window.clearTimeout(Z._timer);var t=setTimeout((function(){clearTimeout(t),!0!==E&&(hp=!1,M(!1))}),2)}return ke.a.isEqual(l,e.content.size)||u(ke.a.cloneDeep(e.content.size)),ke.a.isEqual(o,e.content.pose)||a(ke.a.cloneDeep(e.content.pose)),function(){window.clearInterval(Z.intervalStep)}}),[e.content,e.content.showStopWatch,e.content.stopWatchToggle]),Object(va.useLayoutEffect)((function(){rt()}),[o,l,E,K.rotation]);var vt=e.content.pinned,ht=("0"+Math.floor(et/6e4%60)).slice(-2)+":"+("0"+Math.floor(et/1e3%60)).slice(-2)+":"+("0"+et/10%100).slice(-2),bt={onWheel:function(e){Z._down&&E&&(Z._down=!1,Z._item="DIV",window.clearTimeout(Z._timer),ft(0))},onDoubleClick:function(t){var n;Qn(e.content)&&(st(t),n=!X,J.setEditing(n?e.content.id:""))},onDrag:function(t){var n=t.down,i=t.delta,r=t.event,s=(t.xy,t.buttons);fp=e.content.pinned,yp=!0,Z._down=!1,vt||E||(null===r||void 0===r||r.stopPropagation(),n&&function(e,t,n){if(!Z.dragCanceled)if(2===t){var i;Q((F+e[0]+e[1])%360),i=null!==n&&void 0!==n&&n.shiftKey||null!==n&&void 0!==n&&n.ctrlKey?F:F-F%15;var r=A(o.position,O(.5,l));o.position=A(o.position,j(I(o.orientation-i,r),r)),o.orientation=i,a(Object.assign({},o))}else{var s=K.rotateFromWindow(e),c=I(-o.orientation,s);o.position=A(o.position,c),a(Object.assign({},o))}}(i,s,r))},onDragStart:function(t){var n=t.event,i=t.currentTarget,a=(t.delta,t.buttons),r=t.xy;if(null===n||void 0===n||n.preventDefault(),"touchstart"!==(null===n||void 0===n?void 0:n.type)&&(yp=!0,!E)){Y(!0),Z.buttons=a,Z.dragCanceled=!1,i instanceof Element&&n instanceof PointerEvent&&i.setPointerCapture(null===n||void 0===n?void 0:n.pointerId),Z._checkForRotation=!0,Z.onContent=!0,Z._down=!0,Z.downTime=(new Date).getSeconds(),Z.moveX=K.mouseOnMap[0],Z.moveY=K.mouseOnMap[1],window.clearTimeout(Z._timer),Z._clickX=r[0],Z._clickY=r[1],Z._zIndex=Number(e.content.zIndex);var s=setTimeout((function(){if(clearTimeout(s),Z._down&&!1===E&&!1===ve&&!1===jp&&0===wp){var e=j(K.mouseOnMap,o.position);Z.downPos=Number(e[1]),Z.downXPos=Number(e[0]),hp=!0,M(!0)}}),500)}},onDragEnd:function(t){var n=t.event,i=t.currentTarget;t.delta,t.buttons,t.xy;if(yp=!1,fp=!1,Z._down=!1,Z._item="DIV",window.clearTimeout(Z._timer),"DIV"===String(Object(null===n||void 0===n?void 0:n.target).nodeName)?ft(0):ft(1),!E)if(function(){var t=!1;if(e.stores.contents.all.length>0)for(var n=0;n<e.stores.contents.all.length;n++)e.stores.contents.all[n].scaleRotateToggle&&e.stores.contents.all[n].id!==e.content.id&&(t=!0);return t}())!function(){if(e.stores.contents.all.length>0)for(var t=0;t<e.stores.contents.all.length;t++)e.stores.contents.all[t].scaleRotateToggle&&e.stores.contents.all[t].id!==e.content.id&&(e.stores.contents.all[t].scaleRotateToggle=!e.stores.contents.all[t].scaleRotateToggle),!1===e.stores.contents.all[t].pinned&&e.stores.contents.all[t].id!==e.content.id&&(e.stores.contents.all[t].pinned=!0),e.stores.contents.updateByLocal(e.stores.contents.all[t])}();else{if(Y(!1),Z.dragCanceled||dt(),Z.dragCanceled=!1,i instanceof Element&&n instanceof PointerEvent&&i.releasePointerCapture(null===n||void 0===n?void 0:n.pointerId),!K.keyInputUsers.size&&Z.buttons,Z.buttons=0,e.content.scaleRotateToggle&&Z._checkForRotation)return Z._checkForRotation=!1,function(){var e=90;Q((F+0+2)%360);var t=o.orientation+e,n=.5,i=A(o.position,O(n,l));o.position=A(o.position,j(I(o.orientation-t,i),i)),o.orientation=t,360===o.orientation&&(o.orientation=0);a(Object.assign({},o))}(),void dt();var r=e.content.size[1]-(K.mouseOnMap[1]-e.content.pose.position[1]),s=e.content.size[0]-(e.content.size[0]-(K.mouseOnMap[0]-e.content.pose.position[0]));1===(null===n||void 0===n?void 0:n.detail)?r>5&&r<35&&s>e.content.size[0]/2-55&&s<e.content.size[0]/2+55?Z.clickStatus="toggleTimer":Z.clickStatus="single":2===(null===n||void 0===n?void 0:n.detail)&&(r>5&&r<35&&s>e.content.size[0]/2-55&&s<e.content.size[0]/2+55?Z.clickStatus="resetTimer":(Z.clickStatus="double",Z.pingX=V.local.mouse.position[0]-V.local.pose.position[0],Z.pingY=V.local.mouse.position[1]-V.local.pose.position[1])),Z.clickEnter=!0;var c=setTimeout((function(){clearTimeout(c),Z.clickEnter&&(Z.clickEnter=!1,pt())}),220)}},onMove:function(e){var t=e.event,n=e.xy;if(!E){"mousemove"===(null===t||void 0===t?void 0:t.type)&&!0===!c()?Z.isMoved=!0:Z.isMoved=!1;var i=j([n[0],n[1]],o.position);Z.downPos=Number(i[1]),Z.downXPos=Number(i[0]),K.setMouse(n)}},onPointerUp:function(e){X&&e.stopPropagation()},onPointerDown:function(e){X&&e.stopPropagation()},onTouchMove:function(e){e.preventDefault(),Z.isMoved=!0,Z.movePos=Number(K.mouseOnMap[1]),Z.moveXPos=Number(K.mouseOnMap[0]),Z.moveXPos>=Z.downXPos-20&&Z.moveXPos<=Z.downXPos+20&&Z.movePos>=Z.downPos-20&&Z.movePos<=Z.downPos+20?(Z._down=!0,Z._checkForRotation=!0):(Z._down=!1,Z._checkForRotation=!1)},onMouseUp:function(e){if(X)e.stopPropagation();else{if(e.button>0)return;if(Z.onContent=!1,Z.isMoved=!1,Z.upTime=(new Date).getSeconds(),Z.upTime-Z.downTime<2&&"DIV"===String(Object(e.target).tagName)&&!1===E&&(!1===Z._down||E))return}},onMouseMove:function(t){fp=e.content.pinned,E||(Z.movePos=Number(K.mouseOnMap[1]),Z.moveXPos=Number(K.mouseOnMap[0]),Z.moveXPos>=Z.downXPos-20&&Z.moveXPos<=Z.downXPos+20&&Z.movePos>=Z.downPos-20&&Z.movePos<=Z.downPos+20?(Z._down=!0,Z._checkForRotation=!0):(Z._down=!1,Z._checkForRotation=!1))},onMouseOver:function(e){yp=!0,Z._onContentForEdit=!0,Z._item=String(Object(e.target).tagName),window.clearTimeout(Z._timer)},onMouseOut:function(e){E||(yp=!1,Z._onContentForEdit=!1,Z.onContent=!1,fp=!1)},onTouchStart:function(t){X&&t.stopPropagation();var n=t.touches[0];if(yp=!0,!E){Y(!0),Z.dragCanceled=!1,Z.isMoved=!1;var i=j([n.clientX,n.clientY],o.position);Z.downPos=Number(i[1]),Z.downXPos=Number(i[0]),K.setMouse([n.clientX,n.clientY]),Z._checkForRotation=!0,Z.onContent=!0,Z._down=!0,Z.downTime=(new Date).getSeconds(),Z.moveX=K.mouseOnMap[0],Z.moveY=K.mouseOnMap[1],window.clearTimeout(Z._timer),Z._clickX=n.clientX,Z._clickY=n.clientY,Z._zIndex=Number(e.content.zIndex);var a=setTimeout((function(){clearTimeout(a);var e=sp();if(!1===E&&!1===qe&&!1===jp&&0===wp){if(e)return;var t=j(K.mouseOnMap,o.position);Z.downPos=Number(t[1]),Z.downXPos=Number(t[0]),hp=!0,M(!0)}}),500)}},onTouchEnd:function(t){Z._down=!1,yp=!1,Z.isMoved=!1;var n=t.changedTouches[0],i=document.elementFromPoint(n.clientX,n.clientY);wp++;var o=setTimeout((function(){clearTimeout(o),2===wp&&(Z.clickStatus="double",Z.pingX=V.local.mouse.position[0]-V.local.pose.position[0],Z.pingY=V.local.mouse.position[1]-V.local.pose.position[1]);var e=setTimeout((function(){clearTimeout(e),wp=0}),700)}),250);"IMG"===(null===i||void 0===i?void 0:i.nodeName)&&"contextUpload"===(null===i||void 0===i?void 0:i.id)?(ct(),ne(!0)):"IMG"===(null===i||void 0===i?void 0:i.nodeName)&&"contextDelete"===(null===i||void 0===i?void 0:i.id)?(ct(),ue(!0)):"IMG"===(null===i||void 0===i?void 0:i.nodeName)&&"contextMore"===(null===i||void 0===i?void 0:i.id)?(ct(),K.keyInputUsers.add("contentForm"),B(!0)):"IMG"===(null===i||void 0===i?void 0:i.nodeName)&&"contextProx"===(null===i||void 0===i?void 0:i.id)?(Z._down=!1,"open"===e.content.zone?e.content.zone="close":"img"===e.content.shareType?void 0===e.content.zone?e.content.zone="close":e.content.zone=void 0:e.content.zone="open",e.updateAndSend(e.content),ct()):"IMG"===(null===i||void 0===i?void 0:i.nodeName)&&"contextFlipBack"===(null===i||void 0===i?void 0:i.id)?(bi(e.content),e.updateAndSend(e.content),ct()):"IMG"===(null===i||void 0===i?void 0:i.nodeName)&&"contextFlipFront"===(null===i||void 0===i?void 0:i.id)?(hi(e.content),e.updateAndSend(e.content),ct()):"svg"!==(null===i||void 0===i?void 0:i.nodeName)&&"IMG"!==(null===i||void 0===i?void 0:i.nodeName)||"contextScaleRotate"!==(null===i||void 0===i?void 0:i.id)?"svg"!==(null===i||void 0===i?void 0:i.nodeName)&&"path"!==(null===i||void 0===i?void 0:i.nodeName)&&"svg"!==(null===i||void 0===i?void 0:i.nodeName)&&"DIV"!==(null===i||void 0===i?void 0:i.nodeName)&&"IMG"!==(null===i||void 0===i?void 0:i.nodeName)||"contextStopWatch"!==(null===i||void 0===i?void 0:i.id)?"DIV"===(null===i||void 0===i?void 0:i.nodeName)&&ft(0):(Z._down=!1,e.content.showStopWatch?(e.content.showStopWatch=!1,e.content.stopWatchToggle=!0,e.content.stopWatchReset=!0):(e.content.showStopWatch=!0,e.content.stopWatchToggle=!1,e.content.stopWatchReset=!1),e.updateAndSend(e.content),ct()):(e.content.scaleRotateToggle=!e.content.scaleRotateToggle,e.content.pinned=!e.content.pinned,e.updateAndSend(e.content),ct())}};function ft(e){var t=setTimeout((function(){clearTimeout(t),hp=!1,M(!1)}),1e3*e)}var mt=Object.assign({},bt,{eventOptions:{passive:!1}});mt.onDrag=function(t){var n;vt||K.keyInputUsers.has(e.content.id)||null===(n=bt.onDrag)||void 0===n||n.call(undefined,t)};var gt=Ep({props:e,pose:o,size:l,showTitle:E,showBorder:ae,pinned:e.content.pinned,dragging:G,editing:X,downPos:Z.downPos,downXPos:Z.downXPos,_down:Z._down,_title:q,pingX:Z.pingX,pingY:Z.pingY,uploadMouseEnter:me,deleteMouseEnter:Oe,frontMouseEnter:we,backMouseEnter:Ee,moreMouseEnter:De,proxMouseEnter:Fe,scaleRotateMouseEnter:Ge,stopWatchMouseEnter:Je}),At=ha.a.useRef(null),jt=ha.a.useRef(null),Ot=Object(cc.a)(mt),yt=Object(cc.a)(bt),xt=Object(Ta.jsxs)("div",Object(wn.a)(Object(wn.a)({className:gt.rndContainer},Ot()),{},{children:[Object(Ta.jsxs)("div",{className:gt.content,ref:At,onFocus:function(){Fn(e.content)&&X&&K.keyInputUsers.add(e.content.id)},onBlur:function(){Fn(e.content)&&X&&K.keyInputUsers.delete(e.content.id)},children:[Object(Ta.jsx)(_l,Object(wn.a)({},e)),Object(Ta.jsx)("div",{className:gt.nameContainerHolder,children:Object(Ta.jsx)("div",{className:gt.nameContainer,children:e.content.name})}),Object(Ta.jsx)("div",{className:gt.stopWatchTitleHolder,children:Object(Ta.jsx)("div",{className:gt.stopWatchTitle,children:ht})}),Object(Ta.jsx)("div",{className:qe&&!1===E?gt.dashedInEdit:ae&&"close"===e.content.zone?gt.dashed:void 0}),Object(Ta.jsx)("div",{style:{position:"absolute",width:l[0],height:l[1],top:0,left:0},children:qe&&!1===E?Object(Ta.jsxs)("div",{children:[Object(Ta.jsx)("div",{style:{width:"40px",height:"40px",position:"absolute",left:"-10px",top:"-10px",backgroundColor:"#9e886c",borderRadius:"50%"},children:Object(Ta.jsx)(Ka.Icon,{icon:xu.a,style:{width:Yo/1.5,height:Yo/1.5,color:"white",position:"absolute",left:"9px",top:"9px"}})}),Object(Ta.jsx)("div",{style:{width:"40px",height:"40px",position:"absolute",left:l[0]-30,top:"-10px",backgroundColor:"#9e886c",borderRadius:"50%"},children:Object(Ta.jsx)(Ka.Icon,{icon:xu.a,style:{width:Yo/1.5,height:Yo/1.5,color:"white",position:"absolute",left:"8.5px",top:"8px"}})}),Object(Ta.jsx)("div",{style:{width:"40px",height:"40px",position:"absolute",left:l[0]-30+"px",top:l[1]-30+"px",backgroundColor:"#9e886c",borderRadius:"50%"},children:Object(Ta.jsx)(Ka.Icon,{icon:xu.a,style:{width:Yo/1.5,height:Yo/1.5,color:"white",position:"absolute",left:"8px",top:"9px"}})}),Object(Ta.jsx)("div",{style:{width:"40px",height:"40px",position:"absolute",left:"-10px",top:l[1]-30+"px",backgroundColor:"#9e886c",borderRadius:"50%"},children:Object(Ta.jsx)(Ka.Icon,{icon:xu.a,style:{width:Yo/1.5,height:Yo/1.5,color:"white",position:"absolute",left:"9px",top:"9px"}})}),Object(Ta.jsx)("div",{style:{width:"40px",height:"40px",position:"absolute",left:l[0]/2-20,top:l[1]/2-20,backgroundColor:"#9e886c",borderRadius:"50%"},children:Object(Ta.jsx)(pp.a,{style:{width:Yo,height:Yo,color:"white",position:"absolute",left:"2px",top:"3px"}})})]}):""})]}),Object(Ta.jsxs)("div",Object(wn.a)(Object(wn.a)({className:gt.titlePosition},yt()),{},{children:[Object(Ta.jsx)("div",{className:gt.titleContainer,onMouseLeave:function(){},onContextMenu:function(){B(!0),K.keyInputUsers.add("contentForm")},children:Object(Ta.jsx)(yu,Object(wn.a)(Object(wn.a)({open:D},e),{},{close:function(){B(!1),e.content.pinned&&(hp=!1,M(!1)),K.keyInputUsers.delete("contentForm"),e.updateAndSend(e.content)},anchorEl:At.current,anchorOrigin:{vertical:"top",horizontal:"right"}}))}),Object(Ta.jsxs)(ka.a,{open:le,onClose:function(){return ue(!1)},onExited:function(){return ue(!1)},keepMounted:!0,style:le?{zIndex:9999,transform:c()?"scale(2)":"scale(1)"}:{zIndex:-9999,transform:c()?"scale(2)":"scale(1)"},BackdropProps:{invisible:!0},children:[Object(Ta.jsx)(ya.a,{style:{userSelect:"none",fontSize:"25px",fontWeight:"bold"},children:ee("deleteMsg")+nt}),Object(Ta.jsxs)(kc.a,{children:[Object(Ta.jsx)(Oa.a,{variant:"contained",style:{textTransform:"none",marginTop:"0.4em",backgroundColor:"orange",height:"40px",fontSize:"20px",fontWeight:"bold"},onClick:function(e){ue(!1)},children:ee("deleteNo")}),Object(Ta.jsx)(Oa.a,{variant:"contained",style:{textTransform:"none",marginTop:"0.4em",backgroundColor:"#7ececc",height:"40px",fontSize:"20px",fontWeight:"bold"},onClick:function(t){var n;ue(!1),null===(n=e.onClose)||void 0===n||n.call(null,t)},children:ee("deleteYes")})]})]})]}))]}));return Object(Ta.jsxs)("div",{className:gt.container,style:{zIndex:e.content.zIndex},onContextMenu:function(e){e.stopPropagation(),e.preventDefault()},children:["roomimg"!==e.content.shareType&&"appimg"!==e.content.shareType?Object(Ta.jsx)(Tc.a,{className:gt.rndCls,enableResizing:E?Pp:qe?Mp:Pp,disableDragging:vt,ref:H,onResizeStart:function(e){E||(Z.dragCanceled=!1,e.stopPropagation(),e.preventDefault(),m(l),S(o.position))},onResize:function(t,n,i,r,s){if(!E)if(t.stopPropagation(),t.preventDefault(),Z.dragCanceled)rt();else{var c=(v(K.matrix)+h(K.matrix))/2,l=[r.width/c,r.height/c],d=!1,p=[0,0];"bottomLeft"===n?(p[0]=-l[0],d=d||0!==l[0]):"topRight"===n&&(p[1]=-l[1],d=d||0!==l[1]),"topLeft"===n&&(p[1]=-l[1],d=d||0!==l[1]),d&&(o.position=A(w,p),a(Object.assign({},o)));var b=A(f,l);if(b[0]>80&&b[1]>80){if(e.content.originalSize[0]){var m=e.content.originalSize[0]/e.content.originalSize[1];b[0]>m*b[1]&&(b[0]=m*b[1]),b[0]<m*b[1]&&(b[1]=b[0]/m)}u(b)}else dt()}},onResizeStop:function(){E||(Z.dragCanceled||dt(),Z.dragCanceled=!1)},resizeHandleStyles:{topLeft:Rp,topRight:Rp,bottomLeft:Rp,bottomRight:Rp},dragHandleClassName:gt.cursorStyles,children:xt}):"",Object(Ta.jsx)(Zs,Object(wn.a)(Object(wn.a)({},e),{},{open:te,onClose:function(){return ne(!1)},cordX:o.position[0]+Z.downXPos,cordY:o.position[1]+Z.downPos,origin:"contextmenu",_type:"menu"})),Object(Ta.jsx)(ka.a,{open:E,onClose:function(){return M(!1)},onExited:function(){return M(!1)},keepMounted:!0,PaperProps:{style:{backgroundColor:"transparent",position:"absolute",boxShadow:"none",overflow:"hidden",left:Number(Z._clickX)-207,top:Number(Z._clickY)-170,zIndex:E?999:-999,transform:c()?"scale(2.5)":"scale(1)"}},BackdropProps:{invisible:!0},children:Object(Ta.jsx)(ya.a,{style:E?{transform:"scale(1.1)",transition:"0s ease-out"}:{transform:"scale(0)",transition:"0s ease-out"},children:Object(Ta.jsx)(Er.a,{in:E,style:{transition:E?"500ms":"0ms"},children:Object(Ta.jsxs)("div",{className:gt.titleContainer_dialog,onMouseLeave:function(){},onContextMenu:function(){},children:[Object(Ta.jsx)(Rr.a,{placement:"top",title:Z._down?ee("ctMoveTop"):"",children:Object(Ta.jsx)("div",{id:"frontDiv",className:gt.moveTopButton_dialog,onMouseUp:function(t){st(t),hi(e.content),e.updateAndSend(e.content),ct()},onTouchStart:st,onMouseLeave:ct,children:Object(Ta.jsx)("img",{id:"contextFlipFront",src:"data:image/png;base64,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",onMouseEnter:lt,onMouseOut:ut,height:Yo,width:Yo,alt:""})})}),Object(Ta.jsx)(Rr.a,{placement:"top",title:Z._down?ee("ctMoveBottom"):"",children:Object(Ta.jsx)("div",{id:"backDiv",className:gt.moveBottomButton_dialog,onMouseUp:function(t){st(t),bi(e.content),e.updateAndSend(e.content),ct()},onTouchStart:st,onMouseLeave:ct,children:Object(Ta.jsx)("img",{id:"contextFlipBack",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAAC4jAAAuIwF4pT92AAAABGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAFt0lEQVR42mL8//8/wygYmgAggJhGg2DoAoAAGo28IQwAAmg08oYwAAig0cgbwgAggEYjbwgDgAAajbwhDAACaDTyhjAACKDRyBvCACCARiNvCAOAABqNvCEMAAJoNPKGMAAIoNHIG8IAIIBGI28IA4AAGo28IQwAAmg08oYwAAig0cgbwgAggEYjbwgDgAAajbwhDAACaDTyhjAACKDRyBvCACCARiNvCAOAAGIZZv6RBWJnIJYGYk4g/gP143cgfgrEe4H48XDxLEAADbfIEwNiNyDWB2IuIP4HLV2+AfFFIL48nCIPIICGW+RxA7EqEGthkfsGlR82ACCAhlud9xeIv0KLSWTwHSr+dzh5FiCARhssQxgABNBo5A1hABBAo5E3hAFAAI1G3hAGAAE0GnlDGAAE0GjkDWEAEECjkTeEAUAAjUbeEAYAATQaeUMYAATQaOQNYQAQQKORN4QBQACNRt4QBgABNBp5QxgABNBwizzQzAFoAhb9fJL/UPGvw8mzAAE03CIPNF8HmqNkRBNnhIoPq/k8gABiHMBDdJiBWBmIU4HYAIg/M0BmvikBwkCsDcRCUPNhADSP9w6IrwLxWyokeF4gvgDEs4H4LsMAzRMCBNBgmElnA2JLGucKUESKArEDFYvnawMdcAABxDgIjq8CRVoGENcCMf8QKK0+AnEzEM8Y6DoUIIAGQ84DBcBaKDsbiBUHccTdBuKZUPcOeOMHIIAGywKkB9CUDGpYpACx+iCMuJdAvGIw5DgYAAigwdTaBAXIdGgj4OMgjLztgyXHwQBAAA22pX/IRWgWECsNAjd9hrppIRDfHEyBBRBAjIP0vE1QIyYP2o0YyDoQVFRuAuKpDJBFu4MKAATQYO2kg3LgXCBePgiKykEZcSAAEECDeYTlFRBvBOIF0KKL3kXlAmhReX2wBhBAADEO8mOKQZ1rHWgXwg+IxUd6UYkMAAJosI9t/oUG4FRoETbii0pkABBAQ2WjyXVoEQYCwQyQsUVatiqvD4VAAQigoRJ5v4D4ABC/B+LfNChCh0xRiQwAAmioTQnRqgjdPtQiDgQAAmgo7s+jZhE65IpKZAAQQEMx8qhVhA7JohIZAATQUJ5Jp7QI3T6UIw4EAAJoqG9rJqcIHdJFJTIACKChHnmkFqEvgHjzUM9xMAAQQMNlARKxReiO4RJxIAAQQMPpNAh8RSho2d9JIF4/1ItKZAAQQMMp8tCLUH8GyLks/6His4D4IFTdsAAAATQcV0zDitDdUP4dIF4GxKsZBucMPdkAIIAYh+nlh6DlhHZA7AjEV4B4P7SxMqwAQAAxDuObK0GLmUBrNV8NVw8CBBDj6LWjQxcABNDoLqEhDAACiFqtTXZoQmAcDVKCAFTUgfZk/KTUIIAAolbkaTJAVnyxQiNwtCzGXgf/h3ZjQAusLlBqIEAAUSvyQKucFYBYYDTyCEbeBwbICvEcSg0ECCBqRZ4NEOuO1qFEAVCReZkaBgEEELUCG5Sa3o7GC1HgLTS8KAYAATSaU4YwAAig0cgbwgAggEYjbwgDgAAajbwhDAACaDTyhjAACKDRyBvCACCARiNvCAOAABqNvCEMAAJoNPKGMAAIoNHIG8IAIIBGI28IA4AAGo28IQwAAohakQeay+MdDU6iAC8Dlc5ZAwggak0J3YbSoNP2RufzsANYuLxDCi+KAEAAUSvydgHxeWiKAuXmf6NxhbWUA4ULaBb9NTUMBAig0dVjQxgABNBog2UIA4AAGo28IQwAAmg08oYwAAig0cgbwgAggEYjbwgDgAAajbwhDAACaDTyhjAACKDRyBvCACCARiNvCAOAABqNvCEMAAJoNPKGMAAIoNHIG8IAIIBGI28IA4AAGo28IQwAAmg08oYwAAig0cgbwgAggEYjbwgDgAAajbwhDAACaDTyhjAACKDRyBvCACCARiNvCAOAAAMAM7nUqyW9ic4AAAAASUVORK5CYII=",onMouseEnter:lt,onMouseOut:ut,height:Yo,width:Yo,alt:""})})}),Object(Ta.jsx)(Rr.a,{placement:"top",title:Z._down?"close"===e.content.zone?ee("ctUnProximity"):ee("ctProximity"):"",children:Object(Ta.jsx)("div",{id:"proxDiv",className:gt.prox_dialog,onMouseUp:function(t){st(t),Z._down=!1,"open"===e.content.zone?e.content.zone="close":"img"===e.content.shareType?void 0===e.content.zone?e.content.zone="close":e.content.zone=void 0:e.content.zone="open",e.updateAndSend(e.content),ct()},onTouchStart:st,children:Object(Ta.jsx)("img",{id:"contextProx",src:(e.content.zone,up),onMouseEnter:lt,onMouseOut:ut,height:Yo,width:Yo,alt:""})})}),Object(Ta.jsx)("div",{id:"moreDiv",className:gt.titleButton_dialog,onMouseUp:function(e){st(e),K.keyInputUsers.add("contentForm"),B(!0),ct()},onTouchStart:st,onMouseLeave:ct,ref:jt,children:Object(Ta.jsx)("img",{id:"contextMore",src:Lr,onMouseEnter:lt,onMouseOut:ut,height:Yo,width:Yo,alt:""})}),Object(Ta.jsx)("div",{id:"deleteDiv",className:gt.close_dialog,onMouseUp:function(e){st(e),ct(),ue(!0)},onTouchStart:st,onMouseLeave:ct,children:Object(Ta.jsx)("img",{id:"contextDelete",src:"data:image/png;base64,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",onMouseEnter:lt,onMouseOut:ut,height:Yo,width:Yo,alt:""})}),Object(Ta.jsx)(Rr.a,{placement:"bottom",title:Z._down?ee("ctUploadZone"):"",children:Object(Ta.jsx)("div",{id:"uploadDiv",className:gt.uploadZone_dialog,onMouseUp:function(e){ct(),ne(!0)},onTouchStart:st,onMouseLeave:ct,children:Object(Ta.jsx)("img",{id:"contextUpload",src:Su,height:Yo,onMouseEnter:lt,onMouseOut:ut,width:Yo,alt:""})})}),Object(Ta.jsx)(Rr.a,{placement:"top",title:Z._down?e.content.showStopWatch?ee("ctStopWatchOff"):ee("ctStopWatchOn"):"",children:Object(Ta.jsx)("div",{id:"stopWatchDiv",className:gt.stopWatch_dialog,onMouseUp:function(t){st(t),Z._down=!1,e.content.showStopWatch?(e.content.showStopWatch=!1,e.content.stopWatchToggle=!0,e.content.stopWatchReset=!0):(e.content.showStopWatch=!0,e.content.stopWatchToggle=!1,e.content.stopWatchReset=!1),e.updateAndSend(e.content),ct()},onTouchStart:st,onMouseLeave:ct,children:Object(Ta.jsx)("img",{id:"contextStopWatch",src:"data:image/png;base64,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",height:Yo,onMouseEnter:lt,onMouseOut:ut,width:Yo,alt:""})})}),Object(Ta.jsx)(Rr.a,{placement:"top",title:Z._down?e.content.scaleRotateToggle?ee("ctUnScaleRotate"):ee("ctScaleRotate"):"",children:Object(Ta.jsx)("div",{id:"scaleRotateDiv",className:gt.scaleRotate_dialog,onMouseUp:function(t){st(t),e.content.scaleRotateToggle=!e.content.scaleRotateToggle,e.content.pinned=!e.content.pinned,e.updateAndSend(e.content),ct()},onTouchStart:st,onMouseLeave:ct,children:Object(Ta.jsx)("img",{id:"contextScaleRotate",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAUpSURBVHjaYvz//z/DKBiaACCAmEaDYOgCgAAajbwhDAACaDTyhjAACKDRyBvCACCARiNvCAOAABqNvCEMAAJoNPKGMAAIoNHIG8IAIIBGI28IA4AAGo28IQwAAmg08oYwAAig0cgbwgAggEYjbwgDgAAajbwhDAACaDTyhjAACCAWEtUrAHE8ELsAsTIQc40GIVXAJyB+A8RrgXgBED8lRhNAADESORnLC8StQBwBxKKjYU1T8AqI5wNxCxB/wacQIICIiTwZIF4KxHaj4UpXsAOIY6E5EisACCBCkQfKcVtGI27AAKgYDcElCRBAhBosDaMRN6AgGIhTcEkCBBC+nCcBxJeBWGQ0DAcUPAFifSB+hy4BEED4cl70aMQNCiCDq/QDCCB8kec8Gm6DBhhhEwQIIHz9PHkiDP0JxH9Hw5bivjYbATVm2AQBAghf5HESYXEmEB8A1Z2jcUAW+AfEAUDcT0CdMDZBgADCF3nE9N4fAfH90TigCDwjQg3WuAAIIErHNllHw54qxSZZACCARgemhzAACKDRyBvCACCARiNvCAOAABqNvCEMAAJoNPKGMAAIIBY62UOLfuCI3xUKEED0iDzQpKI1tENKzcQA6mOmAfGvkRp5AAFEj8gzAWIHGpj7cKQX+wABRA/P/6SRud9HerEJEECjDZYhDAACaDTyhjAACKDRyBvCACCARiNvCAOAAGIadfvQBQABNJQDYMR30gECiGWQuKOTATIjTwr4MpI76CAAEECDJfJOM0BWCI8CEgBAAA2WYpN9NCpIBwABNNraHMIAIIBGI28IA4AAGo28IQwAAmg08oYwAAig0cgbwgAggEYjbwgDgAAajbwhDAACaDTyhjAACKDRyBvCACCA6BF5bESoYR6NCtIBQADRY2zzKgOOLUpI4NUQDDvQkSYKBNS8ZICscqMJAAggekReOQPhdZv/hmDk+QPxdAJqpgJxAa0cABBA9Ii84bpzlpmI8KNp+AIE0GiDhXxAzGQwTUsUgAAajbwhDAACaDTyhjAACKDRyBvCACCARiNvCAOAABqNvCEMAAJoNPKGMAAIoNHIG8IAIIBGI28IA4AAGo28IQwAAmg08sgHXwfaAQABxDIaBwx8QJzDQNzUFTIwHmiHAwTQaOQxMAgwQE6uH3IAIIBGi03I4PGXoehwgAAajbwhDAACaDTyhjAACKDRyBvCACCARiNvCAOAABqNPAgYkmdkAwTQaORBIo6bRmbTdNMoQACN9vMYGN4zQE6pZ6VBxjhPS4cDBNBo5EH6eDOGosMBAmi02BzCACCARiNvCAOAABqNvCEMAAJoNPKGMAAIoNHIG8IAIIBGI28IA4AAojTyvo4GIcXgGxFqsI4AAQQQpbd4gS6j1RwNf7IBKIzNiVCHdacVQADhi7xPRBiaNxr+dAEPsAkCBBC+YvPKaJgNGnASmyBAAOGLvM2jYTZowBlsggABhC/yNjFA9pOPgoEFh3HlPIAAwhd5oMss2kfDbkAB6OIP0LJErCf6AgQQoa7CUiBuGA3DAQPFQHwJlyRAABEzJdQEVVcExFyj4UkX8BGIOxgInDYBEECM//8TfUi6DRDXMeC4s3sUUA0cA+IqIL5ASCFAAJESeaNgkAGAABod2xzCACCARiNvCAOAABqNvCEMAAJoNPKGMAAIoNHIG8IAIIBGI28IA4AAGo28IQwAAmg08oYwAAig0cgbwgAggEYjbwgDgAAajbwhDAACaDTyhjAACKDRyBvCACDAAIlBbmyWe2KIAAAAAElFTkSuQmCC",height:Yo,onMouseEnter:lt,onMouseOut:ut,width:Yo,alt:""})})}),Object(Ta.jsx)("div",{className:E?gt.dashedCircle_dialog:void 0})]})})})})]})},kp={"&":{margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"},"&:hover":{backgroundColor:"black",margin:"5px",padding:"3px",borderRadius:"50%"},"&:active":{margin:"5px",padding:"3px",borderRadius:"50%"}},Ip={"&":{margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"},"&:hover":{backgroundColor:"#B34700",margin:"5px",padding:"3px",borderRadius:"50%"},"&:active":{margin:"5px",padding:"3px",borderRadius:"50%"}},Tp={"&":{margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"},"&:hover":{backgroundColor:"#9e886c",margin:"5px",padding:"3px",borderRadius:"50%"},"&:active":{margin:"5px",padding:"3px",borderRadius:"50%"}},Ep=Object(_a.a)({container:function(e){var t=new DOMMatrix;return t.rotateSelf(0,0,e.pose.orientation),{display:e.props.hideAll?"none":"block",width:0,height:0,transform:t.toString(),position:"absolute"}},rndCls:function(e){return{borderRadius:e.showTitle?"0.5em 0.5em 0 0":"0 0 0 0",backgroundColor:e.props.content.noFrame?"rgba(0,0,0,0)":Ic.useTransparent?"rgba(200,200,200,0.5)":"rgba(200,200,200,1)",boxShadow:e.props.content.noFrame?void 0:Ic.useTransparent?"0.2em 0.2em 0.2em 0.2em rgba(0,0,0,0.4)":"0.2em 0.2em 0.2em 0.2em rgba(100,100,100,1)"}},rndContainer:function(e){return{width:"100%",height:"100%"}},dashed:function(e){return{position:e.props.content.showTitle?"absolute":"relative",width:e.size[0]+8,height:e.size[1]+8,borderWidth:2,borderStyle:"dashed",borderColor:"red",borderRadius:0,top:e.props.content.showTitle?"-5px":-e.size[1]-6+"px",left:"-6px"}},dashedInEdit:function(e){return{position:e.props.content.showTitle?"absolute":"relative",width:e.size[0]+8,height:e.size[1]+8,borderWidth:2,borderStyle:"dashed",borderColor:"#9e886c",borderRadius:0,top:e.props.content.showTitle?"-5px":-e.size[1]-6+"px",left:"-6px"}},titlePosition:function(e){return e.showTitle?{}:{width:0,heihgt:0,position:"absolute",top:0}},dashedCircle:function(e){return{position:"relative",width:200,height:200,borderWidth:2,borderStyle:"solid",borderColor:"#9e886c",borderRadius:"50%",opacity:.4,top:20,left:31,background:"radial-gradient(#ffffff, #ffffff, #ffffff, #9e886c, #9e886c)",zIndex:-9999}},dashedCircle_dialog:function(e){return{position:"relative",width:220,height:220,borderWidth:2,borderStyle:"solid",borderColor:"#9e886c",borderRadius:"50%",opacity:.4,top:15,left:35,background:"radial-gradient(#ffffff, #ffffff, #ffffff, #9e886c, #9e886c)",zIndex:-9999}},titleContainer_dialog:function(e){var t={display:"flex",width:"300px",height:"250px",backgroundColor:"transparent",position:"relative",cursor:"default"};return e.showTitle?(t.display="flex",t.position="relative",t.bottom="auto"):(t.display="flex",t.position="relative",t.bottom="auto",t.top="auto",t.left="auto"),t},titleContainer:function(e){var t={display:"flex",position:"relative",width:(e.pinned,350),height:(e.pinned,250),overflow:"hidden",userSelect:"none",userDrag:"none",top:"auto",left:"auto",bottom:"auto",transform:"scale(0)",backgroundColor:"transparent",transition:"0.3s ease-out",cursor:"default"};if(e.showTitle){t.display="flex",t.position="relative",t.bottom="auto";var n=Number(e.props.stores.map.matrix.a),i=1.2/n,o=165+2.7*n,a=0;a=n>=1&&n<5?380-6*n:5===n?382-5*n:n<.34?500-1*n:n>.34&&n<.4?465-1*n:400-1*n,t.top=e.downPos-o/2,t.left="img"===e.props.content.shareType?e.downXPos-180:e.downXPos-a/2,t.transform="scale("+i+")"}else t.display="flex",t.position="relative",t.bottom="auto",t.top="auto",t.left="auto",t.transform="scale(0)";return t},content:function(e){return{position:"absolute",top:(e.showTitle?Yo:0)-(e.editing?3:0),left:e.editing?-3:0,width:e.size[0],height:e.size[1],userDrag:"none",pointerEvents:e.dragging?"none":"auto",borderWidth:3,borderColor:"yellow",borderStyle:e.editing?"solid":"none",cursor:e.editing?"default":void 0,opacity:e.props.content.opacity}},note:function(e){return e.showTitle?{visibility:"hidden",whiteSpace:"pre",position:"relative",top:143,left:170,background:"#9e886c",margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"}:{visibility:"hidden"}},pin:function(e){return e.showTitle?Object(wn.a)({display:e.props.onShare?"none":"block",height:Yo,position:"absolute",textAlign:"center",top:128,left:86,whiteSpace:"pre",cursor:"default",background:e.pinned?"#ef4623":"#9e886c"},e.pinned?e._down?kp:Ip:e._down?kp:Tp):{display:"none"}},pin_dialog:function(e){return e.showTitle?Object(wn.a)({display:e.props.onShare?"none":"block",height:Yo,position:"absolute",textAlign:"center",top:150,left:47,whiteSpace:"pre",cursor:"default",background:e.pinned?"#ef4623":"#9e886c"},e.pinned?e._down?kp:Ip:e._down?kp:Tp):{display:"none"}},prox:function(e){return e.showTitle?Object(wn.a)({display:e.props.onShare?"none":"block",height:Yo,position:"relative",top:78,left:82,whiteSpace:"pre",cursor:"default",background:"close"===e.props.content.zone?"#ef4623":"#9e886c"},"close"===e.props.content.zone?e._down?kp:Ip:e._down?kp:Tp):{display:"none"}},prox_dialog:function(e){return e.showTitle?{display:e.props.onShare?"none":"block",position:"absolute",top:128,left:38,whiteSpace:"pre",cursor:"default",background:e.proxMouseEnter?"close"===e.props.content.zone?e._down?"black":"#B34700":e._down?"black":"#9e886c":"close"===e.props.content.zone?"#ef4623":"#9e886c",margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"}:{display:"none"}},titleButton:function(e){return e.showTitle?Object(wn.a)({display:"block",height:Yo,textAlign:"center",whiteSpace:"pre",position:"absolute",cursor:"default",top:127,left:230,background:"#9e886c"},kp):{display:"none"}},titleButton_dialog:function(e){return e.showTitle?{display:"block",textAlign:"center",whiteSpace:"pre",position:"absolute",cursor:"default",top:128,left:205,background:e.moreMouseEnter?"black":"#9e886c",margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"}:{display:"none"}},uploadZone:function(e){return e.showTitle?Object(wn.a)({display:"block",height:Yo,position:"absolute",textAlign:"center",top:175,left:160,whiteSpace:"pre",cursor:"default",background:"#9e886c"},kp):{display:"none"}},uploadZone_dialog:function(e){return e.showTitle?{display:"block",position:"absolute",textAlign:"center",top:190,left:125,whiteSpace:"pre",cursor:"default",background:e.uploadMouseEnter?"black":"#9e886c",margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"}:{display:"none"}},stopWatch:function(e){return e.showTitle?Object(wn.a)({display:e.props.onShare?"none":"block",height:Yo,position:"absolute",textAlign:"center",top:36,left:110,whiteSpace:"pre",cursor:"default",background:e.props.content.showStopWatch?"#ef4623":"#9e886c"},e.props.content.showStopWatch?e._down?kp:Ip:e._down?kp:Tp):{display:"none"}},stopWatch_dialog:function(e){return e.showTitle?{display:e.props.onShare?"none":"block",position:"absolute",textAlign:"center",top:76,left:37,whiteSpace:"pre",cursor:"default",background:e.stopWatchMouseEnter?e.props.content.showStopWatch?e._down?"black":"#B34700":e._down?"black":"#9e886c":e.props.content.showStopWatch?"#ef4623":"#9e886c",margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"}:{display:"none"}},scaleRotate_dialog:function(e){return e.showTitle?{display:e.props.onShare?"none":"block",position:"absolute",textAlign:"center",top:33,left:68,whiteSpace:"pre",cursor:"default",background:e.scaleRotateMouseEnter?"black":"#9e886c",margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"}:{display:"none"}},uploadImage:function(e){return e.showTitle?Object(wn.a)({display:"block",height:Yo,position:"absolute",textAlign:"center",top:190,left:186,whiteSpace:"pre",cursor:"default",background:"#9e886c"},kp):{display:"none"}},moveTopButton:function(e){return e.showTitle?Object(wn.a)({display:"block",height:Yo,position:"absolute",textAlign:"center",top:18,left:158,whiteSpace:"pre",cursor:"default",background:"#9e886c"},kp):{display:"none"}},moveTopButton_dialog:function(e){return e.showTitle?{display:"block",position:"absolute",textAlign:"center",top:14,left:120,whiteSpace:"pre",cursor:"default",background:e.frontMouseEnter?"black":"#9e886c",margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"}:{display:"none"}},moveBottomButton:function(e){return e.showTitle?Object(wn.a)({display:"block",height:Yo,position:"absolute",textAlign:"center",top:35,left:206,whiteSpace:"pre",cursor:"default",background:"#9e886c"},kp):{display:"none"}},moveBottomButton_dialog:function(e){return e.showTitle?{display:"block",position:"absolute",textAlign:"center",top:32,left:174,whiteSpace:"pre",cursor:"default",background:e.backMouseEnter?"black":"#9e886c",margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"}:{display:"none"}},copyClipButton:function(e){return e.showTitle?Object(wn.a)({display:"block",height:Yo,position:"absolute",top:"0px",left:"185px",whiteSpace:"pre",cursor:"default",background:"#9e886c"},kp):{display:"none"}},edit:function(e){return e.showTitle?Object(wn.a)({display:e.props.onShare||!Qn(e.props.content)?"none":"block",height:Yo,whiteSpace:"pre",cursor:"default",background:"#9e886c",position:"absolute",top:147,left:217},kp):{display:"none"}},type:function(e){return Object(wn.a)({display:e.showTitle?"block":"none",height:Yo,position:"absolute",top:105,left:50,background:"#9e886c"},kp)},close:function(e){return Object(wn.a)({visibility:e.showTitle?"visible":"hidden",position:"absolute",textAlign:"left",top:78,left:234,right:0,margin:0,padding:0,height:Yo,borderRadius:"0 0.5em 0 0",cursor:"default",background:"#9e886c"},kp)},close_dialog:function(e){return{visibility:e.showTitle?"visible":"hidden",position:"absolute",textAlign:"left",top:76,left:205,right:0,cursor:"default",background:e.deleteMouseEnter?"black":"#9e886c",margin:"5px",borderRadius:"50%",width:"35px",height:"35px",padding:"3px"}},nameContainerHolder:function(e){return{display:e._title&&""!==e.props.content.name?"block":"none",fontWeight:"bold",fontSize:c()?"1.2em":"1em",width:(0===e.pose.orientation||e.pose.orientation,e.size[0]),height:(0===e.pose.orientation||e.pose.orientation,e.size[1]),padding:5,backgroundColor:"#eab67600",textAlign:"center",borderRadius:2,alignContent:"center",position:"absolute",bottom:5,transform:0===e.pose.orientation?"rotate(0deg)":90===e.pose.orientation?"rotate(-90deg)":180===e.pose.orientation?"rotate(-180deg)":270===e.pose.orientation?"rotate(-270deg)":"rotate(0deg)",left:0===e.pose.orientation||180===e.pose.orientation?-5:270===e.pose.orientation?(e.size[0]-e.size[1])/2-10:(e.size[1]-e.size[0])/2,top:0===e.pose.orientation?0:180===e.pose.orientation?-7:-5,transformOrigin:"middle"}},nameContainer:function(e){return{display:e._title&&""!==e.props.content.name?"block":"none",fontWeight:"bold",fontSize:c()?"1.2em":"1em",width:24*e.props.content.name.length+"px",height:"20",marginBottom:5,marginLeft:0===e.pose.orientation||180===e.pose.orientation?(e.size[0]-24*e.props.content.name.length)/2-3+"px":(e.size[0]-24*e.props.content.name.length)/2-5+"px",marginTop:-40,padding:5,backgroundColor:"#7ececc",textAlign:"center",borderRadius:2,overflow:"hidden",alignContent:"center",position:"relative",bottom:5}},stopWatchTitleHolder:function(e){return{display:e.props.content.showStopWatch?"block":"none",fontWeight:"bold",fontSize:c()?"1.2em":"1em",width:(0===e.pose.orientation||e.pose.orientation,e.size[0]),height:(0===e.pose.orientation||e.pose.orientation,e.size[1]),padding:5,backgroundColor:"#eab67600",textAlign:"center",borderRadius:2,alignContent:"center",position:"absolute",bottom:5,transform:0===e.pose.orientation?"rotate(0deg)":90===e.pose.orientation?"rotate(-90deg)":180===e.pose.orientation?"rotate(-180deg)":270===e.pose.orientation?"rotate(-270deg)":"rotate(0deg)",left:0===e.pose.orientation||180===e.pose.orientation?-5:270===e.pose.orientation?(e.size[0]-e.size[1])/2-5:(e.size[1]-e.size[0])/2-5,top:(0===e.pose.orientation||e.pose.orientation,-5),transformOrigin:"middle"}},stopWatchTitle:function(e){return{display:e.props.content.showStopWatch?"block":"none",fontWeight:"bold",fontSize:c()?"1.2em":"1em",width:"90px",height:"20px",marginLeft:0===e.pose.orientation||180===e.pose.orientation?(e.size[0]-90)/2-3+"px":(e.size[0]-90)/2-5+"px",marginTop:0===e.pose.orientation||180===e.pose.orientation?e.size[1]-30:e.size[0]-30,marginBottom:"5px",padding:5,backgroundColor:"#EEDC82",textAlign:"center",borderRadius:2,overflow:"hidden",alignContent:"center",position:"relative",bottom:0}},PingLocation:function(e){return{display:"block",height:Yo,position:"absolute",textAlign:"center",top:e.pingY-25,left:e.pingX-17,whiteSpace:"pre"}},PingLocationHide:function(e){return{display:"none",height:Yo,position:"absolute",textAlign:"center",top:e.pingY-25,left:e.pingX-17,whiteSpace:"pre"}},cursorStyles:{cursor:"auto"}}),Mp={bottom:!1,bottomLeft:!0,bottomRight:!0,left:!1,right:!1,top:!1,topLeft:!0,topRight:!0},Pp={bottom:!1,bottomLeft:!1,bottomRight:!1,left:!1,right:!1,top:!1,topLeft:!1,topRight:!1},Rp={width:"40px",height:"40px",color:"white",borderRadius:"50%",cursor:"auto"};Sp.displayName="RndContent";var Dp=function(e){return{onClose:function(t){Go("RndContent onClose for ",e.content.id),t.stopPropagation(),e.stores.map.keyInputUsers.delete(e.content.id),e.stores.map.keyInputUsers.delete("contentForm"),e.stores.contents.removeByLocal(e.content.id)},updateAndSend:function(t){e.stores.contents.updateByLocal(Object.assign({},t))},updateOnly:function(t){e.stores.contents.updateLocalOnly(Object.assign({},t))}}},Bp=function(e){return Object(Ta.jsx)(Sp,Object(wn.a)(Object(wn.a)({},e),{},{autoHideTitle:!0},Dp(e)))};Bp.displayName="SharedContent";var Np=n(178),zp=n.n(Np),Fp=["lineHeight","content"];function Qp(e){var t;if((t=e)&&t.pose.position[0]!==Un)return e}var Lp=function(e){var t=pc({height:e.lineHeight,fontSize:e.fontSize}),n=ha.a.useState(!1),o=Object(i.a)(n,2),a=o[0],r=o[1],s=ha.a.useRef(null),l=(e.lineHeight,e.content,Object(me.a)(e,Fp)),u=void 0,d=e.stores.map,p=Object(pa.b)((function(){return e.content.ownerName})),v=Object(pa.b)((function(){return e.content.ownerURL})),h=Object(pa.b)((function(){var t=e.content.color;t.length||(t=null!==p&&void 0!==p&&p.length?Q(p):[208,208,224]);var n=e.content.color;n.length||(n=L(t));var i=G(t);return[Y(t),Y(n),Y(i)]})),b="img"===e.content.shareType?"Image":"zoneimg"===e.content.shareType?"Chat Zone":"text"===e.content.shareType?"Text":"screen"===e.content.shareType?"Screen":"";return Object(Ta.jsx)(pa.a,{children:function(){var n,i,o=Vl(e.content.type,e.fontSize),f=H(e.content.ownerName);return null!==(n=e.content.color)&&void 0!==n&&n.length&&(f[0]=Y(e.content.color)),null!==(i=e.content.textColor)&&void 0!==i&&i.length&&(f[1]=Y(e.content.textColor)),a&&(u=Qp(e.stores.contents.find(e.content.id))),Object(Ta.jsxs)(Ta.Fragment,{children:[Object(Ta.jsx)(Rr.a,{title:Object(Ta.jsxs)(Ta.Fragment,{children:[e.content.name,Object(Ta.jsx)("br",{}),e.content.ownerName]}),placement:"right",children:Object(Ta.jsxs)(Oa.a,{ref:s,className:t.line,style:{color:"#FFFFFF",margin:"1px 0 1px 10px",textTransform:"none",position:"relative",left:"5px",marginTop:"0px",top:"7px",height:c()?"75px":"40px"},onClick:function(){var t=ea.find(e.content.id);if(t)d.focusOn(t);else{ea.requestContent([e.content.id]);var n=Object(fe.c)((function(){var t=ea.find(e.content.id);t&&(d.focusOn(t),n())}))}},onContextMenu:function(){if(Qp(ea.find(e.content.id)))r(!0),d.keyInputUsers.add("contentForm");else{ea.requestContent([e.content.id]);var t=Object(fe.c)((function(){Qp(ea.find(e.content.id))&&(r(!0),d.keyInputUsers.add("contentForm"),t())}))}},children:[o,Object(Ta.jsxs)("div",{style:{position:"relative",color:"#FFFFFF",left:"5px",display:"flex",fontSize:c()?"2rem":"1rem"},children:[b,Object(Ta.jsx)("div",{style:{position:"relative",left:"5px",color:"#F7A76B"},children:""!==e.content.name?" ("+e.content.name+")":""})]}),""!==p?Object(Ta.jsx)("div",{style:{position:"absolute",width:"100%",right:c()?"25px":"20px",textAlign:"right",top:"5px"},children:Object(Ta.jsx)(gc,{border:!0,colors:h,size:c()?60:30,name:void 0!==p?p:"",avatarSrc:void 0!==v?v:""})}):""]})}),Object(Ta.jsx)(yu,Object(wn.a)(Object(wn.a)(Object(wn.a)({},l),{},{content:u},Dp(e)),{},{open:a,close:function(){r(!1),d.keyInputUsers.delete("contentForm")},anchorEl:s.current,anchorOrigin:{vertical:"top",horizontal:"right"}}))]})}})},Up=function(e){var t=e.stores.contents,n=Object(pa.b)((function(){var e=Array.from(t.all);return e.sort((function(e,t){var n=e.name.localeCompare(t.name);return 0===n&&(n=e.ownerName.localeCompare(t.ownerName)),0===n&&(n=e.type.localeCompare(t.type)),0===n&&(n=e.id.localeCompare(t.id)),n})),e})),i=0;n.filter((function(e){return"appimg"!==e.shareType})).map((function(e,t){return"appimg"!==e.shareType?i++:0}));var o=Object(pa.b)((function(){return t.editing})),a=pc({height:e.lineHeight,fontSize:e.fontSize}),r=Object(pa.b)((function(){return e.stores.participants})),s=n.map((function(t){return"appimg"!==t.shareType?Object(Ta.jsx)(Lp,Object(wn.a)(Object(wn.a)({content:t},e),{},{ap:r}),t.id):Object(Ta.jsx)(Ta.Fragment,{})})),l=te().t;return Object(Ta.jsxs)("div",{className:a.container,children:[Object(Ta.jsxs)("div",{className:a.title,style:{color:"#FFFFFF90",marginLeft:c()?"10px":"8px",padding:"10px",borderRadius:"5px",marginTop:"5px",userSelect:"text",fontWeight:"bold",fontSize:c()?"2rem":"1rem"},children:[l("Contents")," (",i.toString(),")",o?Object(Ta.jsxs)(Oa.a,{variant:"contained",size:"small",color:"secondary",style:{marginLeft:4,padding:3,height:"1.4rem",fontSize:"0.8"},onClick:function(){t.setEditing("")},children:[Object(Ta.jsx)(zp.a,{style:{fontSize:"1rem"}}),"\xa0",l("shareEditEnd")]}):void 0]}),s]})};Up.displayName="ContentList";var Gp=n(544),Yp=n(548),Hp=["close"],Wp=function(e){var t=te().t,n=Object(pa.b)((function(){var e,t,n=[],i=null===(e=Uo.sendTransport)||void 0===e||null===(t=e.appData)||void 0===t?void 0:t.stat;i&&n.push(i);var o=Array.from(Uo.remotePeers.values()).map((function(e){var t,n;return null===(t=e.transport)||void 0===t||null===(n=t.appData)||void 0===n?void 0:n.stat})).filter((function(e){return void 0!==e}));n.push.apply(n,Object(p.a)(o));for(var a=[],r={},s=[],c=function(){var e=u[l];for(var t in e)"turn"!==t&&"streams"!==t&&"localServer"!==t&&"remoteServer"!==t&&(r[t]?r[t]=r[t]+e[t]:r[t]=e[t]);if(e.remoteServer){var n=e.remoteServer.lastIndexOf(":"),i=e.remoteServer.substring(0,n),o=a.find((function(t){return t[0]===e.dir&&t[1].substring(0,n)===i}));if(o){var c=e.remoteServer.substring(n+1);o[1]+=",".concat(c)}else a.push([e.dir,e.remoteServer,e.turn]);s.push.apply(s,Object(p.a)(e.streams))}},l=0,u=n;l<u.length;l++)c();if(n.length){var d=r;d.fractionLost=d.fractionLost?d.fractionLost/n.length:void 0,d.jitter=d.jitter?d.jitter/n.length:void 0,d.quality=d.quality?d.quality/n.length:void 0,d.roundTripTime=d.roundTripTime?d.roundTripTime/n.length:void 0}var v=da.types.has("dataConnection")?void 0:config.bmRelayServer;return{transport:n.length?r:void 0,streams:s,servers:a,data:v}})),i=e.close,o=Object(me.a)(e,Hp);return Object(Ta.jsx)(Yp.a,Object(wn.a)(Object(wn.a)({},o),{},{disablePortal:!1,style:{zIndex:2},children:Object(Ta.jsxs)(Gp.a,{style:{background:"rgba(255,255,255,1)",padding:"0.4em"},children:[Object(Ta.jsxs)("div",{style:{overflowY:"auto"},children:[Object(Ta.jsx)("strong",{children:t("connectionStatus")}),Object(Ta.jsx)("br",{}),Object(Ta.jsxs)("div",{children:[" Data: ",n.data]}),0===n.servers.length?Object(Ta.jsx)("div",{children:"'No RTC server'"}):n.servers.map((function(e,t){return Object(Ta.jsxs)("div",{children:["RTC","send"===e[0]?"\u21d1":"\u21d3",":",e[1],e[2]?Object(Ta.jsxs)(Ta.Fragment,{children:[Object(Ta.jsx)("br",{}),"\xa0 via ",e[2]]}):void 0]},t)})),Object(Ta.jsx)(zu,{stat:n.transport,streams:n.streams})]}),Object(Ta.jsx)(Oa.a,{variant:"contained",color:"primary",style:{textTransform:"none",marginTop:"0.4em"},onClick:i,children:t("emClose")})]})}))},Jp=["lineHeight"],Kp=["localId","remoteIds","lineHeight","fontSize"],Vp=Object(_a.a)({iconEmoticon:function(e){return{position:"absolute",width:.6*e.size,height:.6*e.size,left:-.2*e.size,top:-.2*e.size,pointerEvents:"none",transform:"scale(1)",transition:"0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55)"}},iconEmoticonNone:function(e){return{position:"absolute",width:.6*e.size,height:.6*e.size,left:.1*e.size,top:0*e.size,pointerEvents:"none",transform:"scale(0)",transition:"0s ease-out"}}}),Xp=function(e){var t=e.stores.map,n=Object(pa.b)((function(){return e.participant.information.name})),o=Object(pa.b)((function(){return e.participant.information.avatarSrc})),r=Object(pa.b)((function(){return function(e){var t=e.color;t.length||(t=e.name.length?Q(e.name):[208,208,224]);var n=e.textColor;n.length||(n=L(t));var i=G(t);return[Y(t),Y(n),Y(i)]}(e.participant.information)})),s=Object(pa.b)((function(){return e.lineHeight})),l=pc({height:e.lineHeight,fontSize:e.fontSize}),u=ha.a.useState(!1),d=Object(i.a)(u,2),p=d[0],v=d[1],h=ha.a.useRef(null),b=(e.lineHeight,Object(me.a)(e,Jp)),f=Vp({size:c()?4*e.lineHeight:2.5*e.lineHeight}),m=Object(pa.b)((function(){return e.participant.quality})),g=Object(pa.b)((function(){var t,n=Array.from(e.stores.participants.remote.keys()).filter((function(t){return t!==e.stores.participants.localId})),o=Object(a.a)(n.entries());try{for(o.s();!(t=o.n()).done;){var r,s,c,l,u,d,p=Object(i.a)(t.value,1)[0];if(void 0===(null===(r=e.stores.participants.remote.get(n[p]))||void 0===r?void 0:r.closedZone))return"";if((null===(s=e.stores.participants.remote.get(n[p]))||void 0===s?void 0:s.id)===e.participant.id&&""!==(null===(c=e.stores.participants.remote.get(n[p]))||void 0===c||null===(l=c.closedZone)||void 0===l?void 0:l.name))return" ("+(null===(u=e.stores.participants.remote.get(n[p]))||void 0===u||null===(d=u.closedZone)||void 0===d?void 0:d.name)+")"}}catch(v){o.e(v)}finally{o.f()}})),A=Object(pa.b)((function(){var t,n=Array.from(e.stores.participants.remote.keys()).filter((function(t){return t!==e.stores.participants.localId})),o=Object(a.a)(n.entries());try{for(o.s();!(t=o.n()).done;){var r,s,c,l,u=Object(i.a)(t.value,1)[0];if(""===(null===(r=e.stores.participants.remote.get(n[u]))||void 0===r?void 0:r.trackStates.emoticon))return"";if((null===(s=e.stores.participants.remote.get(n[u]))||void 0===s?void 0:s.id)===e.participant.id&&""!==(null===(c=e.stores.participants.remote.get(n[u]))||void 0===c?void 0:c.trackStates.emoticon))return null===(l=e.stores.participants.remote.get(n[u]))||void 0===l?void 0:l.trackStates.emoticon}}catch(d){o.e(d)}finally{o.f()}})),j=Object(pa.b)((function(){return e.stores.participants.local.trackStates.emoticon})),O=Object(pa.b)((function(){var t,n,i;return void 0!==(null===(t=e.stores.participants.local.zone)||void 0===t?void 0:t.name)&&""!==(null===(n=e.stores.participants.local.zone)||void 0===n?void 0:n.name)?" ("+(null===(i=e.stores.participants.local.zone)||void 0===i?void 0:i.name)+")":""}));function y(){if(e.participant.physics.located)t.focusOn(e.participant);else{config.bmRelayServer&&Uo.dataConnection.pushOrUpdateMessageViaRelay(Rn.REQUEST_PARTICIPANT_STATES,[e.participant.id]);var n=Object(fe.c)((function(){e.participant.physics.located&&(t.focusOn(e.participant),n())}))}}function x(){if(e.participant.physics.located)v(!0),t.keyInputUsers.add("participantList");else{config.bmRelayServer&&Uo.dataConnection.pushOrUpdateMessageViaRelay(Rn.REQUEST_PARTICIPANT_STATES,[e.participant.id]);var n=Object(fe.c)((function(){e.participant.physics.located&&(v(!0),t.keyInputUsers.add("participantList"),n())}))}}return Object(Ta.jsxs)(Ta.Fragment,{children:[Object(Ta.jsx)(Rr.a,{title:Object(Ta.jsx)("span",{style:{fontSize:c()?"2rem":"1rem"},children:"".concat(e.participant.information.name," (").concat(e.participant.id,")")}),placement:"right",children:Object(Ta.jsxs)("div",{className:l.outer,style:{margin:"1px 0 1px 10px",position:"relative",left:"5px",marginTop:"0px",top:"7px"},children:[Object(Ta.jsxs)(Tr.a,{style:{margin:0,padding:0,marginTop:"5px",marginLeft:c()?"10px":"5px"},onClick:y,onContextMenu:x,children:[Object(Ta.jsx)(gc,{border:!0,colors:r,size:c()?3.2*s:2*s,name:n,avatarSrc:o}),Object(Ta.jsx)("img",{src:e.stores.participants.localId===e.participant.id?"smile"===j?gd:"hand"===j?jd:"clap"===j?Ad:void 0:"smile"===A?gd:"hand"===A?jd:"clap"===A?Ad:void 0,className:e.stores.participants.localId===e.participant.id?""===j?f.iconEmoticonNone:f.iconEmoticon:""===A?f.iconEmoticonNone:f.iconEmoticon,alt:""})]}),Object(Ta.jsxs)(Oa.a,{className:l.line,ref:h,style:{color:"#FFFFFF",textTransform:"none",marginLeft:"10px",marginTop:"10px",fontWeight:"bold",fontSize:c()?"2rem":"1rem",height:"30px"},onClick:y,onContextMenu:x,children:[n,Object(Ta.jsx)("div",{style:{color:"#EDA741",letterSpacing:"0px",position:"relative",marginLeft:"5px",fontSize:c()?"1.5rem":"1rem"},children:e.stores.participants.localId===e.participant.id?O:g})]}),Object(Ta.jsx)("div",{style:{position:"absolute",width:"10px",height:"10px",right:c()?"60px":"40px",marginTop:"5px"},children:void 0!==m&&m>80?Object(Ta.jsx)("img",{width:c()?"60px":"40px",height:c()?"60px":"40px",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAAC4jAAAuIwF4pT92AAABoklEQVR4nO3asc3TUBSA0RvEIP8a6TwKO2QAYIDswCaYKi0jZAQ2MBUSrSOC88E5jRs/+Uqf/Ipnn7ZtG5reHT0AjxMvTLww8cLECxMvTLww8cLECxMvTLww8cLECxMvTLww8cLECxMvTLww8cLECxMvTLww8cLECxMvTLww8cLECxMvTLyw90cPcLTrbXmbmbcdS35czuv350yzz38fb2Y+zMzHHfd/m5nlKZPsZNsMEy9MvDDxwsQLEy9MvDDxwsQLEy9MvLB/4mzzeluWmfm6Z83lvJ6eM83f480LEy9MvDDxwsQLEy9MvDDxwsQLEy9MvDDxwl7qYPp6Wz7tXPLlcl7vTxgl4aXizb4/l2dm1pm5//kxGmybYeKFiRcmXph4YeKFiRcmXph4YeKFiRcmXph4YeKFiRcmXph4Ya/2Jf3zzvvvv133rv1lffCZhztt23b0DDzIthkmXph4YeKFiRcmXph4YeKFiRcmXph4YeKFiRcmXph4YeKFiRcmXph4YeKFiRcmXph4YeKFiRcmXph4YeKFiRcmXph4YeKF/QQEgh1Eo89xKgAAAABJRU5ErkJggg==",draggable:!1,style:{userSelect:"none"},alt:""}):void 0!==m&&m<80&&m>50?Object(Ta.jsx)("img",{width:c()?"60px":"40px",height:c()?"60px":"40px",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAAC4jAAAuIwF4pT92AAABp0lEQVR4nO3csXETURRA0bfYEVUQ0QajCtyCW6ETWnAFVgP0QEYBRASedWAC0m8Q2mvOSZTojd7MHf3g70jbvu9D07trL8DriRcmXph4YeKFiRcmXph4YeKFiRcmXph4YeKFiRcmXph4YeKFiRcmXph4YeKFiRcmXph4YeKFiRcmXph4YeKFiRcmXtjttRe4pm3bbmbm/crMvu8/LrTOsv863ryE+7g48/USi7yGYzNMvDDxwsQLEy9MvDDxwsQLEy9MvDDxwt7E3ebTw2n13+9ON3eP50vs8i/55oWJFyZemHhh4oWJFyZemHhh4oWJFyZemHhhh7mYfno43c/Mh4WR81u4XP4Th4k3M/cz82lx5vz31+hwbIaJFyZemHhh4oWJFyZemHhh4oWJFyZemHhh4oWJFyZemHhh4oUd6Un6l1l7Mv77ez8vfta3X68/Z+b74uxhbPu++rtEjsKxGSZemHhh4oWJFyZemHhh4oWJFyZemHhh4oWJFyZemHhh4oWJFyZemHhh4oWJFyZemHhh4oWJFyZemHhh4oWJFyZemHhh4oU9A1m1HKAM8GK/AAAAAElFTkSuQmCC",draggable:!1,style:{userSelect:"none"},alt:""}):Object(Ta.jsx)("img",{width:c()?"60px":"40px",height:c()?"60px":"40px",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAAC4jAAAuIwF4pT92AAABqElEQVR4nO3ZMUrFQBRG4X9EtLIRGwtL3aa+nbgUN+AGtAlY2Nk8EF4h18YN3PBicvR8TZoZcuGQKSajqiKmk7UH0HzGAzMemPHAjAdmPDDjgRkPzHhgxgMzHpjxwIwHZjww44EZD8x4YMYDMx6Y8cCMB2Y8MOOBGQ/MeGDGAzMemPHAjAdmPDDjgZ2uPcDaxhhnSc4bW76q6nOpeTr+fbwkV0muG+v3SV4WmqXFYxPMeGDGAzMemPHAjAdmPDDjgRkPzHhgxgP7E3ebY4yLJHedPVX1vNA4v8YvD8x4YMYDMx6Y8cCMB2Y8MOOBGQ/MeGDGAzMe2KYupj9ubh+aWx4v316nBUZB2FS8JPfN9U9JpuOPweCxCWY8MOOBGQ/MeGDGAzMemPHAjAdmPDDjgRkPzHhgxgMzHpjxwIwHtrU/6bvm+unneUjyPvOd++b6w8z3HN2oqrVn0Ewem2DGAzMemPHAjAdmPDDjgRkPzHhgxgMzHpjxwIwHZjww44EZD8x4YMYDMx6Y8cCMB2Y8MOOBGQ/MeGDGAzMemPHAjAdmPDDjgRkP7BvKkh4pxeVM2gAAAABJRU5ErkJggg==",draggable:!1,style:{userSelect:"none"},alt:""})})]})}),e.participant.id===e.stores.participants.localId?Object(Ta.jsx)(Ku,{stores:e.stores,open:p,close:function(){v(!1),t.keyInputUsers.delete("participantList")},anchorEl:h.current,anchorOrigin:{vertical:"top",horizontal:"right"}}):Object(Ta.jsx)(Xd,Object(wn.a)(Object(wn.a)({},b),{},{open:p,close:function(){v(!1),t.keyInputUsers.delete("participantList")},participant:e.stores.participants.remote.get(e.participant.id),anchorEl:h.current,anchorOrigin:{vertical:"top",horizontal:"right"}}))]})},Zp=function(e){var t=ha.a.useState(!1),n=Object(i.a)(t,2),o=n[0],a=n[1],r=e.stores.participants,s=pc({height:e.lineHeight,fontSize:e.fontSize}),l=e.localId,u=e.remoteIds,d=e.lineHeight,p=e.fontSize,v=Object(me.a)(e,Kp),h=Object(wn.a)({lineHeight:d,fontSize:p},v);u.sort((function(e,t){var n=r.remote.get(e),i=r.remote.get(t),o=n.information.name.localeCompare(i.information.name,void 0,{sensitivity:"accent"});return 0===o&&(o=(n.information.avatarSrc||"").localeCompare(i.information.avatarSrc||"",void 0,{sensitivity:"accent"})),o}));var b=u.map((function(e){return Object(Ta.jsx)(Xp,Object(wn.a)({participant:r.remote.get(e)},h),e)})),f=Object(Ta.jsx)(Xp,Object(wn.a)({participant:r.local},h),l),m=ha.a.useRef(null);return Object(Ta.jsxs)("div",{className:s.container,children:[Object(Ta.jsxs)("div",{className:s.title,style:{color:"#FFFFFF90",marginLeft:c()?"14px":"8px",padding:"10px",borderRadius:"5px",marginTop:"5px",userSelect:"text",fontWeight:"bold",fontSize:c()?"2rem":"1rem"},ref:m,onClick:function(){a(!0)},children:[Uo.dataConnection.room," (",(r.remote.size+1).toString(),")"]}),Object(Ta.jsx)(Wp,Object(wn.a)(Object(wn.a)({open:o,close:function(){a(!1)}},v),{},{anchorEl:m.current})),f,b]})};Zp.displayName="ParticipantList";var qp=ha.a.memo((function(e){var t=Object(pa.b)((function(){return e.stores.participants.localId})),n=Object(pa.b)((function(){return Array.from(e.stores.participants.remote.keys())}));return Object(Ta.jsx)(Zp,Object(wn.a)(Object(wn.a)({},e),{},{localId:t,remoteIds:n}))})),_p={lineHeight:20,fontSize:16};var $p=Object.assign({},_p),ev=function(e){var t=dc(),n=Object(va.useState)(1),o=Object(i.a)(n,2),a=o[0],r=o[1],s=Object(pa.b)((function(){return e.stores.contents.all})),c=Object(pa.b)((function(){var t;return null===(t=e.stores.participants.local.zone)||void 0===t?void 0:t.mediaURL})),l=window.location.host.split("https://www.")[0],u=Object(cc.a)({onPinch:function(e){var t=Object(i.a)(e.da,2),n=t[0],o=t[1],s=(e.origin,e.event,e.memo);if(void 0===s)return[n,o];var c=Object(i.a)(s,1)[0];return function(e){Object.assign($p,_p),$p.fontSize*=e,$p.lineHeight*=e,r(e)}(function(e,t){var n=e*t;return n>4?4:n<.5?.5:n}(a,n>10?n/c:n<-10?c/n:1+(n-c)/10)),[n,o]}},{eventOptions:{passive:!1}}),d=Object(pa.b)((function(){return Dv})),p=Object(pa.b)((function(){return Bv}));return Object(Ta.jsx)("div",Object(wn.a)(Object(wn.a)({},u()),{},{children:"chat"===e.type?Object(Ta.jsxs)(ba.a,{split:"horizontal",defaultSize:"50%",resizerClassName:t.resizerHorizontal,paneStyle:{overflowY:"auto",overflowX:"hidden",width:"100%",minWidth:"280px"},children:[Object(Ta.jsx)(qp,Object(wn.a)(Object(wn.a)({},e),$p)),Object(Ta.jsx)(Sc,Object(wn.a)(Object(wn.a)({},e),$p))]}):"content"===e.type?Object(Ta.jsx)(ba.a,{split:"horizontal",defaultSize:"100%",resizerClassName:t.resizerHorizontal,paneStyle:{overflowY:"auto",overflowX:"hidden",width:"100%",minWidth:"280px"},children:Object(Ta.jsx)(Up,Object(wn.a)(Object(wn.a)({},e),$p))}):"twitch"===e.type?p<=-2?Object(Ta.jsx)(ba.a,{split:"horizontal",defaultSize:"100%",resizerClassName:t.resizerHorizontal,paneStyle:{overflowY:"auto",overflowX:"hidden",width:"100%",minWidth:"280px"},children:Object(Ta.jsx)("iframe",{src:c+"&parent="+l+"&autoplay=true",title:e.type,allowTransparency:!0,frameBorder:0,style:{width:"100%",height:"100%"},allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"})}):Object(Ta.jsx)(Ta.Fragment,{}):Object(Ta.jsx)(Ta.Fragment,{children:s.filter((function(e){return"appimg"===e.shareType})).map((function(e){return d===e.type&&-2===p?Object(Ta.jsx)(ba.a,{split:"horizontal",defaultSize:"100%",resizerClassName:t.resizerHorizontal,paneStyle:{overflowY:"auto",overflowX:"hidden",width:"100%",minWidth:"280px"},children:Object(Ta.jsx)("iframe",{src:e.url,title:e.type,allowTransparency:!0,frameBorder:0,style:{width:"100%",height:"100%"}})}):Object(Ta.jsx)(Ta.Fragment,{})}))})}))};ev.displayName="LeftBar";var tv=Object(_a.a)({videoContainer:{height:"100%",width:"100%",backgroundColor:"none"},video:{marginLeft:"auto",marginRight:"auto",display:"block",width:"100%"}}),nv=function(e,t){e.srcObject=t,e.autoplay=!0},iv=function(e){var t=tv(),n=Object(pa.b)((function(){return e.stores.contents.mainScreenStream})),o=Object(va.useRef)(null);Object(va.useEffect)((function(){o&&o.current&&nv(o.current,n||null)}),[n]);var a=Object(va.useState)(),r=Object(i.a)(a,1)[0],s=Object(va.useRef)({});s.current.debugVideos=r;var c=Object(va.useRef)([]);if(e.showAllTracks){for(;c.current.length<(r?r.length:0);)c.current.push(ha.a.createRef());c.current.forEach((function(e,t){e.current&&r&&t<r.length&&nv(e.current,r[t].stream)}))}Object(va.useEffect)((function(){var e;null!==(e=s.current)&&void 0!==e&&e.interval&&(clearInterval(s.current.interval),s.current.interval=void 0)}),[e.showAllTracks]);var l=e.showAllTracks&&r?r.map((function(e,t){return Object(Ta.jsxs)("div",{style:{display:"inline-block",position:"relative",verticalAlign:"top"},children:[Object(Ta.jsx)("video",{style:{width:300},ref:c.current[t]}),Object(Ta.jsx)("div",{style:{position:"absolute",left:0,top:0,color:e.color,whiteSpace:"pre-wrap"},children:e.label})]},t)})):void 0;return Object(Ta.jsxs)("div",{className:t.videoContainer,children:[Object(Ta.jsx)("video",{ref:o,className:t.video,style:{visibility:n?"visible":"hidden"}}),Object(Ta.jsx)("div",{style:{position:"absolute",left:0,top:0},children:l})]})};iv.displayName="MainScreen";var ov=function(e){var t=e.stores.participants,n=t.find(e.participantId),o=Object(pa.b)((function(){return n.mouse.position})),a=Object(pa.b)((function(){return n.information.name})),r=n.getColor(),s=Object(i.a)(r,1)[0];if(!o)return Object(Ta.jsx)("div",{});var c=e.participantId===t.localId,l=Object(Ta.jsx)("div",{style:{width:18,height:30,left:o[0],top:o[1],position:"absolute",pointerEvents:c?"none":"auto",zIndex:c?6e3:n.zIndex+4e3},children:Object(Ta.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 60 100",children:Object(Ta.jsx)("polygon",{points:"32,100 53,92 36,57 60,56 0,0 0,81 16,65 32,100",stroke:"black",fill:s,strokeWidth:"6"})})});return c?l:Object(Ta.jsx)(Rr.a,{title:a,children:l})},av=function(e){return Object(Ta.jsx)(kd,Object(wn.a)(Object(wn.a)({},e),{},{isLocal:!1,isPlayback:!0}))},rv=function(e){var t=Math.min(e.start[0],e.end[0]),n=Math.min(e.start[1],e.end[1]),i=Math.abs(e.start[0]-e.end[0]),o=Math.abs(e.start[1]-e.end[1]);return Object(Ta.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",left:t,top:n,width:i,height:o,pointerEvents:"stroke"},viewBox:"0, 0, ".concat(i,", ").concat(o),onClick:function(){e.stores.participants.yarnPhones.delete(e.remote),e.stores.participants.yarnPhoneUpdated=!0},children:Object(Ta.jsx)("line",{x1:e.start[0]-t,y1:e.start[1]-n,x2:e.end[0]-t,y2:e.end[1]-n,stroke:"black"})})},sv=function(e){var t=e.stores.participants,n=Object(pa.b)((function(){var e=Array.from(t.remote.values()).filter((function(e){return e.physics.located})),n=Array.from(e);n.push(t.local),n.sort((function(e,t){return e.pose.position[1]-t.pose.position[1]}));for(var i=0;i<n.length;++i)n[i].zIndex=i+1;return e})),i=Object(pa.b)((function(){return t.localId})),a=n.map((function(t){return Object(Ta.jsx)(np,{stores:e.stores,participant:t,size:ae},t.id)})),r=Object(Ta.jsx)(Vd,{participant:t.local,size:ae,stores:e.stores},"local"),s=Object(pa.b)((function(){return Array.from(t.yarnPhones).map((function(n){var i=t.local.pose.position,o=t.remote.get(n);if(o){var a=o.pose.position;return Object(Ta.jsx)(rv,{start:i,end:a,remote:n,stores:e.stores},n)}}))})),c=Object(pa.b)((function(){return Array.from(t.playback.keys())})).map((function(n){return Object(Ta.jsx)(av,{stores:e.stores,participant:t.playback.get(n),size:ae},n)})),l=Object(pa.b)((function(){return Array.from(t.remote.keys()).filter((function(e){return t.find(e).mouse.show}))})).map((function(t){return Object(Ta.jsx)(ov,{participantId:t,stores:e.stores},"M_".concat(t))})),u=Object(pa.b)((function(){return t.local.mouse.show}))?Object(Ta.jsx)(ov,{participantId:i,stores:e.stores},"M_local"):void 0;return null!==o.testBot?Object(Ta.jsx)("div",{}):Object(Ta.jsxs)("div",{style:{position:"absolute",zIndex:32767},children:[s,c,a,r,l,u]})};sv.displayName="ParticipantsLayer";var cv=function(e){var t=e.stores.map;function n(e){(function(e,t){return new Promise((function(n,i){null!==e&&void 0!==e&&e.types.includes("Files")?function(){for(var o=Array.from(e.items),a=[],r=[],s=function(){var e=l[c],s=e.getAsFile();if("file"===e.kind&&s){var u=void 0;-1!==e.type.indexOf("image")?u=ai:"application/pdf"===e.type&&(u=ci),u&&u(s,t).then((function(e){e.name=s.name,a.push(e),a.length+r.length===o.length&&(a.length?n(a):i(r))})).catch((function(e){r.push(e),a.length+r.length===o.length&&(a.length?n(a):i(r))}))}else r.push("Creator not found.")},c=0,l=o;c<l.length;c++)s()}():null!==e&&void 0!==e&&e.types.includes("text/plain")?e.items[0].getAsString((function(e){ui(e,t,0,0,"").then((function(e){return n([e])})).catch(i)})):(console.error("Unhandled content types:",null===e||void 0===e?void 0:e.types),i("Unhandled content types:".concat(null===e||void 0===e?void 0:e.types)))}))})(e,t).then((function(e){var t,n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;ea.shareContent(i)}}catch(o){n.e(o)}finally{n.f()}}))}Object(va.useEffect)((function(){window.document.body.addEventListener("paste",(function(e){var i;i=e,ea.pasteEnabled&&0===t.keyInputUsers.size&&i.clipboardData&&(i.preventDefault(),n(i.clipboardData))}),{passive:!1}),window.document.body.addEventListener("drop",(function(e){var t;(t=e).preventDefault(),t.stopPropagation(),t.dataTransfer&&n(t.dataTransfer)}),{passive:!1}),window.document.body.addEventListener("dragover",(function(e){var t;e.preventDefault(),e.stopPropagation(),null!==(t=e.dataTransfer)&&void 0!==t&&t.dropEffect&&(e.dataTransfer.dropEffect="copy")}),{passive:!1})}),[]);var i=Object(pa.b)((function(){return ea.pasted}));return Object(Ta.jsx)(Sp,Object(wn.a)(Object(wn.a)({},e),{},{hideAll:""===i.type,content:i,onShare:function(e){i.zorder=Math.floor(Date.now()/Nn),i.pinned=!0,ea.addLocalContent(ke.a.cloneDeep(i)),ea.setPasted(ti())},onClose:function(e){ea.setPasted(ti()),e.stopPropagation()},updateAndSend:function(e){ea.setPasted(e)},updateOnly:function(e){ea.setPasted(e)}}))},lv=["transparent"],uv=Object(_a.a)({slContainer:{userDrag:"none",userSelect:"none"}}),dv=ha.a.memo((function(e){var t=e.stores.contents,n=uv(),i=(e.transparent,Object(me.a)(e,lv));return Object(Ta.jsxs)("div",{className:n.slContainer,children:[Object(Ta.jsx)(pa.a,{children:function(){var n=Array.from(t.all),o=e.transparent?n.filter((function(e){return!Ln(e)})):n;return Object(Ta.jsx)(Ta.Fragment,{children:o.map((function(e){return Object(Ta.jsx)(Bp,Object(wn.a)({content:e},i),e.id)}))})}}),Object(Ta.jsx)(cv,Object(wn.a)({},i))]})}),(function(e,t){return ke.a.isEqual(e.stores.contents.all,t.stores.contents.all)&&e.transparent===t.transparent}));dv.displayName="ShareLayer";var pv=Object(_a.a)({img:function(e){return e.transparent?{display:"none"}:{position:"absolute",top:-2500,left:-2500,backgroundColor:Y(e.fill),height:Ce,width:Ce}},logo:function(e){return e.transparent?{display:"none"}:{position:"absolute",top:0,right:0,bottom:0,left:0,margin:"auto",height:"10em",userDrag:"none",userSelect:"none",pointerEvents:"none"}}}),vv=function(e){var t=e.stores.roomInfo,n=Object(wn.a)({color:[0,0,0],fill:[0,0,0]},e);Object(pa.b)((function(){n.color=t.backgroundColor,n.fill=t.backgroundFill}));var i=pv(n);return Object(Ta.jsx)(pa.a,{children:function(){return Object(Ta.jsx)("div",{className:i.img})}})};vv.displayName="Background";var hv=function(e){return Object(Ta.jsxs)(lp,Object(wn.a)(Object(wn.a)({},e),{},{children:[Object(Ta.jsx)(vv,Object(wn.a)({},e)),Object(Ta.jsx)(dv,Object(wn.a)({},e)),Object(Ta.jsx)(sv,Object(wn.a)({},e))]}))};hv.displayName="Map";var bv="data:image/png;base64,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",fv=n(334),mv=n.n(fv),gv=n(335),Av=n.n(gv),jv=n(143),Ov=n.n(jv),yv=n(142),xv=n.n(yv),Cv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAAC4jAAAuIwF4pT92AAAER0lEQVR4nO2c0ZHbNhCGv8vk/ZgKrFTgSwVHVxClA6aDlOAS7ArCEnQVWOpA6cCuwGIFzAOoOVoWbYCkbvef229Gc/cgCDv4BGAJAbjr+55Ak1+sAwjmE/KECXnChDxhQp4wIU+YkCdMyBMm5AkT8oQJecKEPGFCnjAhT5iQJ0zIEybkCRPyhAl5woQ8YUKeMCFPmJAnTMgTJuQJE/KECXnChDxhQp4wIU+YX60DWIEKqIGH4e8GeHPlfV+Az8AeOA5/TzeP7obcCZ/Pa4At8OeCz3gCdkC7Qjwvjpq8CvhneN2v+Lkd8GF4yfRGJXlbUuNeGxLXoiN9Mdob1rEaCvIqUmMuGR5LOZC+LK57oXd5D6TEYs0hMpeOlAAdDerOwvOjwhY7cQz17kmJkUu89rwG+Nc6iBF/43Ae9CjPcqicwuUQ6k1eRXqQ9iTuTEdaAHCTxHib83b4FAcprp11EGM8yWuAR+sgfsIjjhIYL8Om5+HyEjfDp5eet/Zy1y25J8Vrjpeed0JHHqTeV1kH4eEnoYZ8cV9IScOJlLqvMUceSI8mFWlhIGft9J4Ud7tC/fPp+976tevzOPZ9X12UbTLLTtFcfF411JPDrn+5Nrr6sh42K+Br5nt/43qSsGdeDzyQeu8tYnoRrBOWOvN9B6YbqZ1Z91S501BfDvXMulfBWt6Dcf1LMY3fWl6d+b5Hphtqbto+VW5D/jBcz6x7FazllaTbLalhx2Vb4O3Mut8O5ccxbChbAjN9XLBOWOZU/kRajclN63/G+fHj/KhQ+rx5t0IMs1CU5w0zedbDZrCAkCdMyBPGWt5/xvUvxTR+a3nmv4ktxDR+a3l74/qXsres3Fqeq91YMzCN3/o5r2QF3yOv+leFE2nFpISPwDvWSxY60q8IpXE88crnPCjfTrcjzTVbUsMvoeP5UOb7GXGYYj1sninZw/I7aW0TUqN/WlDvO75NOnIbw8UeFg89D9K5u1ya0f974A/Ke2DH9+LeF5Qvifd2WO/DGO0dOWXuHen7vt9eKd9mlm377/fC1AV1n66Uf5V7WMY05J8Mmjr4Mb5c4IHnzbyfmb5EoPRgi5sTQ57kQdlmojWOINeUnY+Y2rRkgpc570xJBnlP6qkfKE8eqqHcJ/LFdUN8bvDW82De+byO1ANbfrzqsSENz6Xb6+N8XgEN80/Gni/LOfI8v21IjT9324SbeW6MV3mQhqgW2zMMrq/28CwP4jaIH+ItYbnkSBryStcdl3IY6nUrDvzLgzRvbYG/SPPZLelI81uNwA/F3ofNS853jzWse41V3D32wjTErX+y8sbUPC+LVVxfpTmf/NkT920G1igkLMEEIU+YkCdMyBMm5AkT8oQJecKEPGFCnjAhT5iQJ0zIEybkCRPyhAl5woQ8YUKeMCFPmJAnTMgTJuQJE/KECXnChDxhQp4wIU+YkCdMyBMm5AkT8oT5H16yz3SnsLABAAAAAElFTkSuQmCC",wv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAAC4jAAAuIwF4pT92AAAFYElEQVR4nO2c7XWjRhRA7+bkv7UVWB2sUoGVCuytIGwFdipYtoIoFYTtQFuBUQVRKgiqIHIFkx8PHRAGBAg086R3z+EYYRjmcDVvPtEH5xyGTn7ynQFjOCZPMSZPMSZPMSZPMSZPMSZPMSZPMSZPMSZPMSZPMSZPMSZPMSZPMSZPMSZPMSZPMSZPMSZPMSZPMSZPMSZPMSZPMSZPMSZPMT/7zkAP5kAE7IGV15wEgiZ5K+Ax398Dib+shIGmsDkr7Ue+MhESmuSlpf0HjmXeJJrkrSufn7zkIiBCkbcAlrSXpi2wK302eb4zkLMCXoH/aK/PyqXvkRsPnaHIy0r7f9EsMKl8vunSF4q8an3WJLAaOpcT5UcFIcn7UjnWJDAp7W8nyo8KPgT2TnqESCvzhffhcomEzJfJcxQwocmD7gK7Ms+3LTIyczWEEjbLJNSH0CGNkwj4l6IlmyAir4IQ5UG9wGhAOtUB7N+QEhjTr5sRIyM8KSG1cJ1zPrZFvp06L3IFyYlzl865rXMuy88tX1tH5px76pCHuObapafndrT5uGlSeYAr1y5y7kREW5rzmgfclfTE/dOaa9YjPo/Bm4+wWQ5X98Az8DfFNM+ycn7G6cbKOSMtD/n9Vz3SeSSAutOHvAR4qzl+h9RJr/RvWW6Bj0g9WZd2F56RL0q1+9HUl4wG3mc8PBb7KA8/TcwHpjt3Uvedw9YV9dqi4ZxsYP5G27zH7Xx7clIXZvmD2TvnZvn/Zq4QnbrjRsaydDwuXbPI0ziXtWv/MnRp8Ey2hdhJr7IFPlWOfUbqyNfK8Q1FnfkC/DFSHnZI/VzlBx67DqHLW/JeEEi9lvFeKsA3pF8G0i97GD9bR3zE08hNqJ30U9xRLw7gKzK5C9KoGNqA6Uo0cfqNhC4vG3jdGmn2Z0z/cL0NjmuQ9+eA6+4pQucaqZum4p6ipF+U0OWBPPwhoe+ZovESDUyjK15KX8gNlggZ9bg7I403ZCRkT3vj59ARn9Fcl3a9z+Xw2U9p2WZunH6ac8fjkKvS8b1z7sUVfcNy33FIJz9yl31GwcpbDnh4bRw60zMnAwF71z4YPXP9BV58sFpDnTcGCcfhc0ERKuP8uEP6hYfz+na+H0+fMjKX/rb02M4dn6yS1twjrjlvW/p/0vMeVvJyxm7BPdSkWVe6PlG0UrOR8zAqIctLkaGuMYk57pMNaVk2MWVfspaQ5YE87H9GTO+O6d7riydKt5FQ5c2QkucYt3SQpxcz7nsO3/GwADjUN2PXTDsb8JV2eVnP9OLBOTmDUEve1NM4IMNnTWT533mHdL7hqWETqrxQmJ/4/w6PP24QqryN7wx0JMLjEvpQ5UVMP4naxO70KYBMVaUT5uMkocrL8NQI4Lj+aqp7vxPAG0qhygOpS3yHz2rH+wey+Cm6fFbeE/J8HhRLGc6Z0+tLeQVa0IRc8kAaA9GF76nmbdvQ5cH0a1CqqHkBU4M8kNLXtRV4M2iRd8nwaSVvAlKGLQPsi9V5ExEz7hSRakLvKtSxQF6GnApv7x70RVvJAwlrY8+wH9igRBzoLHkHUsafOvoVz+OVfdBY8g5EjDd4/Ya8Ep2OlN5F0CwvY5zB4R0yHJaMkNZF0Rw2D6wZvuB1gyz/U1PPlbkGeUMHr39H+U/8aw6bBw5L2LvWfxvgF5SLg+uQB9J9mCOTpE3skEbJEkWjKG1cQ9isMkfqsfLSvi3vf01XPdco72a4lrB5k5g8xZg8xZg8xZg8xZg8xZg8xZg8xZg8xZg8xZg8xZg8xZg8xZg8xZg8xZg8xZg8xZg8xZg8xZg8xZg8xZg8xZg8xZg8xZg8xfwPFgG9kH+DJH4AAAAASUVORK5CYII=",Sv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAAC4jAAAuIwF4pT92AAADY0lEQVR4nO3c7VEaURiG4dtM/ksH2oGkAkkFsYOQDkgHSQVqBdEOtAJJBcEOpIJIBeTHyw4fsyxLkN33WZ9rxnECBs54s2fPrgsn8/kc0/Sh7QHY/3M8YY4nzPGEOZ4wxxPmeMIcT5jjCXM8YY4nzPGEOZ4wxxPmeMIcT5jjCXM8YY4nzPGEOZ4wxxPmeMIcT5jjCXM8YY4nzPGEdSneALgDxovvg9ZG0pCTjrxLaAj8Krn9GxGyk7oQrwf83XLfbHF/J3Vh2ryquO+UDk+fH9sewJ7OWcZ6AF4Wt71LSvGGrO/Xrol92rulEq8H3JTcfkNsgXWcEy8AgFdiIfN64LhapbJgGQBPW+6bAmcV//czEW5zNTpbPO7ksKG1R2XB0q+4ryocbN9qT6m/1aakEu+Q5f6ACFXmjOoXRmoq8Q6xK47scWC2BUsPGLE8NhtTPuUZ+eI9AJcr/74kjuuk903Hkilen/VwhQvEl/THkmmfN2h7AGoyxZNdOLQlUzzbk+MJczxhjifM8YQ5njCVeIccRpQd+HeCSryLFp6zOM86AeaLrzGJjkdV4jVtRFwfc836C+eSRCfKM53bzKBHXB7xpeJnqq5Wa5TjrRuze4pOc5Lc0+bSHfX2rXfHHUZ9jheGwNcaP/cM/DjqSPbgaXO/cIOjjmRP3vLqhZsRkdPs78Dx6hqS8PpOx9vtlqTX0DhetSmJFiibHK/akGT7uVWOt90tcdCeluOVm5F4uiw4XrkRiafLQqZ4WZbiv0l0CqxKpnhZXumjtgdQV6Z4GdySZwbYKds7Y9sczIx4B22WGWCnbFvec4vPLbFIWZUt3ril55VZpKzKNm32gT8tPO8nhPZ1hWxb3oTYCpr0E8FwkG/Lg+qP7XhrjyS6oGhf2bY8iP3efQPP88zyQ3UkZYwHsfI75srzntjCpVaXm7LGeyV+uY9v/Lgz4DvJ/9RTV9Z4EL/cK+LD4aZv8Hj3xGo2zRXPh8q4YNlmSMSsupp505S4hOGGuHy9U5TireoTp7KKTzc6Jy5VL5b8k8XXS8PjapRqPCP3Ps92cDxhjifM8YQ5njDHE+Z4whxPmOMJczxhjifM8YQ5njDHE+Z4whxPmOMJczxhjifM8YQ5njDHE+Z4whxPmOMJczxhjifM8YT9AzPOgalOo8+wAAAAAElFTkSuQmCC",kv={"&":{margin:"5px",borderRadius:"50%",width:c()?"100px":"45px",height:c()?"90px":"45px",textAlign:"center"}},Iv=Object(_a.a)({emoticon:Object(wn.a)({height:50,position:"relative",cursor:"pointer",backgroundColor:"#9e886c",right:0},kv),emoticonActive:Object(wn.a)({display:"block",height:50,position:"relative",cursor:"pointer",backgroundColor:"#ef4623",right:0},kv),container:{position:"absolute",width:"30%",bottom:15,right:0,padding:0,outline:"none",pointerEvents:"none"},wrapper:{width:"100%"},wrapperInner:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-end"}}),Tv=Object(V.a)((function e(){Object(X.a)(this,e),this.timeoutOut=void 0,this.touched=!1})),Ev=function(e){var t=e.stores,n=t.map,o=t.participants,a=ha.a.useState(!1),r=Object(i.a)(a,2),s=r[0],l=r[1],u=ha.a.useState(!1),d=Object(i.a)(u,2),p=d[0],v=d[1],h=ha.a.useState(!1),b=Object(i.a)(h,2),f=b[0],m=b[1],g=Object(va.useRef)(new Tv).current,A=Object(va.useRef)(null),j=Iv();function O(){return n.screenSize[1]-(n.mouse[1]-n.offset[1])<90}var y=Object(pa.b)(O);return Object(va.useEffect)((function(){O()&&(g.touched=!0),function(e){if(e){var t;g.timeoutOut&&(clearTimeout(g.timeoutOut),g.timeoutOut=void 0),null===(t=A.current)||void 0===t||t.focus()}else g.timeoutOut||(g.timeoutOut=setTimeout((function(){g.timeoutOut=void 0}),500))}(y||!g.touched)}),[y,g.touched]),Object(va.useEffect)((function(){var e=function(e){};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),ha.a.useMemo((function(){var e=55;return Object(Ta.jsx)("div",{ref:A,className:j.container,children:Object(Ta.jsxs)(Va.a,{in:!0,classes:j,children:[Object(Ta.jsx)(Nr,{size:c()?100:45,onClick:function(){!function(){o.local.emoticon="",m(!1),v(!1);var e=setTimeout((function(){clearTimeout(e),s?(o.local.emoticon="",l(!1)):(o.local.emoticon="smile",l(!0))}),100)}()},children:s?Object(Ta.jsx)("div",{className:j.emoticonActive,children:Object(Ta.jsx)("img",{src:Cv,style:{width:e,height:e,position:"relative",top:c()?"17px":"-5px",left:c()?"0px":"-5px",transform:c()?"scale(2)":"scale(1)"},alt:""})}):Object(Ta.jsx)("div",{className:j.emoticon,children:Object(Ta.jsx)("img",{src:Cv,style:{width:55,height:55,position:"relative",top:c()?"17px":"-5px",left:c()?"0px":"-5px",transform:c()?"scale(2)":"scale(1)"},alt:""})})}),Object(Ta.jsx)(Nr,{size:c()?100:45,onClick:function(){!function(){o.local.emoticon="",m(!1),l(!1);var e=setTimeout((function(){clearTimeout(e),p?(o.local.emoticon="",v(!1)):(o.local.emoticon="clap",v(!0))}),100)}()},children:p?Object(Ta.jsx)("div",{className:j.emoticonActive,children:Object(Ta.jsx)("img",{src:wv,style:{width:e,height:e,position:"relative",top:c()?"17px":"-5px",left:c()?"0px":"-5px",transform:c()?"scale(2)":"scale(1)"},alt:""})}):Object(Ta.jsx)("div",{className:j.emoticon,children:Object(Ta.jsx)("img",{src:wv,style:{width:55,height:55,position:"relative",top:c()?"17px":"-5px",left:c()?"0px":"-5px",transform:c()?"scale(2)":"scale(1)"},alt:""})})}),Object(Ta.jsx)(Nr,{size:c()?100:45,onClick:function(){!function(){o.local.emoticon="",v(!1),l(!1);var e=setTimeout((function(){clearTimeout(e),f?(o.local.emoticon="",m(!1)):(o.local.emoticon="hand",m(!0))}),100)}()},children:f?Object(Ta.jsx)("div",{className:j.emoticonActive,children:Object(Ta.jsx)("img",{src:Sv,style:{width:e,height:e,position:"relative",top:c()?"17px":"-5px",left:c()?"0px":"-5px",transform:c()?"scale(2)":"scale(1)"},alt:""})}):Object(Ta.jsx)("div",{className:j.emoticon,children:Object(Ta.jsx)("img",{src:Sv,style:{width:55,height:55,position:"relative",top:c()?"17px":"-5px",left:c()?"0px":"-5px",transform:c()?"scale(2)":"scale(1)"},alt:""})})})]})})}),[s,p,f])};Ev.displayName="Emoticons";var Mv={"&":{margin:"5px",borderRadius:"50%",width:"250px",height:"243px",textAlign:"center",overflow:"hidden",top:"1px",PointerEvent:"none"}},Pv=Object(_a.a)({tapBroadcast:{display:"block",width:"265px",position:"relative",left:"-10px",textAlign:"center",color:"#FFFFFF",fontWeight:"bold",fontSize:"20px",textShadow:"1px 1px #000, -1px 1px #cdcdcd, -1px -1px #cdcdcd, 1px -1px #cdcdcd"},tapBroadcastText:{display:"block",width:"265px",position:"relative",top:"-20px",left:"-10px",textAlign:"center",color:"#FFFFFF",fontWeight:"bold",fontSize:"20px",textShadow:"1px 1px #000, -1px 1px #cdcdcd, -1px -1px #cdcdcd, 1px -1px #cdcdcd"},hidetapBroadcast:{display:"none"},fab:{display:"none",opacity:0,transition:"opacity 0.3s ease-out"},fabActive:{display:"block",opacity:1,transition:"opacity 0.3s ease-out"},vidicon:Object(wn.a)({display:"none",height:50,position:"relative",backgroundColor:"black",transform:"rotateY(180deg)",right:0},Mv),vidiconActive:Object(wn.a)({display:"block",height:50,position:"relative",alignItems:"center",backgroundColor:"black",transform:"rotateY(180deg)",right:0},Mv),container:{position:"absolute",width:"30%",top:"0%",right:10,padding:0,outline:"none",pointerEvents:"none"},wrapper:{width:"100%"},wrapperInner:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-end"}}),Rv=function(e){var t,n,o=e.stores.participants,r=o.local.getColorRGB(),s=rc,l=Array.from(o.remote.keys()).filter((function(e){return e!==o.localId})),u=0,d=Object(a.a)(l.entries());try{for(d.s();!(n=d.n()).done;){var p,v=Object(i.a)(n.value,1)[0];void 0!==(null===(p=o.remote.get(l[v]))||void 0===p?void 0:p.tracks.avatarStream)&&(u=v)}}catch(K){d.e(K)}finally{d.f()}var h=e.stores.participants,b=Object(pa.b)((function(){return Array.from(h.remote.keys()).filter((function(e){var t=h.find(e);if(void 0!==t.tracks.avatarStream)return t}))})),f=ha.a.useState(b),m=Object(i.a)(f,2),g=m[0],A=m[1];if(b.length!==g.length){var j=b.filter(y(g)),O=g.filter(y(b));A(0===b.length?[]:j.concat(O))}function y(e){return function(t){return 0===e.filter((function(e){return e===t})).length}}var x=Object(pa.b)((function(){return Boolean(o.local.showVideo)})),C=Object(pa.b)((function(){var e;return Boolean(null===(e=o.remote.get(g[g.length-1]))||void 0===e?void 0:e.showVideo)})),w=null===(t=o.remote.get(g[g.length-1]))||void 0===t?void 0:t.getColorRGB(),S=Object(pa.b)((function(){return o.local.tracks.avatarStream})),k=Object(pa.b)((function(){var e;return null===(e=o.remote.get(g[g.length-1]))||void 0===e?void 0:e.tracks.avatarStream})),I=!x||o instanceof bn?!C||o instanceof bn?void 0:k:S,T=I&&o instanceof bn?o.videoBlob:void 0,E=ha.a.useState(!1!==x||!1!==C),M=Object(i.a)(E,2),P=M[0],R=M[1],D=ha.a.useState(!0),B=Object(i.a)(D,2),N=B[0],z=B[1],F=Object(va.useRef)(null),Q=Object(va.useState)(1),L=Object(i.a)(Q,2),U=L[0],G=L[1],H=Object(va.useRef)(null);if(void 0===I){var W="";W="GOING LIVE...",!1===s?W="STREAM OFF":x?N&&z(!1):C?W="":(W="STREAM OFF",!1===N&&(setTimeout((function(){var e=U;e<=8&&G(e+=1)}),500),U>=6&&(G(1),z(!0))))}else W="";var J=Pv();return Object(va.useEffect)((function(){return null!==(null===F||void 0===F?void 0:F.current)&&(!function(e,t,n,i,o){if(t)e.srcObject=t;else if(n){var a=URL.createObjectURL(n);e.src=a}e.autoplay=!0,e.onloadedmetadata=function(){var t={width:350,height:350};void 0!==t.width&&void 0!==t.height?e.className=t.width>=t.height?i:o:(console.error("video stream width || height is undefined"),e.className=i)}}(F.current,I,T,"300","300"),R(!1!==x||!1!==C)),function(){!1===x&&G(1)}})),Object(va.useEffect)((function(){return function(){}}),[]),Object(Ta.jsx)(pa.a,{children:function(){var e,t;return Object(Ta.jsx)("div",{ref:H,className:J.container,children:Object(Ta.jsxs)(Va.a,{in:!0,classes:J,children:[Object(Ta.jsx)(Nr,{size:250,className:!1!==x||!1!==C||!1===N?J.fabActive:J.fab,onClick:function(){},children:Object(Ta.jsx)("div",{className:P?J.vidiconActive:J.vidicon,children:Object(Ta.jsx)("video",{ref:F,style:{width:"350px",height:"350px",position:"absolute",marginTop:"-50px",marginLeft:"-150px"}})})}),Object(Ta.jsx)("div",{style:!1===N&&void 0===I?{width:"240px",height:"243px",borderRadius:"50%",top:"12.5px",right:"20.7px",position:"absolute",backgroundColor:"black",opacity:1,transition:"opacity 0.3s ease-out"}:{width:"240px",height:"243px",borderRadius:"50%",top:"12.5px",right:"20.7px",position:"absolute",backgroundColor:"black",opacity:0,transition:"opacity 0.3s ease-out"},children:Object(Ta.jsx)("p",{style:"GOING LIVE..."===W||void 0!==I?{display:"none"}:{display:"block",position:"absolute",color:"red",top:"235px",width:"250px",textAlign:"center",fontSize:"20px",fontWeight:"bold"}})}),Object(Ta.jsxs)("div",{style:{height:"50px",width:"150px",textAlign:"center",position:"relative",left:"-66px",verticalAlign:"middle",display:"flex",flexDirection:"row",whiteSpace:"nowrap",marginTop:"-50px",color:"white",overflow:"hidden"},children:[Object(Ta.jsx)("img",{style:{position:"relative",display:"STREAM OFF"!==W?"block":"none",width:"25px",height:"25px",marginTop:"0px",marginLeft:"35px",backgroundColor:x?Y(r):void 0!==w?Y(w):void 0,borderRadius:"50%"},src:x?o.local.information.avatarSrc:null===(e=o.remote.get(l[u]))||void 0===e?void 0:e.information.avatarSrc,alt:""}),Object(Ta.jsx)("p",{style:{position:"relative",marginTop:"4px",marginLeft:"4px",overflow:"hidden",display:"STREAM OFF"!==W?"block":"none",fontSize:c()?"2rem":"1rem",fontWeight:"bold"},children:x?o.local.information.name:null===(t=o.remote.get(l[u]))||void 0===t?void 0:t.information.name})]}),Object(Ta.jsx)("div",{className:x||0===b.length||!1===s?J.hidetapBroadcast:J.tapBroadcast,children:"TAP TO GO LIVE"}),Object(Ta.jsx)("p",{className:"STREAM OFF"===W?J.hidetapBroadcast:J.tapBroadcastText,children:W})]})})}})};Rv.displayName="ZoneAvatar";var Dv="";var Bv=-2;var Nv="",zv="",Fv="",Qv="",Lv="",Uv="",Gv="",Yv=!1,Hv=function(){var e=uc(),t={map:la,participants:On,contents:ea,chat:Cn,roomInfo:Vi},n=Object(va.useRef)(null),a=Object(va.useState)(!1),r=Object(i.a)(a,2),s=r[0],u=r[1],d=Object(va.useState)(!0),p=Object(i.a)(d,2),v=p[0],h=p[1],b=Object(va.useState)(""),f=Object(i.a)(b,2),m=f[0],g=f[1],A=Object(va.useState)(-1),j=Object(i.a)(A,2),O=j[0],y=j[1],x=Object(va.useState)(-1),C=Object(i.a)(x,2),w=C[0],S=C[1],k=Object(va.useState)(-1),I=Object(i.a)(k,2),T=I[0],E=I[1],M=Object(va.useState)(-1),P=Object(i.a)(M,2),R=P[0],D=P[1],B=Object(va.useState)(-1),N=Object(i.a)(B,2),z=N[0],F=N[1],Q=Object(va.useState)(-1),L=Object(i.a)(Q,2),U=L[0],G=L[1],Y=Object(va.useState)(-1),H=Object(i.a)(Y,2),W=H[0],J=H[1],K=Object(va.useState)(!1),V=Object(i.a)(K,2),X=V[0],Z=V[1],q=Object(va.useState)({x:0,y:0}),_=Object(i.a)(q,2),$=_[0],ee=_[1],te=Object(va.useState)({x:0,y:0}),ne=Object(i.a)(te,2),ie=ne[0],oe=ne[1],ae=Object(va.useState)(-1),re=Object(i.a)(ae,2),se=re[0],ce=re[1],le=Object(va.useState)(!1),ue=Object(i.a)(le,2),de=ue[0],pe=ue[1],ve=Object(va.useRef)(null),he=Object(va.useRef)(null),be=Object(va.useRef)(null),fe=Object(va.useRef)(null),me=Object(va.useRef)(null),ge=Object(va.useRef)(null),Ae=Object(va.useRef)(null),je=Object(va.useRef)(null),Oe=Object(va.useRef)(null),ye=Object(va.useRef)(null),xe=Object(va.useRef)(null),Ce=Object(pa.b)((function(){var e;return null===(e=t.participants.local.zone)||void 0===e?void 0:e.mediaURL})),we=Object(pa.b)((function(){var e;return null===(e=t.participants.local.zone)||void 0===e?void 0:e.zone})),Se=window.location.host.split("https://www.")[0];if(void 0===Ce)!0===Yv&&(Yv=!1,g("chat"));else if(void 0!==Ce&&"close"===we){Yv=!0,""===m&&(Bv=-2,g("twitch"));var ke=setTimeout((function(){clearTimeout(ke),pe(!1===de)}),500)}else pe(!1);var Ie,Te,Ee="",Me="",Pe="",Re=[],De=[],Be=Object(pa.b)((function(){return t.contents.all}));(Be.filter((function(e){return"roomimg"===e.shareType})).map((function(e){return Ee=e.url})),Be.filter((function(e){return"roomimg"===e.shareType})).map((function(e){return Me=e.contentDesc})),Be.filter((function(e){return"appimg"===e.shareType})).map((function(e,t){return 0===t&&""===m?g(e.type):""})),Be.filter((function(e){return"appimg"===e.shareType})).map((function(e,t){return m===e.type?Pe=e.baseColor:""})),Be.filter((function(e){return"appimg"===e.shareType})).map((function(e,t){return Re.push(e.type)})),0===Re.length)&&(De.splice(0),0===Object(null===(Ie=he.current)||void 0===Ie?void 0:Ie.state).x&&De.push("chat"),0===Object(null===(Te=be.current)||void 0===Te?void 0:Te.state).x&&De.push("content"));var Ne=function(){var e,t,n,i,o,a=0;if(0===Re.length)0===Object(null===(e=he.current)||void 0===e?void 0:e.state).x&&a++,0===Object(null===(t=be.current)||void 0===t?void 0:t.state).x&&a++;else if(1===Re.length)0===Object(null===(n=he.current)||void 0===n?void 0:n.state).x&&a++,0===Object(null===(i=be.current)||void 0===i?void 0:i.state).x&&a++,0===Object(null===(o=fe.current)||void 0===o?void 0:o.state).x&&a++;else if(2===Re.length){var r,s,c,l;0===Object(null===(r=he.current)||void 0===r?void 0:r.state).x&&a++,0===Object(null===(s=be.current)||void 0===s?void 0:s.state).x&&a++,0===Object(null===(c=fe.current)||void 0===c?void 0:c.state).x&&a++,0===Object(null===(l=me.current)||void 0===l?void 0:l.state).x&&a++}return a}(),ze=0===Re.length?2:Re.length+2,Fe=!1,Qe=Object(pa.b)((function(){return t.participants.localId})),Le=sessionStorage.getItem("room"),Ue=Object(pa.b)((function(){return Ua()}));s,Dv=m;var Ge=Object(va.useState)(""),Ye=Object(i.a)(Ge,2),He=Ye[0],We=Ye[1],Je=Object(va.useState)(""),Ke=Object(i.a)(Je,2),Ve=Ke[0],Xe=Ke[1],Ze=[],qe=[];""!==Ve&&(Ze=Ve.split(","),(qe=Ve.split(",")).pop()),Object(va.useEffect)((function(){if(fetch("folderlist.php?folder=avatar_tool/*/*.png").then((function(e){return e.text()})).then((function(e){return We(e)})),fetch("folderlist.php?folder=ui/help/*.png").then((function(e){return e.text()})).then((function(e){return Xe(e)})),Qa||Qe){if("N"===Ue&&-1===T&&(void 0===t.participants.local.information.randomAvatar||0===t.participants.local.information.randomAvatar.length)){!function(){for(var e=[],t=[],n="",i=He.split(","),o=0;o<i.length-1;o++)-1===e.indexOf(i[o].split("/")[1])&&void 0!==i[o].split("/")[1]&&e.push(i[o].split("/")[1]);for(var a=0;a<e.length;a++){for(var r=0;r<i.length-1;r++)e[a]===i[r].split("/")[1]&&(n+=i[r]+",");t.push(n),n=""}var s=it(15,20),c=it(8,14),l=t[0].split(","),u=l.indexOf("avatar_tool/Colors/es_co_group_x.png");Nv=l[u],z!==u&&F(u);c>=7&&c<15&&(Fv=l[c].split("/")[2].split(".")[0].split("co_")[1],R!==c&&D(c));s>=15&&s<20&&(zv=l[s],T!==s&&E(s));var d=t[1].split(","),p=[],v=[],h=[],b=[];p.splice(0),v.splice(0),h.splice(0),b.splice(0);for(var f=0;f<d.length-1;f++)if(-1===d.indexOf(Fv.split("_")[1]+"_"+d[f].split("_")[4])&&Fv.split("_")[1]===d[f].split("_")[4]){var m=d[f].split("/")[2].split(".")[0].split("_")[4];"f"===m?(p.push(d[f]),v.push(f)):"b"===m&&(h.push(d[f]),b.push(f))}if(p.length>0){var g=it(0,p.length-1);Qv=p[g],U!==v[g]&&G(v[g]);var A=d.indexOf(String(p[g].split("_f.png")[0]+"_b.png"));-1!==A?(Lv=d[A],W!==A?J(A):(Lv="",J(-1))):(Lv="",J(-1))}else Qv="",G(-1),Lv="",J(-1);var j=t[2].split(","),x=it(0,j.length-2);Uv=j[x],O!==x&&y(x);var C=t[3].split(","),k=it(0,C.length-2);Gv=C[k],w!==k&&S(k)}();var e=setTimeout((function(){clearTimeout(e),function(){if(null===ve.current)return;Td()(ve.current,{allowTaint:!0}).then((function(e){var n=new FormData;n.append("imgData",e.toDataURL()),fetch("saveAvatarImage.php",{method:"POST",body:n}).then((function(e){return e.text()})).then((function(e){return n=e,t.participants.local.information.avatarSrc=n,t.participants.local.information.randomAvatar=[zv,Fv,Nv,Qv,Uv,Gv],t.participants.local.sendInformation(),void t.participants.local.saveInformationToStorage(!0);var n}))})).catch((function(e){console.log(e)}))}()}),50)}var n=setTimeout((function(){clearTimeout(n),h(!1),"N"===Ua()&&-1===T&&Z(!0)}),5e3)}}));var _e=Object(va.useState)(0),$e=Object(i.a)(_e,2),et=$e[0],tt=$e[1],nt=Ze.length-1;if(!Array.isArray(Ze)||Ze.length<=0)return null;function it(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function ot(e,t,n){e.x>-100||0===e.x?ee({x:0,y:0}):("twitch"===n&&oe({x:e.x,y:e.y}),ee({x:e.x,y:e.y}),Bv=$.x,rt(t),at(t),ce(t))}function at(e){var t,n,i,o,a,r,s,c;if(0===Re.length){if(0===e)0===Object(null===(t=be.current)||void 0===t?void 0:t.state).x?g("content"):0===Object(null===(n=fe.current)||void 0===n?void 0:n.state).x?(Bv=-2,ce(-1),g("twitch")):g("blank");else if(1===e){var l,u;0===Object(null===(l=he.current)||void 0===l?void 0:l.state).x?g("chat"):0===Object(null===(u=fe.current)||void 0===u?void 0:u.state).x?(Bv=-2,ce(-1),g("twitch")):g("blank")}else if(2===e){var d,p;0===Object(null===(d=he.current)||void 0===d?void 0:d.state).x?g("chat"):0===Object(null===(p=be.current)||void 0===p?void 0:p.state).x?g("content"):g("blank")}}else if(0===e)0===Object(null===(i=be.current)||void 0===i?void 0:i.state).x?g("content"):0===Object(null===(o=fe.current)||void 0===o?void 0:o.state).x?(Bv=-2,ce(-1),g(2!==ze?Re[e]:"twitch")):0===Object(null===(a=me.current)||void 0===a?void 0:a.state).x?(Bv=-2,ce(-1),g(3!==ze?Re[e+1]:"twitch")):0===Object(null===(r=ge.current)||void 0===r?void 0:r.state).x?(Bv=-2,ce(-1),g(4!==ze?Re[e+2]:"twitch")):0===Object(null===(s=Ae.current)||void 0===s?void 0:s.state).x?(Bv=-2,ce(-1),g(5!==ze?Re[e+3]:"twitch")):0===Object(null===(c=je.current)||void 0===c?void 0:c.state).x?(Bv=-2,ce(-1),g(6!==ze?Re[e+4]:"twitch")):g("blank");else if(1===e){var v,h,b,f,m,A;0===Object(null===(v=he.current)||void 0===v?void 0:v.state).x?g("chat"):0===Object(null===(h=fe.current)||void 0===h?void 0:h.state).x?(Bv=-2,ce(-1),g(2!==ze?Re[e-1]:"twitch")):0===Object(null===(b=me.current)||void 0===b?void 0:b.state).x?(Bv=-2,ce(-1),g(3!==ze?Re[e]:"twitch")):0===Object(null===(f=ge.current)||void 0===f?void 0:f.state).x?(Bv=-2,ce(-1),g(4!==ze?Re[e+1]:"twitch")):0===Object(null===(m=Ae.current)||void 0===m?void 0:m.state).x?(Bv=-2,ce(-1),g(5!==ze?Re[e+3]:"twitch")):0===Object(null===(A=je.current)||void 0===A?void 0:A.state).x?(Bv=-2,ce(-1),g(6!==ze?Re[e+4]:"twitch")):g("blank")}else if(e>=2){var j,O,y,x,C,w;0===Object(null===(j=he.current)||void 0===j?void 0:j.state).x?g("chat"):0===Object(null===(O=be.current)||void 0===O?void 0:O.state).x?g("content"):0===Object(null===(y=me.current)||void 0===y?void 0:y.state).x?(Bv=-2,ce(-1),g(3!==ze?Re[e-2]:"twitch")):0===Object(null===(x=ge.current)||void 0===x?void 0:x.state).x?(Bv=-2,ce(-1),g(4!==ze?Re[e-2]:"twitch")):0===Object(null===(C=Ae.current)||void 0===C?void 0:C.state).x?(Bv=-2,ce(-1),g(5!==ze?Re[e-2]:"twitch")):0===Object(null===(w=je.current)||void 0===w?void 0:w.state).x?(Bv=-2,ce(-1),g(6!==ze?Re[e-2]:"twitch")):g("blank")}}function rt(e){if(0===e){var t,n,i,o,a,r,s,l,u,d,p,v,h,b,f,m,g,A,j,O,y,x,C=0;if(Object(null===(t=he.current)||void 0===t?void 0:t.state).x<0||Object(null===(n=he.current)||void 0===n?void 0:n.state).x>0)C+=1;else Object(null===(o=he.current)||void 0===o?void 0:o.state).x=0,Object(null===(a=he.current)||void 0===a?void 0:a.state).y=0;if(Object(null===(i=be.current)||void 0===i?void 0:i.state).x<0)C+=1;else Object(null===(r=be.current)||void 0===r?void 0:r.state).x=0,Object(null===(s=be.current)||void 0===s?void 0:s.state).y=c()?-121*C:-51*C;if(2!==ze)if(Object(null===(l=fe.current)||void 0===l?void 0:l.state).x<0)C+=1;else Object(null===(u=fe.current)||void 0===u?void 0:u.state).x=0,Object(null===(d=fe.current)||void 0===d?void 0:d.state).y=c()?-121*C:-51*C;if(3!==ze)if(Object(null===(p=me.current)||void 0===p?void 0:p.state).x<0)C+=1;else Object(null===(v=me.current)||void 0===v?void 0:v.state).x=0,Object(null===(h=me.current)||void 0===h?void 0:h.state).y=c()?-121*C:-51*C;if(4!==ze)if(Object(null===(b=ge.current)||void 0===b?void 0:b.state).x<0)C+=1;else Object(null===(f=ge.current)||void 0===f?void 0:f.state).x=0,Object(null===(m=ge.current)||void 0===m?void 0:m.state).y=c()?-121*C:-51*C;if(5!==ze)if(Object(null===(g=Ae.current)||void 0===g?void 0:g.state).x<0)C+=1;else Object(null===(A=Ae.current)||void 0===A?void 0:A.state).x=0,Object(null===(j=Ae.current)||void 0===j?void 0:j.state).y=c()?-121*C:-51*C;if(6!==ze)if(Object(null===(O=je.current)||void 0===O?void 0:O.state).x<0)C+=1;else Object(null===(y=je.current)||void 0===y?void 0:y.state).x=0,Object(null===(x=je.current)||void 0===x?void 0:x.state).y=c()?-121*C:-51*C}else if(1===e){var w,S,k,I,T,E,M,P,R,D,B,N,z,F,Q,L,U,G,Y,H,W,J=0;if(Object(null===(w=he.current)||void 0===w?void 0:w.state).x<0)J+=1;else Object(null===(T=he.current)||void 0===T?void 0:T.state).x=0,Object(null===(E=he.current)||void 0===E?void 0:E.state).y=0;if(Object(null===(S=be.current)||void 0===S?void 0:S.state).x<0||Object(null===(k=be.current)||void 0===k?void 0:k.state).x>0)J+=1;else if(0===Object(null===(I=be.current)||void 0===I?void 0:I.state).x){var K,V;Object(null===(K=be.current)||void 0===K?void 0:K.state).x=0,Object(null===(V=be.current)||void 0===V?void 0:V.state).y=c()?-121*J:-51*J}if(2!==ze)if(Object(null===(M=fe.current)||void 0===M?void 0:M.state).x<0)J+=1;else Object(null===(P=fe.current)||void 0===P?void 0:P.state).x=0,Object(null===(R=fe.current)||void 0===R?void 0:R.state).y=c()?-121*J:-51*J;if(3!==ze)if(Object(null===(D=me.current)||void 0===D?void 0:D.state).x<0)J+=1;else Object(null===(B=me.current)||void 0===B?void 0:B.state).x=0,Object(null===(N=me.current)||void 0===N?void 0:N.state).y=c()?-121*J:-51*J;if(4!==ze)if(Object(null===(z=ge.current)||void 0===z?void 0:z.state).x<0)J+=1;else Object(null===(F=ge.current)||void 0===F?void 0:F.state).x=0,Object(null===(Q=ge.current)||void 0===Q?void 0:Q.state).y=c()?-121*J:-51*J;if(5!==ze)if(Object(null===(L=Ae.current)||void 0===L?void 0:L.state).x<0)J+=1;else Object(null===(U=Ae.current)||void 0===U?void 0:U.state).x=0,Object(null===(G=Ae.current)||void 0===G?void 0:G.state).y=c()?-121*J:-51*J;if(6!==ze)if(Object(null===(Y=je.current)||void 0===Y?void 0:Y.state).x<0)J+=1;else Object(null===(H=je.current)||void 0===H?void 0:H.state).x=0,Object(null===(W=je.current)||void 0===W?void 0:W.state).y=c()?-121*J:-51*J}else if(2===e){var X,Z,q,_,$,ee,te,ne,ie,oe,ae,re,se,ce,le,ue,de,pe,ve,Oe,ye,xe,Ce=0;if(Object(null===(X=he.current)||void 0===X?void 0:X.state).x<0)Ce+=1;else Object(null===(q=he.current)||void 0===q?void 0:q.state).x=0,Object(null===(_=he.current)||void 0===_?void 0:_.state).y=0;if(Object(null===(Z=be.current)||void 0===Z?void 0:Z.state).x<0)Ce+=1;else Object(null===($=be.current)||void 0===$?void 0:$.state).x=0,Object(null===(ee=be.current)||void 0===ee?void 0:ee.state).y=c()?-121*Ce:-51*Ce;if(2!==ze)if(Object(null===(te=fe.current)||void 0===te?void 0:te.state).x<0||Object(null===(ne=fe.current)||void 0===ne?void 0:ne.state).x>0)Ce+=1;else Object(null===(ie=fe.current)||void 0===ie?void 0:ie.state).x=0,Object(null===(oe=fe.current)||void 0===oe?void 0:oe.state).y=c()?-121*Ce:-51*Ce;if(3!==ze)if(Object(null===(ae=me.current)||void 0===ae?void 0:ae.state).x<0)Ce+=1;else Object(null===(re=me.current)||void 0===re?void 0:re.state).x=0,Object(null===(se=me.current)||void 0===se?void 0:se.state).y=c()?-121*Ce:-51*Ce;if(4!==ze)if(Object(null===(ce=ge.current)||void 0===ce?void 0:ce.state).x<0)Ce+=1;else Object(null===(le=ge.current)||void 0===le?void 0:le.state).x=0,Object(null===(ue=ge.current)||void 0===ue?void 0:ue.state).y=c()?-121*Ce:-51*Ce;if(5!==ze)if(Object(null===(de=Ae.current)||void 0===de?void 0:de.state).x<0)Ce+=1;else Object(null===(pe=Ae.current)||void 0===pe?void 0:pe.state).x=0,Object(null===(ve=Ae.current)||void 0===ve?void 0:ve.state).y=c()?-121*Ce:-51*Ce;if(6!==ze)if(Object(null===(Oe=je.current)||void 0===Oe?void 0:Oe.state).x<0)Ce+=1;else Object(null===(ye=je.current)||void 0===ye?void 0:ye.state).x=0,Object(null===(xe=je.current)||void 0===xe?void 0:xe.state).y=c()?-121*Ce:-51*Ce}else if(3===e){var we,Se,ke,Ie,Te,Ee,Me,Pe,Re,De,Be,Ne,Fe,Qe,Le,Ue,Ge,Ye,He,We,Je,Ke,Ve=0;if(Object(null===(we=he.current)||void 0===we?void 0:we.state).x<0)Ve+=1;else Object(null===(ke=he.current)||void 0===ke?void 0:ke.state).x=0,Object(null===(Ie=he.current)||void 0===Ie?void 0:Ie.state).y=c()?-121*Ve:-51*Ve;if(Object(null===(Se=be.current)||void 0===Se?void 0:Se.state).x<0)Ve+=1;else Object(null===(Te=be.current)||void 0===Te?void 0:Te.state).x=0,Object(null===(Ee=be.current)||void 0===Ee?void 0:Ee.state).y=c()?-121*Ve:-51*Ve;if(2!==ze)if(Object(null===(Me=fe.current)||void 0===Me?void 0:Me.state).x<0)Ve+=1;else Object(null===(Pe=fe.current)||void 0===Pe?void 0:Pe.state).x=0,Object(null===(Re=fe.current)||void 0===Re?void 0:Re.state).y=c()?-121*Ve:-51*Ve;if(3!==ze)if(Object(null===(De=me.current)||void 0===De?void 0:De.state).x<0||Object(null===(Be=me.current)||void 0===Be?void 0:Be.state).x>0)Ve+=1;else Object(null===(Ne=me.current)||void 0===Ne?void 0:Ne.state).x=0,Object(null===(Fe=me.current)||void 0===Fe?void 0:Fe.state).y=c()?-121*Ve:-51*Ve;if(4!==ze)if(Object(null===(Qe=ge.current)||void 0===Qe?void 0:Qe.state).x<0)Ve+=1;else Object(null===(Le=ge.current)||void 0===Le?void 0:Le.state).x=0,Object(null===(Ue=ge.current)||void 0===Ue?void 0:Ue.state).y=c()?-121*Ve:-51*Ve;if(5!==ze)if(Object(null===(Ge=Ae.current)||void 0===Ge?void 0:Ge.state).x<0)Ve+=1;else Object(null===(Ye=Ae.current)||void 0===Ye?void 0:Ye.state).x=0,Object(null===(He=Ae.current)||void 0===He?void 0:He.state).y=c()?-121*Ve:-51*Ve;if(6!==ze)if(Object(null===(We=je.current)||void 0===We?void 0:We.state).x<0)Ve+=1;else Object(null===(Je=je.current)||void 0===Je?void 0:Je.state).x=0,Object(null===(Ke=je.current)||void 0===Ke?void 0:Ke.state).y=c()?-121*Ve:-51*Ve}else if(4===e){var Xe,Ze,qe,_e,$e,et,tt,nt,it,ot,at,rt,st,ct,lt,ut,dt,pt,vt,ht,bt,ft,mt=0;if(Object(null===(Xe=he.current)||void 0===Xe?void 0:Xe.state).x<0)mt+=1;else Object(null===(qe=he.current)||void 0===qe?void 0:qe.state).x=0,Object(null===(_e=he.current)||void 0===_e?void 0:_e.state).y=c()?-121*mt:-51*mt;if(Object(null===(Ze=be.current)||void 0===Ze?void 0:Ze.state).x<0)mt+=1;else Object(null===($e=be.current)||void 0===$e?void 0:$e.state).x=0,Object(null===(et=be.current)||void 0===et?void 0:et.state).y=c()?-121*mt:-51*mt;if(2!==ze)if(Object(null===(tt=fe.current)||void 0===tt?void 0:tt.state).x<0)mt+=1;else Object(null===(nt=fe.current)||void 0===nt?void 0:nt.state).x=0,Object(null===(it=fe.current)||void 0===it?void 0:it.state).y=c()?-121*mt:-51*mt;if(3!==ze)if(Object(null===(ot=me.current)||void 0===ot?void 0:ot.state).x<0)mt+=1;else Object(null===(at=me.current)||void 0===at?void 0:at.state).x=0,Object(null===(rt=me.current)||void 0===rt?void 0:rt.state).y=c()?-121*mt:-51*mt;if(4!==ze)if(Object(null===(st=ge.current)||void 0===st?void 0:st.state).x<0||Object(null===(ct=ge.current)||void 0===ct?void 0:ct.state).x>0)mt+=1;else Object(null===(lt=ge.current)||void 0===lt?void 0:lt.state).x=0,Object(null===(ut=ge.current)||void 0===ut?void 0:ut.state).y=c()?-121*mt:-51*mt;if(5!==ze)if(Object(null===(dt=Ae.current)||void 0===dt?void 0:dt.state).x<0)mt+=1;else Object(null===(pt=Ae.current)||void 0===pt?void 0:pt.state).x=0,Object(null===(vt=Ae.current)||void 0===vt?void 0:vt.state).y=c()?-121*mt:-51*mt;if(6!==ze)if(Object(null===(ht=je.current)||void 0===ht?void 0:ht.state).x<0)mt+=1;else Object(null===(bt=je.current)||void 0===bt?void 0:bt.state).x=0,Object(null===(ft=je.current)||void 0===ft?void 0:ft.state).y=c()?-121*mt:-51*mt}else if(5===e){var gt,At,jt,Ot,yt,xt,Ct,wt,St,kt,It,Tt,Et,Mt,Pt,Rt,Dt,Bt,Nt,zt,Ft,Qt,Lt=0;if(Object(null===(gt=he.current)||void 0===gt?void 0:gt.state).x<0)Lt+=1;else Object(null===(jt=he.current)||void 0===jt?void 0:jt.state).x=0,Object(null===(Ot=he.current)||void 0===Ot?void 0:Ot.state).y=c()?-121*Lt:-51*Lt;if(Object(null===(At=be.current)||void 0===At?void 0:At.state).x<0)Lt+=1;else Object(null===(yt=be.current)||void 0===yt?void 0:yt.state).x=0,Object(null===(xt=be.current)||void 0===xt?void 0:xt.state).y=c()?-121*Lt:-51*Lt;if(2!==ze)if(Object(null===(Ct=fe.current)||void 0===Ct?void 0:Ct.state).x<0)Lt+=1;else Object(null===(wt=fe.current)||void 0===wt?void 0:wt.state).x=0,Object(null===(St=fe.current)||void 0===St?void 0:St.state).y=c()?-121*Lt:-51*Lt;if(3!==ze)if(Object(null===(kt=me.current)||void 0===kt?void 0:kt.state).x<0)Lt+=1;else Object(null===(It=me.current)||void 0===It?void 0:It.state).x=0,Object(null===(Tt=me.current)||void 0===Tt?void 0:Tt.state).y=c()?-121*Lt:-51*Lt;if(4!==ze)if(Object(null===(Et=ge.current)||void 0===Et?void 0:Et.state).x<0)Lt+=1;else Object(null===(Mt=ge.current)||void 0===Mt?void 0:Mt.state).x=0,Object(null===(Pt=ge.current)||void 0===Pt?void 0:Pt.state).y=c()?-121*Lt:-51*Lt;if(5!==ze)if(Object(null===(Rt=Ae.current)||void 0===Rt?void 0:Rt.state).x<0||Object(null===(Dt=Ae.current)||void 0===Dt?void 0:Dt.state).x>0)Lt+=1;else Object(null===(Bt=Ae.current)||void 0===Bt?void 0:Bt.state).x=0,Object(null===(Nt=Ae.current)||void 0===Nt?void 0:Nt.state).y=c()?-121*Lt:-51*Lt;if(6!==ze)if(Object(null===(zt=je.current)||void 0===zt?void 0:zt.state).x<0)Lt+=1;else Object(null===(Ft=je.current)||void 0===Ft?void 0:Ft.state).x=0,Object(null===(Qt=je.current)||void 0===Qt?void 0:Qt.state).y=c()?-121*Lt:-51*Lt}else if(6===e){var Ut,Gt,Yt,Ht,Wt,Jt,Kt,Vt,Xt,Zt,qt,_t,$t,en,tn,nn,on,an,rn,sn,cn,ln,un=0;if(Object(null===(Ut=he.current)||void 0===Ut?void 0:Ut.state).x<0)un+=1;else Object(null===(Yt=he.current)||void 0===Yt?void 0:Yt.state).x=0,Object(null===(Ht=he.current)||void 0===Ht?void 0:Ht.state).y=c()?-121*un:-51*un;if(Object(null===(Gt=be.current)||void 0===Gt?void 0:Gt.state).x<0)un+=1;else Object(null===(Wt=be.current)||void 0===Wt?void 0:Wt.state).x=0,Object(null===(Jt=be.current)||void 0===Jt?void 0:Jt.state).y=c()?-121*un:-51*un;if(2!==ze)if(Object(null===(Kt=fe.current)||void 0===Kt?void 0:Kt.state).x<0)un+=1;else Object(null===(Vt=fe.current)||void 0===Vt?void 0:Vt.state).x=0,Object(null===(Xt=fe.current)||void 0===Xt?void 0:Xt.state).y=c()?-121*un:-51*un;if(3!==ze)if(Object(null===(Zt=me.current)||void 0===Zt?void 0:Zt.state).x<0)un+=1;else Object(null===(qt=me.current)||void 0===qt?void 0:qt.state).x=0,Object(null===(_t=me.current)||void 0===_t?void 0:_t.state).y=c()?-121*un:-51*un;if(4!==ze)if(Object(null===($t=ge.current)||void 0===$t?void 0:$t.state).x<0)un+=1;else Object(null===(en=ge.current)||void 0===en?void 0:en.state).x=0,Object(null===(tn=ge.current)||void 0===tn?void 0:tn.state).y=c()?-121*un:-51*un;if(5!==ze)if(Object(null===(nn=Ae.current)||void 0===nn?void 0:nn.state).x<0)un+=1;else Object(null===(on=Ae.current)||void 0===on?void 0:on.state).x=0,Object(null===(an=Ae.current)||void 0===an?void 0:an.state).y=c()?-121*un:-51*un;if(6!==ze)if(Object(null===(rn=je.current)||void 0===rn?void 0:rn.state).x<0||Object(null===(sn=je.current)||void 0===sn?void 0:sn.state).x>0)un+=1;else Object(null===(cn=je.current)||void 0===cn?void 0:cn.state).x=0,Object(null===(ln=je.current)||void 0===ln?void 0:ln.state).y=c()?-121*un:-51*un}}function st(e,n,i){if(e.y<-51*i||e.y>675+-51*i||e.x<-(t.map.screenSize[0]-40)||e.x>0){if(0===i)return void ct(0,"chat");if(1===i)return void ct(1,"content");var o;if(2===i)Object(null===(o=fe.current)||void 0===o?void 0:o.state).x=-99999999;else if(3===i){var a;Object(null===(a=me.current)||void 0===a?void 0:a.state).x=-99999999}else if(4===i){var r;Object(null===(r=ge.current)||void 0===r?void 0:r.state).x=-99999999}else if(5===i){var s;Object(null===(s=Ae.current)||void 0===s?void 0:s.state).x=-99999999}else if(6===i){var l;Object(null===(l=je.current)||void 0===l?void 0:l.state).x=-99999999}else if(9===i){var d;Object(null===(d=xe.current)||void 0===d?void 0:d.state).x=-99999999}var p=window.open(i===ze?n+"&parent="+Se+"&autoplay=true":n,"","width=400,height=650,left=500,top=100"),v=setInterval((function(){if(null!==p&&void 0!==p&&p.closed){if(clearInterval(v),0===i){var e,t,n,o,a,r,s,l,u,d,h,b,f,m,g,A,j,O,y,x,C,w,S,k,I,T,E,M,P,R,D,B,N,z,F,Q,L,U=0;if(Object(null===(e=he.current)||void 0===e?void 0:e.state).x<0||Object(null===(t=he.current)||void 0===t?void 0:t.state).x>0)Object(null===(o=he.current)||void 0===o?void 0:o.state).x=0,Object(null===(a=he.current)||void 0===a?void 0:a.state).y=0;else U+=1;if(0===Object(null===(n=be.current)||void 0===n?void 0:n.state).x)Object(null===(r=be.current)||void 0===r?void 0:r.state).x=0,Object(null===(s=be.current)||void 0===s?void 0:s.state).y=c()?-121*U:51*U;else U+=1;if(2!==ze)if(0===Object(null===(l=fe.current)||void 0===l?void 0:l.state).x)Object(null===(u=fe.current)||void 0===u?void 0:u.state).x=0,Object(null===(d=fe.current)||void 0===d?void 0:d.state).y=c()?-121*U:-51*U;else U+=1;else if(Object(null===(h=fe.current)||void 0===h?void 0:h.state).x<0)Object(null===(b=fe.current)||void 0===b?void 0:b.state).x=0,Object(null===(f=fe.current)||void 0===f?void 0:f.state).y=(c(),0);if(3!==ze)if(0===Object(null===(m=me.current)||void 0===m?void 0:m.state).x)Object(null===(g=me.current)||void 0===g?void 0:g.state).x=0,Object(null===(A=me.current)||void 0===A?void 0:A.state).y=c()?-121*U:-51*U;else U+=1;else if(Object(null===(j=me.current)||void 0===j?void 0:j.state).x<0)Object(null===(O=me.current)||void 0===O?void 0:O.state).x=0,Object(null===(y=me.current)||void 0===y?void 0:y.state).y=(c(),0);if(4!==ze)if(0===Object(null===(x=ge.current)||void 0===x?void 0:x.state).x)Object(null===(C=ge.current)||void 0===C?void 0:C.state).x=0,Object(null===(w=ge.current)||void 0===w?void 0:w.state).y=c()?-121*U:-51*U;else U+=1;else if(Object(null===(S=ge.current)||void 0===S?void 0:S.state).x<0)Object(null===(k=ge.current)||void 0===k?void 0:k.state).x=0,Object(null===(I=ge.current)||void 0===I?void 0:I.state).y=(c(),0);if(5!==ze)if(0===Object(null===(T=Ae.current)||void 0===T?void 0:T.state).x)Object(null===(E=Ae.current)||void 0===E?void 0:E.state).x=0,Object(null===(M=Ae.current)||void 0===M?void 0:M.state).y=c()?-121*U:-51*U;else U+=1;else if(Object(null===(P=Ae.current)||void 0===P?void 0:P.state).x<0)Object(null===(R=Ae.current)||void 0===R?void 0:R.state).x=0,Object(null===(D=Ae.current)||void 0===D?void 0:D.state).y=(c(),0);if(6!==ze){if(0===Object(null===(B=je.current)||void 0===B?void 0:B.state).x)Object(null===(N=je.current)||void 0===N?void 0:N.state).x=0,Object(null===(z=je.current)||void 0===z?void 0:z.state).y=c()?-121*U:-51*U}else if(Object(null===(F=je.current)||void 0===F?void 0:F.state).x<0)Object(null===(Q=je.current)||void 0===Q?void 0:Q.state).x=0,Object(null===(L=je.current)||void 0===L?void 0:L.state).y=(c(),0)}else if(1===i){var G,Y,H,W,J,K,V,X,Z,q,_,$,te,ne,ie,ae,re,se,ce,le,ue,de,pe,ve,Oe,ye,xe,Ce,we,Se,ke,Ie,Te,Ee,Me,Pe,Re,De=0;if(0===Object(null===(G=he.current)||void 0===G?void 0:G.state).x)Object(null===(W=he.current)||void 0===W?void 0:W.state).x=0,Object(null===(J=he.current)||void 0===J?void 0:J.state).y=0;else De+=1;if(Object(null===(Y=be.current)||void 0===Y?void 0:Y.state).x<0||Object(null===(H=be.current)||void 0===H?void 0:H.state).x>0)Object(null===(K=be.current)||void 0===K?void 0:K.state).x=0,Object(null===(V=be.current)||void 0===V?void 0:V.state).y=c()?-121*De:-51*De;else De+=1;if(2!==ze)if(0===Object(null===(X=fe.current)||void 0===X?void 0:X.state).x)Object(null===(Z=fe.current)||void 0===Z?void 0:Z.state).x=0,Object(null===(q=fe.current)||void 0===q?void 0:q.state).y=c()?-121*De:-51*De;else De+=1;else if(Object(null===(_=fe.current)||void 0===_?void 0:_.state).x<0)Object(null===($=fe.current)||void 0===$?void 0:$.state).x=0,Object(null===(te=fe.current)||void 0===te?void 0:te.state).y=(c(),0);if(3!==ze)if(0===Object(null===(ne=me.current)||void 0===ne?void 0:ne.state).x)Object(null===(ie=me.current)||void 0===ie?void 0:ie.state).x=0,Object(null===(ae=me.current)||void 0===ae?void 0:ae.state).y=c()?-121*De:-51*De;else De+=1;else if(Object(null===(re=me.current)||void 0===re?void 0:re.state).x<0)Object(null===(se=me.current)||void 0===se?void 0:se.state).x=0,Object(null===(ce=me.current)||void 0===ce?void 0:ce.state).y=(c(),0);if(4!==ze)if(0===Object(null===(le=ge.current)||void 0===le?void 0:le.state).x)Object(null===(ue=ge.current)||void 0===ue?void 0:ue.state).x=0,Object(null===(de=ge.current)||void 0===de?void 0:de.state).y=c()?-121*De:-51*De;else De+=1;else if(Object(null===(pe=ge.current)||void 0===pe?void 0:pe.state).x<0)Object(null===(ve=ge.current)||void 0===ve?void 0:ve.state).x=0,Object(null===(Oe=ge.current)||void 0===Oe?void 0:Oe.state).y=(c(),0);if(5!==ze)if(0===Object(null===(ye=Ae.current)||void 0===ye?void 0:ye.state).x)Object(null===(xe=Ae.current)||void 0===xe?void 0:xe.state).x=0,Object(null===(Ce=Ae.current)||void 0===Ce?void 0:Ce.state).y=c()?-121*De:-51*De;else De+=1;else if(Object(null===(we=Ae.current)||void 0===we?void 0:we.state).x<0)Object(null===(Se=Ae.current)||void 0===Se?void 0:Se.state).x=0,Object(null===(ke=Ae.current)||void 0===ke?void 0:ke.state).y=(c(),0);if(6!==ze){if(0===Object(null===(Ie=je.current)||void 0===Ie?void 0:Ie.state).x)Object(null===(Te=je.current)||void 0===Te?void 0:Te.state).x=0,Object(null===(Ee=je.current)||void 0===Ee?void 0:Ee.state).y=c()?-121*De:-51*De}else if(Object(null===(Me=je.current)||void 0===Me?void 0:Me.state).x<0)Object(null===(Pe=je.current)||void 0===Pe?void 0:Pe.state).x=0,Object(null===(Re=je.current)||void 0===Re?void 0:Re.state).y=(c(),0)}else if(2===i){var Be,Ne,Fe,Qe,Le,Ue,Ge,Ye,He,We,Je,Ke,Ve,Xe,Ze,qe,_e,$e,et,tt,nt,it,ot,at,rt,st,ct,lt,ut,dt,pt,vt,ht,bt,ft,mt,gt,At,jt=0;if(0===Object(null===(Be=he.current)||void 0===Be?void 0:Be.state).x)Object(null===(Fe=he.current)||void 0===Fe?void 0:Fe.state).x=0,Object(null===(Qe=he.current)||void 0===Qe?void 0:Qe.state).y=0;else jt+=1;if(0===Object(null===(Ne=be.current)||void 0===Ne?void 0:Ne.state).x)Object(null===(Le=be.current)||void 0===Le?void 0:Le.state).x=0,Object(null===(Ue=be.current)||void 0===Ue?void 0:Ue.state).y=c()?-121*jt:-51*jt;else jt+=1;if(2!==ze)if(Object(null===(Ge=fe.current)||void 0===Ge?void 0:Ge.state).x<0||Object(null===(Ye=fe.current)||void 0===Ye?void 0:Ye.state).x>0)Object(null===(He=fe.current)||void 0===He?void 0:He.state).x=0,Object(null===(We=fe.current)||void 0===We?void 0:We.state).y=c()?-121*jt:-51*jt;else jt+=1;else if(Object(null===(Je=fe.current)||void 0===Je?void 0:Je.state).x<0||Object(null===(Ke=fe.current)||void 0===Ke?void 0:Ke.state).x>0)Object(null===(Ve=fe.current)||void 0===Ve?void 0:Ve.state).x=0,Object(null===(Xe=fe.current)||void 0===Xe?void 0:Xe.state).y=(c(),0);if(3!==ze)if(0===Object(null===(Ze=me.current)||void 0===Ze?void 0:Ze.state).x)Object(null===(qe=me.current)||void 0===qe?void 0:qe.state).x=0,Object(null===(_e=me.current)||void 0===_e?void 0:_e.state).y=c()?-121*jt:-51*jt;else jt+=1;else if(Object(null===($e=me.current)||void 0===$e?void 0:$e.state).x<0)Object(null===(et=me.current)||void 0===et?void 0:et.state).x=0,Object(null===(tt=me.current)||void 0===tt?void 0:tt.state).y=(c(),0);if(4!==ze)if(0===Object(null===(nt=ge.current)||void 0===nt?void 0:nt.state).x)Object(null===(it=ge.current)||void 0===it?void 0:it.state).x=0,Object(null===(ot=ge.current)||void 0===ot?void 0:ot.state).y=c()?-121*jt:-51*jt;else jt+=1;else if(Object(null===(at=ge.current)||void 0===at?void 0:at.state).x<0)Object(null===(rt=ge.current)||void 0===rt?void 0:rt.state).x=0,Object(null===(st=ge.current)||void 0===st?void 0:st.state).y=(c(),0);if(5!==ze)if(0===Object(null===(ct=Ae.current)||void 0===ct?void 0:ct.state).x)Object(null===(lt=Ae.current)||void 0===lt?void 0:lt.state).x=0,Object(null===(ut=Ae.current)||void 0===ut?void 0:ut.state).y=c()?-121*jt:-51*jt;else jt+=1;else if(Object(null===(dt=Ae.current)||void 0===dt?void 0:dt.state).x<0)Object(null===(pt=Ae.current)||void 0===pt?void 0:pt.state).x=0,Object(null===(vt=Ae.current)||void 0===vt?void 0:vt.state).y=(c(),0);if(6!==ze){if(0===Object(null===(ht=je.current)||void 0===ht?void 0:ht.state).x)Object(null===(bt=je.current)||void 0===bt?void 0:bt.state).x=0,Object(null===(ft=je.current)||void 0===ft?void 0:ft.state).y=c()?-121*jt:-51*jt}else if(Object(null===(mt=je.current)||void 0===mt?void 0:mt.state).x<0)Object(null===(gt=je.current)||void 0===gt?void 0:gt.state).x=0,Object(null===(At=je.current)||void 0===At?void 0:At.state).y=(c(),0)}else if(3===i){var Ot,yt,xt,Ct,wt,St,kt,It,Tt,Et,Mt,Pt,Rt,Dt,Bt,Nt,zt,Ft,Qt,Lt,Ut,Gt,Yt,Ht,Wt,Jt,Kt,Vt,Xt,Zt,qt,_t,$t,en,tn,nn,on,an,rn=0;if(0===Object(null===(Ot=he.current)||void 0===Ot?void 0:Ot.state).x)Object(null===(xt=he.current)||void 0===xt?void 0:xt.state).x=0,Object(null===(Ct=he.current)||void 0===Ct?void 0:Ct.state).y=0;else rn+=1;if(0===Object(null===(yt=be.current)||void 0===yt?void 0:yt.state).x)Object(null===(wt=be.current)||void 0===wt?void 0:wt.state).x=0,Object(null===(St=be.current)||void 0===St?void 0:St.state).y=c()?-121*rn:-51*rn;else rn+=1;if(2!==ze)if(0===Object(null===(kt=fe.current)||void 0===kt?void 0:kt.state).x)Object(null===(It=fe.current)||void 0===It?void 0:It.state).x=0,Object(null===(Tt=fe.current)||void 0===Tt?void 0:Tt.state).y=c()?-121*rn:-51*rn;else rn+=1;else if(Object(null===(Et=fe.current)||void 0===Et?void 0:Et.state).x<0)Object(null===(Mt=fe.current)||void 0===Mt?void 0:Mt.state).x=0,Object(null===(Pt=fe.current)||void 0===Pt?void 0:Pt.state).y=(c(),0);if(3!==ze)if(Object(null===(Rt=me.current)||void 0===Rt?void 0:Rt.state).x<0||Object(null===(Dt=me.current)||void 0===Dt?void 0:Dt.state).x>0)Object(null===(Bt=me.current)||void 0===Bt?void 0:Bt.state).x=0,Object(null===(Nt=me.current)||void 0===Nt?void 0:Nt.state).y=c()?-121*rn:-51*rn;else rn+=1;else if(Object(null===(zt=me.current)||void 0===zt?void 0:zt.state).x<0||Object(null===(Ft=me.current)||void 0===Ft?void 0:Ft.state).x>0)Object(null===(Qt=me.current)||void 0===Qt?void 0:Qt.state).x=0,Object(null===(Lt=me.current)||void 0===Lt?void 0:Lt.state).y=(c(),0);if(4!==ze)if(0===Object(null===(Ut=ge.current)||void 0===Ut?void 0:Ut.state).x)Object(null===(Gt=ge.current)||void 0===Gt?void 0:Gt.state).x=0,Object(null===(Yt=ge.current)||void 0===Yt?void 0:Yt.state).y=0;else rn+=1;else if(Object(null===(Ht=ge.current)||void 0===Ht?void 0:Ht.state).x<0)Object(null===(Wt=ge.current)||void 0===Wt?void 0:Wt.state).x=0,Object(null===(Jt=ge.current)||void 0===Jt?void 0:Jt.state).y=(c(),0);if(5!==ze)if(0===Object(null===(Kt=Ae.current)||void 0===Kt?void 0:Kt.state).x)Object(null===(Vt=Ae.current)||void 0===Vt?void 0:Vt.state).x=0,Object(null===(Xt=Ae.current)||void 0===Xt?void 0:Xt.state).y=c()?-121*rn:-51*rn;else rn+=1;else if(Object(null===(Zt=Ae.current)||void 0===Zt?void 0:Zt.state).x<0)Object(null===(qt=Ae.current)||void 0===qt?void 0:qt.state).x=0,Object(null===(_t=Ae.current)||void 0===_t?void 0:_t.state).y=(c(),0);if(6!==ze){if(0===Object(null===($t=je.current)||void 0===$t?void 0:$t.state).x)Object(null===(en=je.current)||void 0===en?void 0:en.state).x=0,Object(null===(tn=je.current)||void 0===tn?void 0:tn.state).y=c()?-121*rn:-51*rn}else if(Object(null===(nn=je.current)||void 0===nn?void 0:nn.state).x<0)Object(null===(on=je.current)||void 0===on?void 0:on.state).x=0,Object(null===(an=je.current)||void 0===an?void 0:an.state).y=(c(),0)}else if(4===i){var sn,cn,ln,un,dn,pn,vn,hn,bn,fn,mn,gn,An,jn,On,yn,xn,Cn,wn,Sn,kn,In,Tn,En,Mn,Pn,Rn,Dn,Bn,Nn,zn,Fn,Qn,Ln,Un,Gn,Yn,Hn,Wn=0;if(0===Object(null===(sn=he.current)||void 0===sn?void 0:sn.state).x)Object(null===(ln=he.current)||void 0===ln?void 0:ln.state).x=0,Object(null===(un=he.current)||void 0===un?void 0:un.state).y=0;else Wn+=1;if(0===Object(null===(cn=be.current)||void 0===cn?void 0:cn.state).x)Object(null===(dn=be.current)||void 0===dn?void 0:dn.state).x=0,Object(null===(pn=be.current)||void 0===pn?void 0:pn.state).y=c()?-121*Wn:-51*Wn;else Wn+=1;if(2!==ze)if(0===Object(null===(vn=fe.current)||void 0===vn?void 0:vn.state).x)Object(null===(hn=fe.current)||void 0===hn?void 0:hn.state).x=0,Object(null===(bn=fe.current)||void 0===bn?void 0:bn.state).y=c()?-121*Wn:-51*Wn;else Wn+=1;else if(Object(null===(fn=fe.current)||void 0===fn?void 0:fn.state).x<0)Object(null===(mn=fe.current)||void 0===mn?void 0:mn.state).x=0,Object(null===(gn=fe.current)||void 0===gn?void 0:gn.state).y=(c(),0);if(3!==ze)if(0===Object(null===(An=me.current)||void 0===An?void 0:An.state).x)Object(null===(jn=me.current)||void 0===jn?void 0:jn.state).x=0,Object(null===(On=me.current)||void 0===On?void 0:On.state).y=c()?-121*Wn:-51*Wn;else Wn+=1;else if(Object(null===(yn=me.current)||void 0===yn?void 0:yn.state).x<0)Object(null===(xn=me.current)||void 0===xn?void 0:xn.state).x=0,Object(null===(Cn=me.current)||void 0===Cn?void 0:Cn.state).y=(c(),0);if(4!==ze)if(Object(null===(wn=ge.current)||void 0===wn?void 0:wn.state).x<0||Object(null===(Sn=ge.current)||void 0===Sn?void 0:Sn.state).x>0)Object(null===(kn=ge.current)||void 0===kn?void 0:kn.state).x=0,Object(null===(In=ge.current)||void 0===In?void 0:In.state).y=c()?-121*Wn:-51*Wn;else Wn+=1;else if(Object(null===(Tn=ge.current)||void 0===Tn?void 0:Tn.state).x<0||Object(null===(En=ge.current)||void 0===En?void 0:En.state).x>0)Object(null===(Mn=ge.current)||void 0===Mn?void 0:Mn.state).x=0,Object(null===(Pn=ge.current)||void 0===Pn?void 0:Pn.state).y=(c(),0);if(5!==ze)if(0===Object(null===(Rn=Ae.current)||void 0===Rn?void 0:Rn.state).x)Object(null===(Dn=Ae.current)||void 0===Dn?void 0:Dn.state).x=0,Object(null===(Bn=Ae.current)||void 0===Bn?void 0:Bn.state).y=c()?-121*Wn:-51*Wn;else Wn+=1;else if(Object(null===(Nn=Ae.current)||void 0===Nn?void 0:Nn.state).x<0)Object(null===(zn=Ae.current)||void 0===zn?void 0:zn.state).x=0,Object(null===(Fn=Ae.current)||void 0===Fn?void 0:Fn.state).y=(c(),0);if(6!==ze){if(0===Object(null===(Qn=je.current)||void 0===Qn?void 0:Qn.state).x)Object(null===(Ln=je.current)||void 0===Ln?void 0:Ln.state).x=0,Object(null===(Un=je.current)||void 0===Un?void 0:Un.state).y=c()?-121*Wn:-51*Wn}else if(Object(null===(Gn=je.current)||void 0===Gn?void 0:Gn.state).x<0)Object(null===(Yn=je.current)||void 0===Yn?void 0:Yn.state).x=0,Object(null===(Hn=je.current)||void 0===Hn?void 0:Hn.state).y=(c(),0)}else if(5===i){var Jn,Kn,Vn,Xn,Zn,qn,_n,$n,ei,ti,ni,ii,oi,ai,ri,si,ci,li,ui,di,pi,vi,hi,bi,fi,mi,gi,Ai,ji,Oi,yi,xi,Ci,wi,Si,ki,Ii,Ti,Ei=0;if(0===Object(null===(Jn=he.current)||void 0===Jn?void 0:Jn.state).x)Object(null===(Vn=he.current)||void 0===Vn?void 0:Vn.state).x=0,Object(null===(Xn=he.current)||void 0===Xn?void 0:Xn.state).y=0;else Ei+=1;if(0===Object(null===(Kn=be.current)||void 0===Kn?void 0:Kn.state).x)Object(null===(Zn=be.current)||void 0===Zn?void 0:Zn.state).x=0,Object(null===(qn=be.current)||void 0===qn?void 0:qn.state).y=c()?-121*Ei:-51*Ei;else Ei+=1;if(2!==ze)if(0===Object(null===(_n=fe.current)||void 0===_n?void 0:_n.state).x)Object(null===($n=fe.current)||void 0===$n?void 0:$n.state).x=0,Object(null===(ei=fe.current)||void 0===ei?void 0:ei.state).y=c()?-121*Ei:-51*Ei;else Ei+=1;else if(Object(null===(ti=fe.current)||void 0===ti?void 0:ti.state).x<0)Object(null===(ni=fe.current)||void 0===ni?void 0:ni.state).x=0,Object(null===(ii=fe.current)||void 0===ii?void 0:ii.state).y=(c(),0);if(3!==ze)if(0===Object(null===(oi=me.current)||void 0===oi?void 0:oi.state).x)Object(null===(ai=me.current)||void 0===ai?void 0:ai.state).x=0,Object(null===(ri=me.current)||void 0===ri?void 0:ri.state).y=c()?-121*Ei:-51*Ei;else Ei+=1;else if(Object(null===(si=me.current)||void 0===si?void 0:si.state).x<0)Object(null===(ci=me.current)||void 0===ci?void 0:ci.state).x=0,Object(null===(li=me.current)||void 0===li?void 0:li.state).y=(c(),0);if(4!==ze)if(0===Object(null===(ui=ge.current)||void 0===ui?void 0:ui.state).x)Object(null===(di=ge.current)||void 0===di?void 0:di.state).x=0,Object(null===(pi=ge.current)||void 0===pi?void 0:pi.state).y=c()?-121*Ei:-51*Ei;else Ei+=1;else if(Object(null===(vi=ge.current)||void 0===vi?void 0:vi.state).x<0)Object(null===(hi=ge.current)||void 0===hi?void 0:hi.state).x=0,Object(null===(bi=ge.current)||void 0===bi?void 0:bi.state).y=(c(),0);if(5!==ze)if(Object(null===(fi=Ae.current)||void 0===fi?void 0:fi.state).x<0||Object(null===(mi=Ae.current)||void 0===mi?void 0:mi.state).x>0)Object(null===(gi=Ae.current)||void 0===gi?void 0:gi.state).x=0,Object(null===(Ai=Ae.current)||void 0===Ai?void 0:Ai.state).y=c()?-121*Ei:-51*Ei;else Ei+=1;else if(Object(null===(ji=Ae.current)||void 0===ji?void 0:ji.state).x<0||Object(null===(Oi=Ae.current)||void 0===Oi?void 0:Oi.state).x>0)Object(null===(yi=Ae.current)||void 0===yi?void 0:yi.state).x=0,Object(null===(xi=Ae.current)||void 0===xi?void 0:xi.state).y=(c(),0);if(6!==ze){if(0===Object(null===(Ci=je.current)||void 0===Ci?void 0:Ci.state).x)Object(null===(wi=je.current)||void 0===wi?void 0:wi.state).x=0,Object(null===(Si=je.current)||void 0===Si?void 0:Si.state).y=c()?-121*Ei:-51*Ei}else if(Object(null===(ki=je.current)||void 0===ki?void 0:ki.state).x<0)Object(null===(Ii=je.current)||void 0===Ii?void 0:Ii.state).x=0,Object(null===(Ti=je.current)||void 0===Ti?void 0:Ti.state).y=(c(),0)}else if(6===i){var Mi,Pi,Ri,Di,Bi,Ni,zi,Fi,Qi,Li,Ui,Gi,Yi,Hi,Wi,Ji,Ki,Vi,Xi,Zi,qi,_i,$i,eo,to,no,io,oo,ao,ro,so,co,lo,uo,po,vo,ho,bo,fo=0;if(0===Object(null===(Mi=he.current)||void 0===Mi?void 0:Mi.state).x)Object(null===(Ri=he.current)||void 0===Ri?void 0:Ri.state).x=0,Object(null===(Di=he.current)||void 0===Di?void 0:Di.state).y=0;else fo+=1;if(0===Object(null===(Pi=be.current)||void 0===Pi?void 0:Pi.state).x)Object(null===(Bi=be.current)||void 0===Bi?void 0:Bi.state).x=0,Object(null===(Ni=be.current)||void 0===Ni?void 0:Ni.state).y=c()?-121*fo:-51*fo;else fo+=1;if(2!==ze)if(0===Object(null===(zi=fe.current)||void 0===zi?void 0:zi.state).x)Object(null===(Fi=fe.current)||void 0===Fi?void 0:Fi.state).x=0,Object(null===(Qi=be.current)||void 0===Qi?void 0:Qi.state).y=c()?-121*fo:-51*fo;else fo+=1;else if(Object(null===(Li=fe.current)||void 0===Li?void 0:Li.state).x<0)Object(null===(Ui=fe.current)||void 0===Ui?void 0:Ui.state).x=0,Object(null===(Gi=fe.current)||void 0===Gi?void 0:Gi.state).y=(c(),0);if(3!==ze)if(0===Object(null===(Yi=me.current)||void 0===Yi?void 0:Yi.state).x)Object(null===(Hi=me.current)||void 0===Hi?void 0:Hi.state).x=0,Object(null===(Wi=me.current)||void 0===Wi?void 0:Wi.state).y=c()?-121*fo:-51*fo;else fo+=1;else if(Object(null===(Ji=me.current)||void 0===Ji?void 0:Ji.state).x<0)Object(null===(Ki=me.current)||void 0===Ki?void 0:Ki.state).x=0,Object(null===(Vi=me.current)||void 0===Vi?void 0:Vi.state).y=(c(),0);if(4!==ze)if(0===Object(null===(Xi=ge.current)||void 0===Xi?void 0:Xi.state).x)Object(null===(Zi=ge.current)||void 0===Zi?void 0:Zi.state).x=0,Object(null===(qi=ge.current)||void 0===qi?void 0:qi.state).y=c()?-121*fo:-51*fo;else fo+=1;else if(Object(null===(_i=ge.current)||void 0===_i?void 0:_i.state).x<0)Object(null===($i=ge.current)||void 0===$i?void 0:$i.state).x=0,Object(null===(eo=ge.current)||void 0===eo?void 0:eo.state).y=(c(),0);if(5!==ze)if(0===Object(null===(to=Ae.current)||void 0===to?void 0:to.state).x)Object(null===(no=Ae.current)||void 0===no?void 0:no.state).x=0,Object(null===(io=Ae.current)||void 0===io?void 0:io.state).y=c()?-121*fo:-51*fo;else fo+=1;else if(Object(null===(oo=Ae.current)||void 0===oo?void 0:oo.state).x<0)Object(null===(ao=Ae.current)||void 0===ao?void 0:ao.state).x=0,Object(null===(ro=Ae.current)||void 0===ro?void 0:ro.state).y=(c(),0);if(6!==ze){if(Object(null===(so=je.current)||void 0===so?void 0:so.state).x<0||Object(null===(co=je.current)||void 0===co?void 0:co.state).x>0)Object(null===(lo=je.current)||void 0===lo?void 0:lo.state).x=0,Object(null===(uo=je.current)||void 0===uo?void 0:uo.state).y=c()?-121*fo:-51*fo}else if(Object(null===(po=je.current)||void 0===po?void 0:po.state).x<0||Object(null===(vo=je.current)||void 0===vo?void 0:vo.state).x>0)Object(null===(ho=je.current)||void 0===ho?void 0:ho.state).x=0,Object(null===(bo=je.current)||void 0===bo?void 0:bo.state).y=(c(),0)}ee({x:0,y:0}),oe({x:0,y:0})}}),100);Bv=-2,u(!1)}}function ct(e,t){if(0===e){var n,i,o,a,r,s,l,u,d,p,v,h,b,f,m,A,j,O,y,x,C,w,S,k,I,T,E,M,P,R,D,B,N,z,F,Q,L,U=0;if(Object(null===(n=he.current)||void 0===n?void 0:n.state).x<0||Object(null===(i=he.current)||void 0===i?void 0:i.state).x>0)Object(null===(a=he.current)||void 0===a?void 0:a.state).x=0,Object(null===(r=he.current)||void 0===r?void 0:r.state).y=0;else U+=1;if(0===Object(null===(o=be.current)||void 0===o?void 0:o.state).x)Object(null===(s=be.current)||void 0===s?void 0:s.state).x=0,Object(null===(l=be.current)||void 0===l?void 0:l.state).y=c()?-121*U:51*U;else U+=1;if("twitch"!==t)if(0===Object(null===(u=fe.current)||void 0===u?void 0:u.state).x)Object(null===(d=fe.current)||void 0===d?void 0:d.state).x=0,Object(null===(p=fe.current)||void 0===p?void 0:p.state).y=c()?-121*U:-51*U;else U+=1;else if(Object(null===(v=fe.current)||void 0===v?void 0:v.state).x<0)Object(null===(h=fe.current)||void 0===h?void 0:h.state).x=0,Object(null===(b=fe.current)||void 0===b?void 0:b.state).y=(c(),0);if("twitch"!==t)if(0===Object(null===(f=me.current)||void 0===f?void 0:f.state).x)Object(null===(m=me.current)||void 0===m?void 0:m.state).x=0,Object(null===(A=me.current)||void 0===A?void 0:A.state).y=c()?-121*U:-51*U;else U+=1;else if(Object(null===(j=me.current)||void 0===j?void 0:j.state).x<0)Object(null===(O=me.current)||void 0===O?void 0:O.state).x=0,Object(null===(y=me.current)||void 0===y?void 0:y.state).y=(c(),0);if("twitch"!==t)if(0===Object(null===(x=ge.current)||void 0===x?void 0:x.state).x)Object(null===(C=ge.current)||void 0===C?void 0:C.state).x=0,Object(null===(w=ge.current)||void 0===w?void 0:w.state).y=c()?-121*U:-51*U;else U+=1;else if(Object(null===(S=ge.current)||void 0===S?void 0:S.state).x<0)Object(null===(k=ge.current)||void 0===k?void 0:k.state).x=0,Object(null===(I=ge.current)||void 0===I?void 0:I.state).y=(c(),0);if("twitch"!==t)if(0===Object(null===(T=Ae.current)||void 0===T?void 0:T.state).x)Object(null===(E=Ae.current)||void 0===E?void 0:E.state).x=0,Object(null===(M=Ae.current)||void 0===M?void 0:M.state).y=c()?-121*U:-51*U;else U+=1;else if(Object(null===(P=Ae.current)||void 0===P?void 0:P.state).x<0)Object(null===(R=Ae.current)||void 0===R?void 0:R.state).x=0,Object(null===(D=Ae.current)||void 0===D?void 0:D.state).y=(c(),0);if("twitch"!==t){if(0===Object(null===(B=je.current)||void 0===B?void 0:B.state).x)Object(null===(N=je.current)||void 0===N?void 0:N.state).x=0,Object(null===(z=je.current)||void 0===z?void 0:z.state).y=c()?-121*U:-51*U}else if(Object(null===(F=je.current)||void 0===F?void 0:F.state).x<0)Object(null===(Q=je.current)||void 0===Q?void 0:Q.state).x=0,Object(null===(L=je.current)||void 0===L?void 0:L.state).y=(c(),0)}else if(1===e){var G,Y,H,W,J,K,V,X,Z,q,_,$,te,ne,ie,ae,re,se,le,ue,de,pe,ve,Oe,ye,xe,Ce,we,Se,ke,Ie,Te,Ee,Me,Pe,Re,De,Be=0;if(0===Object(null===(G=he.current)||void 0===G?void 0:G.state).x)Object(null===(W=he.current)||void 0===W?void 0:W.state).x=0,Object(null===(J=he.current)||void 0===J?void 0:J.state).y=0;else Be+=1;if(Object(null===(Y=be.current)||void 0===Y?void 0:Y.state).x<0||Object(null===(H=be.current)||void 0===H?void 0:H.state).x>0)Object(null===(K=be.current)||void 0===K?void 0:K.state).x=0,Object(null===(V=be.current)||void 0===V?void 0:V.state).y=c()?-121*Be:-51*Be;else Be+=1;if("twitch"!==t)if(0===Object(null===(X=fe.current)||void 0===X?void 0:X.state).x)Object(null===(Z=fe.current)||void 0===Z?void 0:Z.state).x=0,Object(null===(q=fe.current)||void 0===q?void 0:q.state).y=c()?-121*Be:-51*Be;else Be+=1;else if(Object(null===(_=fe.current)||void 0===_?void 0:_.state).x<0)Object(null===($=fe.current)||void 0===$?void 0:$.state).x=0,Object(null===(te=fe.current)||void 0===te?void 0:te.state).y=(c(),0);if("twitch"!==t)if(0===Object(null===(ne=me.current)||void 0===ne?void 0:ne.state).x)Object(null===(ie=me.current)||void 0===ie?void 0:ie.state).x=0,Object(null===(ae=me.current)||void 0===ae?void 0:ae.state).y=c()?-121*Be:-51*Be;else Be+=1;else if(Object(null===(re=me.current)||void 0===re?void 0:re.state).x<0)Object(null===(se=me.current)||void 0===se?void 0:se.state).x=0,Object(null===(le=me.current)||void 0===le?void 0:le.state).y=(c(),0);if("twitch"!==t)if(0===Object(null===(ue=ge.current)||void 0===ue?void 0:ue.state).x)Object(null===(de=ge.current)||void 0===de?void 0:de.state).x=0,Object(null===(pe=ge.current)||void 0===pe?void 0:pe.state).y=c()?-121*Be:-51*Be;else Be+=1;else if(Object(null===(ve=ge.current)||void 0===ve?void 0:ve.state).x<0)Object(null===(Oe=ge.current)||void 0===Oe?void 0:Oe.state).x=0,Object(null===(ye=ge.current)||void 0===ye?void 0:ye.state).y=(c(),0);if(5!==ze)if(0===Object(null===(xe=Ae.current)||void 0===xe?void 0:xe.state).x)Object(null===(Ce=Ae.current)||void 0===Ce?void 0:Ce.state).x=0,Object(null===(we=Ae.current)||void 0===we?void 0:we.state).y=c()?-121*Be:-51*Be;else Be+=1;else if(Object(null===(Se=Ae.current)||void 0===Se?void 0:Se.state).x<0)Object(null===(ke=Ae.current)||void 0===ke?void 0:ke.state).x=0,Object(null===(Ie=Ae.current)||void 0===Ie?void 0:Ie.state).y=(c(),0);if(6!==ze){if(0===Object(null===(Te=je.current)||void 0===Te?void 0:Te.state).x)Object(null===(Ee=je.current)||void 0===Ee?void 0:Ee.state).x=0,Object(null===(Me=je.current)||void 0===Me?void 0:Me.state).y=c()?-121*Be:-51*Be}else if(Object(null===(Pe=je.current)||void 0===Pe?void 0:Pe.state).x<0)Object(null===(Re=je.current)||void 0===Re?void 0:Re.state).x=0,Object(null===(De=je.current)||void 0===De?void 0:De.state).y=(c(),0)}else if(2===e){var Ne,Fe,Qe,Le,Ue,Ge,Ye,He,We,Je,Ke,Ve,Xe,Ze,qe,_e,$e,et,tt,nt,it,ot,at,rt,st,ct,lt,ut,dt,pt,vt,ht,bt,ft,mt,gt,At,jt,Ot=0;if(0===Object(null===(Ne=he.current)||void 0===Ne?void 0:Ne.state).x)Object(null===(Qe=he.current)||void 0===Qe?void 0:Qe.state).x=0,Object(null===(Le=he.current)||void 0===Le?void 0:Le.state).y=0;else Ot+=1;if(0===Object(null===(Fe=be.current)||void 0===Fe?void 0:Fe.state).x)Object(null===(Ue=be.current)||void 0===Ue?void 0:Ue.state).x=0,Object(null===(Ge=be.current)||void 0===Ge?void 0:Ge.state).y=c()?-121*Ot:-51*Ot;else Ot+=1;if("twitch"!==t)if(Object(null===(Ye=fe.current)||void 0===Ye?void 0:Ye.state).x<0||Object(null===(He=fe.current)||void 0===He?void 0:He.state).x>0)Object(null===(We=fe.current)||void 0===We?void 0:We.state).x=0,Object(null===(Je=fe.current)||void 0===Je?void 0:Je.state).y=c()?-121*Ot:-51*Ot;else Ot+=1;else if(Object(null===(Ke=fe.current)||void 0===Ke?void 0:Ke.state).x<0||Object(null===(Ve=fe.current)||void 0===Ve?void 0:Ve.state).x>0)Object(null===(Xe=fe.current)||void 0===Xe?void 0:Xe.state).x=0,Object(null===(Ze=fe.current)||void 0===Ze?void 0:Ze.state).y=(c(),0);if("twitch"!==t)if(0===Object(null===(qe=me.current)||void 0===qe?void 0:qe.state).x)Object(null===(_e=me.current)||void 0===_e?void 0:_e.state).x=0,Object(null===($e=me.current)||void 0===$e?void 0:$e.state).y=-51*Ot;else Ot+=1;else if(Object(null===(et=me.current)||void 0===et?void 0:et.state).x<0)Object(null===(tt=me.current)||void 0===tt?void 0:tt.state).x=0,Object(null===(nt=me.current)||void 0===nt?void 0:nt.state).y=(c(),0);if("twitch"!==t)if(0===Object(null===(it=ge.current)||void 0===it?void 0:it.state).x)Object(null===(ot=ge.current)||void 0===ot?void 0:ot.state).x=0,Object(null===(at=ge.current)||void 0===at?void 0:at.state).y=c()?-121*Ot:-51*Ot;else Ot+=1;else if(Object(null===(rt=ge.current)||void 0===rt?void 0:rt.state).x<0)Object(null===(st=ge.current)||void 0===st?void 0:st.state).x=0,Object(null===(ct=ge.current)||void 0===ct?void 0:ct.state).y=(c(),0);if("twitch"!==t)if(0===Object(null===(lt=Ae.current)||void 0===lt?void 0:lt.state).x)Object(null===(ut=Ae.current)||void 0===ut?void 0:ut.state).x=0,Object(null===(dt=Ae.current)||void 0===dt?void 0:dt.state).y=c()?-121*Ot:-51*Ot;else Ot+=1;else if(Object(null===(pt=Ae.current)||void 0===pt?void 0:pt.state).x<0)Object(null===(vt=Ae.current)||void 0===vt?void 0:vt.state).x=0,Object(null===(ht=Ae.current)||void 0===ht?void 0:ht.state).y=(c(),0);if("twitch"!==t){if(0===Object(null===(bt=je.current)||void 0===bt?void 0:bt.state).x)Object(null===(ft=je.current)||void 0===ft?void 0:ft.state).x=0,Object(null===(mt=je.current)||void 0===mt?void 0:mt.state).y=c()?-121*Ot:-51*Ot}else if(Object(null===(gt=je.current)||void 0===gt?void 0:gt.state).x<0)Object(null===(At=je.current)||void 0===At?void 0:At.state).x=0,Object(null===(jt=je.current)||void 0===jt?void 0:jt.state).y=(c(),0)}else if(3===e){var yt,xt,Ct,wt,St,kt,It,Tt,Et,Mt,Pt,Rt,Dt,Bt,Nt,zt,Ft,Qt,Lt,Ut,Gt,Yt,Ht,Wt,Jt,Kt,Vt,Xt,Zt,qt,_t,$t,en,tn,nn,on,an,rn=0;if(0===Object(null===(yt=he.current)||void 0===yt?void 0:yt.state).x)Object(null===(Ct=he.current)||void 0===Ct?void 0:Ct.state).x=0,Object(null===(wt=he.current)||void 0===wt?void 0:wt.state).y=0;else rn+=1;if(0===Object(null===(xt=be.current)||void 0===xt?void 0:xt.state).x)Object(null===(St=be.current)||void 0===St?void 0:St.state).x=0,Object(null===(kt=be.current)||void 0===kt?void 0:kt.state).y=c()?-121*rn:-51*rn;else rn+=1;if("twitch"!==t)if(0===Object(null===(It=fe.current)||void 0===It?void 0:It.state).x)Object(null===(Tt=fe.current)||void 0===Tt?void 0:Tt.state).x=0,Object(null===(Et=fe.current)||void 0===Et?void 0:Et.state).y=c()?-121*rn:-51*rn;else rn+=1;else if(Object(null===(Mt=fe.current)||void 0===Mt?void 0:Mt.state).x<0)Object(null===(Pt=fe.current)||void 0===Pt?void 0:Pt.state).x=0,Object(null===(Rt=fe.current)||void 0===Rt?void 0:Rt.state).y=(c(),0);if("twitch"!==t)if(Object(null===(Dt=me.current)||void 0===Dt?void 0:Dt.state).x<0||Object(null===(Bt=me.current)||void 0===Bt?void 0:Bt.state).x>0)Object(null===(Nt=me.current)||void 0===Nt?void 0:Nt.state).x=0,Object(null===(zt=me.current)||void 0===zt?void 0:zt.state).y=c()?-121*rn:-51*rn;else rn+=1;else if(Object(null===(Ft=me.current)||void 0===Ft?void 0:Ft.state).x<0)Object(null===(Qt=me.current)||void 0===Qt?void 0:Qt.state).x=0,Object(null===(Lt=me.current)||void 0===Lt?void 0:Lt.state).y=(c(),0);if("twitch"!==t)if(0===Object(null===(Ut=ge.current)||void 0===Ut?void 0:Ut.state).x)Object(null===(Gt=ge.current)||void 0===Gt?void 0:Gt.state).x=0,Object(null===(Yt=ge.current)||void 0===Yt?void 0:Yt.state).y=c()?-121*rn:-51*rn;else rn+=1;else if(Object(null===(Ht=ge.current)||void 0===Ht?void 0:Ht.state).x<0)Object(null===(Wt=ge.current)||void 0===Wt?void 0:Wt.state).x=0,Object(null===(Jt=ge.current)||void 0===Jt?void 0:Jt.state).y=(c(),0);if("twitch"!==t)if(0===Object(null===(Kt=Ae.current)||void 0===Kt?void 0:Kt.state).x)Object(null===(Vt=Ae.current)||void 0===Vt?void 0:Vt.state).x=0,Object(null===(Xt=Ae.current)||void 0===Xt?void 0:Xt.state).y=c()?-121*rn:-51*rn;else rn+=1;else if(Object(null===(Zt=Ae.current)||void 0===Zt?void 0:Zt.state).x<0)Object(null===(qt=Ae.current)||void 0===qt?void 0:qt.state).x=0,Object(null===(_t=Ae.current)||void 0===_t?void 0:_t.state).y=(c(),0);if("twitch"!==t){if(0===Object(null===($t=je.current)||void 0===$t?void 0:$t.state).x)Object(null===(en=je.current)||void 0===en?void 0:en.state).x=0,Object(null===(tn=je.current)||void 0===tn?void 0:tn.state).y=c()?-121*rn:-51*rn}else if(Object(null===(nn=je.current)||void 0===nn?void 0:nn.state).x<0)Object(null===(on=je.current)||void 0===on?void 0:on.state).x=0,Object(null===(an=je.current)||void 0===an?void 0:an.state).y=(c(),0)}else if(4===e){var sn,cn,ln,un,dn,pn,vn,hn,bn,fn,mn,gn,An,jn,On,yn,xn,Cn,wn,Sn,kn,In,Tn,En,Mn,Pn,Rn,Dn,Bn,Nn,zn,Fn,Qn,Ln,Un,Gn,Yn,Hn=0;if(0===Object(null===(sn=he.current)||void 0===sn?void 0:sn.state).x)Object(null===(ln=he.current)||void 0===ln?void 0:ln.state).x=0,Object(null===(un=he.current)||void 0===un?void 0:un.state).y=0;else Hn+=1;if(0===Object(null===(cn=be.current)||void 0===cn?void 0:cn.state).x)Object(null===(dn=be.current)||void 0===dn?void 0:dn.state).x=0,Object(null===(pn=be.current)||void 0===pn?void 0:pn.state).y=c()?-121*Hn:-51*Hn;else Hn+=1;if("twitch"!==t)if(0===Object(null===(vn=fe.current)||void 0===vn?void 0:vn.state).x)Object(null===(hn=fe.current)||void 0===hn?void 0:hn.state).x=0,Object(null===(bn=fe.current)||void 0===bn?void 0:bn.state).y=c()?-121*Hn:-51*Hn;else Hn+=1;else if(Object(null===(fn=fe.current)||void 0===fn?void 0:fn.state).x<0)Object(null===(mn=fe.current)||void 0===mn?void 0:mn.state).x=0,Object(null===(gn=fe.current)||void 0===gn?void 0:gn.state).y=(c(),0);if("twitch"!==t)if(0===Object(null===(An=me.current)||void 0===An?void 0:An.state).x)Object(null===(jn=me.current)||void 0===jn?void 0:jn.state).x=0,Object(null===(On=me.current)||void 0===On?void 0:On.state).y=c()?-121*Hn:-51*Hn;else Hn+=1;else if(Object(null===(yn=me.current)||void 0===yn?void 0:yn.state).x<0)Object(null===(xn=me.current)||void 0===xn?void 0:xn.state).x=0,Object(null===(Cn=me.current)||void 0===Cn?void 0:Cn.state).y=(c(),0);if("twitch"!==t)if(Object(null===(wn=ge.current)||void 0===wn?void 0:wn.state).x<0||Object(null===(Sn=ge.current)||void 0===Sn?void 0:Sn.state).x>0)Object(null===(kn=ge.current)||void 0===kn?void 0:kn.state).x=0,Object(null===(In=ge.current)||void 0===In?void 0:In.state).y=c()?-121*Hn:-51*Hn;else Hn+=1;else if(Object(null===(Tn=ge.current)||void 0===Tn?void 0:Tn.state).x<0)Object(null===(En=ge.current)||void 0===En?void 0:En.state).x=0,Object(null===(Mn=ge.current)||void 0===Mn?void 0:Mn.state).y=(c(),0);if("twitch"!==t)if(0===Object(null===(Pn=Ae.current)||void 0===Pn?void 0:Pn.state).x)Object(null===(Rn=Ae.current)||void 0===Rn?void 0:Rn.state).x=0,Object(null===(Dn=Ae.current)||void 0===Dn?void 0:Dn.state).y=c()?-121*Hn:-51*Hn;else Hn+=1;else if(Object(null===(Bn=Ae.current)||void 0===Bn?void 0:Bn.state).x<0)Object(null===(Nn=Ae.current)||void 0===Nn?void 0:Nn.state).x=0,Object(null===(zn=Ae.current)||void 0===zn?void 0:zn.state).y=(c(),0);if("twitch"!==t){if(0===Object(null===(Fn=je.current)||void 0===Fn?void 0:Fn.state).x)Object(null===(Qn=je.current)||void 0===Qn?void 0:Qn.state).x=0,Object(null===(Ln=je.current)||void 0===Ln?void 0:Ln.state).y=c()?-121*Hn:-51*Hn}else if(Object(null===(Un=je.current)||void 0===Un?void 0:Un.state).x<0)Object(null===(Gn=je.current)||void 0===Gn?void 0:Gn.state).x=0,Object(null===(Yn=je.current)||void 0===Yn?void 0:Yn.state).y=(c(),0)}else if(5===e){var Wn,Jn,Kn,Vn,Xn,Zn,qn,_n,$n,ei,ti,ni,ii,oi,ai,ri,si,ci,li,ui,di,pi,vi,hi,bi,fi,mi,gi,Ai,ji,Oi,yi,xi,Ci,wi,Si,ki,Ii=0;if(0===Object(null===(Wn=he.current)||void 0===Wn?void 0:Wn.state).x)Object(null===(Kn=he.current)||void 0===Kn?void 0:Kn.state).x=0,Object(null===(Vn=he.current)||void 0===Vn?void 0:Vn.state).y=0;else Ii+=1;if(0===Object(null===(Jn=be.current)||void 0===Jn?void 0:Jn.state).x)Object(null===(Xn=be.current)||void 0===Xn?void 0:Xn.state).x=0,Object(null===(Zn=be.current)||void 0===Zn?void 0:Zn.state).y=c()?-121*Ii:-51*Ii;else Ii+=1;if("twitch"!==t)if(0===Object(null===(qn=fe.current)||void 0===qn?void 0:qn.state).x)Object(null===(_n=fe.current)||void 0===_n?void 0:_n.state).x=0,Object(null===($n=fe.current)||void 0===$n?void 0:$n.state).y=0;else Ii+=1;else if(Object(null===(ei=fe.current)||void 0===ei?void 0:ei.state).x<0)Object(null===(ti=fe.current)||void 0===ti?void 0:ti.state).x=0,Object(null===(ni=fe.current)||void 0===ni?void 0:ni.state).y=(c(),0);if("twitch"!==t)if(0===Object(null===(ii=me.current)||void 0===ii?void 0:ii.state).x)Object(null===(oi=me.current)||void 0===oi?void 0:oi.state).x=0,Object(null===(ai=me.current)||void 0===ai?void 0:ai.state).y=c()?-121*Ii:-51*Ii;else Ii+=1;else if(Object(null===(ri=me.current)||void 0===ri?void 0:ri.state).x<0)Object(null===(si=me.current)||void 0===si?void 0:si.state).x=0,Object(null===(ci=me.current)||void 0===ci?void 0:ci.state).y=(c(),0);if("twitch"!==t)if(0===Object(null===(li=ge.current)||void 0===li?void 0:li.state).x)Object(null===(ui=ge.current)||void 0===ui?void 0:ui.state).x=0,Object(null===(di=ge.current)||void 0===di?void 0:di.state).y=c()?-121*Ii:-51*Ii;else Ii+=1;else if(Object(null===(pi=ge.current)||void 0===pi?void 0:pi.state).x<0)Object(null===(vi=ge.current)||void 0===vi?void 0:vi.state).x=0,Object(null===(hi=ge.current)||void 0===hi?void 0:hi.state).y=(c(),0);if("twitch"!==t)if(Object(null===(bi=Ae.current)||void 0===bi?void 0:bi.state).x<0||Object(null===(fi=Ae.current)||void 0===fi?void 0:fi.state).x>0)Object(null===(mi=Ae.current)||void 0===mi?void 0:mi.state).x=0,Object(null===(gi=Ae.current)||void 0===gi?void 0:gi.state).y=c()?-121*Ii:-51*Ii;else Ii+=1;else if(Object(null===(Ai=Ae.current)||void 0===Ai?void 0:Ai.state).x<0)Object(null===(ji=Ae.current)||void 0===ji?void 0:ji.state).x=0,Object(null===(Oi=Ae.current)||void 0===Oi?void 0:Oi.state).y=(c(),0);if("twitch"!==t){if(0===Object(null===(yi=je.current)||void 0===yi?void 0:yi.state).x)Object(null===(xi=je.current)||void 0===xi?void 0:xi.state).x=0,Object(null===(Ci=je.current)||void 0===Ci?void 0:Ci.state).y=c()?-121*Ii:-51*Ii}else if(Object(null===(wi=je.current)||void 0===wi?void 0:wi.state).x<0)Object(null===(Si=je.current)||void 0===Si?void 0:Si.state).x=0,Object(null===(ki=je.current)||void 0===ki?void 0:ki.state).y=(c(),0)}else if(6===e){var Ti,Ei,Mi,Pi,Ri,Di,Bi,Ni,zi,Fi,Qi,Li,Ui,Gi,Yi,Hi,Wi,Ji,Ki,Vi,Xi,Zi,qi,_i,$i,eo,to,no,io,oo,ao,ro,so,co,lo,uo,po,vo=0;if(0===Object(null===(Ti=he.current)||void 0===Ti?void 0:Ti.state).x)Object(null===(Mi=he.current)||void 0===Mi?void 0:Mi.state).x=0,Object(null===(Pi=he.current)||void 0===Pi?void 0:Pi.state).y=0;else vo+=1;if(0===Object(null===(Ei=be.current)||void 0===Ei?void 0:Ei.state).x)Object(null===(Ri=be.current)||void 0===Ri?void 0:Ri.state).x=0,Object(null===(Di=be.current)||void 0===Di?void 0:Di.state).y=c()?-121*vo:-51*vo;else vo+=1;if("twitch"!==t)if(0===Object(null===(Bi=fe.current)||void 0===Bi?void 0:Bi.state).x)Object(null===(Ni=fe.current)||void 0===Ni?void 0:Ni.state).x=0,Object(null===(zi=fe.current)||void 0===zi?void 0:zi.state).y=0;else vo+=1;else if(Object(null===(Fi=fe.current)||void 0===Fi?void 0:Fi.state).x<0)Object(null===(Qi=fe.current)||void 0===Qi?void 0:Qi.state).x=0,Object(null===(Li=fe.current)||void 0===Li?void 0:Li.state).y=(c(),0);if("twitch"!==t)if(0===Object(null===(Ui=me.current)||void 0===Ui?void 0:Ui.state).x)Object(null===(Gi=me.current)||void 0===Gi?void 0:Gi.state).x=0,Object(null===(Yi=me.current)||void 0===Yi?void 0:Yi.state).y=c()?-121*vo:-51*vo;else vo+=1;else if(Object(null===(Hi=me.current)||void 0===Hi?void 0:Hi.state).x<0)Object(null===(Wi=me.current)||void 0===Wi?void 0:Wi.state).x=0,Object(null===(Ji=me.current)||void 0===Ji?void 0:Ji.state).y=(c(),0);if("twitch"!==t)if(0===Object(null===(Ki=ge.current)||void 0===Ki?void 0:Ki.state).x)Object(null===(Vi=ge.current)||void 0===Vi?void 0:Vi.state).x=0,Object(null===(Xi=ge.current)||void 0===Xi?void 0:Xi.state).y=c()?-121*vo:-51*vo;else vo+=1;else if(Object(null===(Zi=ge.current)||void 0===Zi?void 0:Zi.state).x<0)Object(null===(qi=ge.current)||void 0===qi?void 0:qi.state).x=0,Object(null===(_i=ge.current)||void 0===_i?void 0:_i.state).y=(c(),0);if("twitch"!==t)if(0===Object(null===($i=Ae.current)||void 0===$i?void 0:$i.state).x)Object(null===(eo=Ae.current)||void 0===eo?void 0:eo.state).x=0,Object(null===(to=Ae.current)||void 0===to?void 0:to.state).y=c()?-121*vo:-51*vo;else vo+=1;else if(Object(null===(no=Ae.current)||void 0===no?void 0:no.state).x<0)Object(null===(io=Ae.current)||void 0===io?void 0:io.state).x=0,Object(null===(oo=Ae.current)||void 0===oo?void 0:oo.state).y=(c(),0);if("twitch"!==t){if(Object(null===(ao=je.current)||void 0===ao?void 0:ao.state).x<0||Object(null===(ro=je.current)||void 0===ro?void 0:ro.state).x>0)Object(null===(so=je.current)||void 0===so?void 0:so.state).x=0,Object(null===(co=je.current)||void 0===co?void 0:co.state).y=c()?-121*vo:-51*vo}else if(Object(null===(lo=je.current)||void 0===lo?void 0:lo.state).x<0)Object(null===(uo=je.current)||void 0===uo?void 0:uo.state).x=0,Object(null===(po=je.current)||void 0===po?void 0:po.state).y=(c(),0)}Bv=-2,ee({x:0,y:0}),oe({x:0,y:0}),ce(-1),g(t)}window.addEventListener("keydown",(function(e){e.ctrlKey||"F3"===e.key&&!1===Fe&&(e.preventDefault(),Fe=!0,!0===s?u(!1):!1===s&&u(!0))}),{}),window.addEventListener("touchmove",(function(e){e.preventDefault()}),{passive:!1,capture:!1}),window.addEventListener("contextmenu",(function(e){e.preventDefault()}),{passive:!1,capture:!1}),window.onerror=function(e,t,n,i,a){return"Ping timeout"!==(null===a||void 0===a?void 0:a.message)&&"Strophe: Websocket error [object Event]"!==(null===a||void 0===a?void 0:a.message)||null!==e||null!==t||null!==n||null!==i?console.warn("Global handler: ".concat(e),t,n,i,a):(da.setType("connection"),null!==o.testBot&&window.location.reload()),!0};var lt,ut=[];function dt(e,n,i,o){e.preventDefault(),ut.push((new Date).getTime()),window.clearTimeout(lt),lt=window.setTimeout((function(){var a,r;ut.length>1&&ut[ut.length-1]-ut[ut.length-2]<250?function(e,n,i,o){if(0!==o||"chat"!==n&&"content"!==n)if(1!==o||"chat"!==n&&"content"!==n)if(2!==o||"chat"!==n&&"content"!==n)if(3!==o||"chat"!==n&&"content"!==n)if(4!==o||"chat"!==n&&"content"!==n)if(5!==o||"chat"!==n&&"content"!==n)if(6!==o||"chat"!==n&&"content"!==n)if(9!==o||"chat"!==n&&"content"!==n){if(0===o){var a,r,s;if(Object(null===(a=he.current)||void 0===a?void 0:a.state).x<0||Object(null===(r=he.current)||void 0===r?void 0:r.state).x>0)return;Object(null===(s=he.current)||void 0===s?void 0:s.state).x=-99999999}else if(1===o){var l,d,p;if(Object(null===(l=be.current)||void 0===l?void 0:l.state).x<0||Object(null===(d=be.current)||void 0===d?void 0:d.state).x>0)return;Object(null===(p=be.current)||void 0===p?void 0:p.state).x=-99999999}else if(2===o){var v,h,b;if(Object(null===(v=fe.current)||void 0===v?void 0:v.state).x<0||Object(null===(h=fe.current)||void 0===h?void 0:h.state).x>0)return;Object(null===(b=fe.current)||void 0===b?void 0:b.state).x=-99999999}else if(3===o){var f,m,A;if(Object(null===(f=me.current)||void 0===f?void 0:f.state).x<0||Object(null===(m=me.current)||void 0===m?void 0:m.state).x>0)return;Object(null===(A=me.current)||void 0===A?void 0:A.state).x=-99999999}else if(4===o){var j,O,y;if(Object(null===(j=ge.current)||void 0===j?void 0:j.state).x<0||Object(null===(O=ge.current)||void 0===O?void 0:O.state).x>0)return;Object(null===(y=ge.current)||void 0===y?void 0:y.state).x=-99999999}else if(5===o){var x,C,w;if(Object(null===(x=Ae.current)||void 0===x?void 0:x.state).x<0||Object(null===(C=Ae.current)||void 0===C?void 0:C.state).x>0)return;Object(null===(w=Ae.current)||void 0===w?void 0:w.state).x=-99999999}else if(6===o){var S,k,I;if(Object(null===(S=je.current)||void 0===S?void 0:S.state).x<0||Object(null===(k=je.current)||void 0===k?void 0:k.state).x>0)return;Object(null===(I=je.current)||void 0===I?void 0:I.state).x=-99999999}else if(9===o){var T,E,M;if(Object(null===(T=xe.current)||void 0===T?void 0:T.state).x<0||Object(null===(E=xe.current)||void 0===E?void 0:E.state).x>0)return;Object(null===(M=xe.current)||void 0===M?void 0:M.state).x=-99999999}var P=window.open("twitch"===n?i+"&parent="+Se+"&autoplay=true":i,"","width=400,height=650,left=500,top=100"),R=setInterval((function(){if(null!==P&&void 0!==P&&P.closed){if(clearInterval(R),0===o){var e,t,i,a,r,s,l,u,d,p,v,h,b,f,m,A,j,O,y,x,C,w,S,k,I,T,E,M,D,B,N,z,F,Q,L,U,G,Y=0;Object(null===(e=he.current)||void 0===e?void 0:e.state).x<0||Object(null===(t=he.current)||void 0===t?void 0:t.state).x>0?(Object(null===(a=he.current)||void 0===a?void 0:a.state).x=0,Object(null===(r=he.current)||void 0===r?void 0:r.state).y=0):Y+=1,0===Object(null===(i=be.current)||void 0===i?void 0:i.state).x?(Object(null===(s=be.current)||void 0===s?void 0:s.state).x=0,Object(null===(l=be.current)||void 0===l?void 0:l.state).y=c()?-121*Y:-51*Y):Y+=1,2!==ze?0===Object(null===(u=fe.current)||void 0===u?void 0:u.state).x?(Object(null===(d=fe.current)||void 0===d?void 0:d.state).x=0,Object(null===(p=fe.current)||void 0===p?void 0:p.state).y=c()?-121*Y:-51*Y):Y+=1:Object(null===(v=fe.current)||void 0===v?void 0:v.state).x<0&&(Object(null===(h=fe.current)||void 0===h?void 0:h.state).x=0,Object(null===(b=fe.current)||void 0===b?void 0:b.state).y=(c(),0)),3!==ze?0===Object(null===(f=me.current)||void 0===f?void 0:f.state).x?(Object(null===(m=me.current)||void 0===m?void 0:m.state).x=0,Object(null===(A=me.current)||void 0===A?void 0:A.state).y=c()?-121*Y:-51*Y):Y+=1:Object(null===(j=me.current)||void 0===j?void 0:j.state).x<0&&(Object(null===(O=me.current)||void 0===O?void 0:O.state).x=0,Object(null===(y=me.current)||void 0===y?void 0:y.state).y=(c(),0)),4!==ze?0===Object(null===(x=ge.current)||void 0===x?void 0:x.state).x?(Object(null===(C=ge.current)||void 0===C?void 0:C.state).x=0,Object(null===(w=ge.current)||void 0===w?void 0:w.state).y=c()?-121*Y:-51*Y):Y+=1:Object(null===(S=ge.current)||void 0===S?void 0:S.state).x<0&&(Object(null===(k=ge.current)||void 0===k?void 0:k.state).x=0,Object(null===(I=ge.current)||void 0===I?void 0:I.state).y=(c(),0)),5!==ze?0===Object(null===(T=Ae.current)||void 0===T?void 0:T.state).x?(Object(null===(E=Ae.current)||void 0===E?void 0:E.state).x=0,Object(null===(M=Ae.current)||void 0===M?void 0:M.state).y=c()?-121*Y:-51*Y):Y+=1:Object(null===(D=Ae.current)||void 0===D?void 0:D.state).x<0&&(Object(null===(B=Ae.current)||void 0===B?void 0:B.state).x=0,Object(null===(N=Ae.current)||void 0===N?void 0:N.state).y=(c(),0)),6!==ze?0===Object(null===(z=je.current)||void 0===z?void 0:z.state).x&&(Object(null===(F=je.current)||void 0===F?void 0:F.state).x=0,Object(null===(Q=je.current)||void 0===Q?void 0:Q.state).y=c()?-121*Y:-51*Y):Object(null===(L=je.current)||void 0===L?void 0:L.state).x<0&&(Object(null===(U=je.current)||void 0===U?void 0:U.state).x=0,Object(null===(G=je.current)||void 0===G?void 0:G.state).y=(c(),0))}else if(1===o){var H,W,J,K,V,X,Z,q,_,$,te,ne,ie,ae,re,se,ce,le,ue,de,pe,ve,Oe,ye,xe,Ce,we,Se,ke,Ie,Te,Ee,Me,Pe,Re,De,Be,Ne=0;0===Object(null===(H=he.current)||void 0===H?void 0:H.state).x?(Object(null===(K=he.current)||void 0===K?void 0:K.state).x=0,Object(null===(V=he.current)||void 0===V?void 0:V.state).y=0):Ne+=1,Object(null===(W=be.current)||void 0===W?void 0:W.state).x<0||Object(null===(J=be.current)||void 0===J?void 0:J.state).x>0?(Object(null===(X=be.current)||void 0===X?void 0:X.state).x=0,Object(null===(Z=be.current)||void 0===Z?void 0:Z.state).y=c()?-121*Ne:-51*Ne):Ne+=1,2!==ze?0===Object(null===(q=fe.current)||void 0===q?void 0:q.state).x?(Object(null===(_=fe.current)||void 0===_?void 0:_.state).x=0,Object(null===($=fe.current)||void 0===$?void 0:$.state).y=c()?-121*Ne:-51*Ne):Ne+=1:Object(null===(te=fe.current)||void 0===te?void 0:te.state).x<0&&(Object(null===(ne=fe.current)||void 0===ne?void 0:ne.state).x=0,Object(null===(ie=fe.current)||void 0===ie?void 0:ie.state).y=(c(),0)),3!==ze?0===Object(null===(ae=me.current)||void 0===ae?void 0:ae.state).x?(Object(null===(re=me.current)||void 0===re?void 0:re.state).x=0,Object(null===(se=me.current)||void 0===se?void 0:se.state).y=c()?-121*Ne:-51*Ne):Ne+=1:Object(null===(ce=me.current)||void 0===ce?void 0:ce.state).x<0&&(Object(null===(le=me.current)||void 0===le?void 0:le.state).x=0,Object(null===(ue=me.current)||void 0===ue?void 0:ue.state).y=(c(),0)),4!==ze?0===Object(null===(de=ge.current)||void 0===de?void 0:de.state).x?(Object(null===(pe=ge.current)||void 0===pe?void 0:pe.state).x=0,Object(null===(ve=ge.current)||void 0===ve?void 0:ve.state).y=c()?-121*Ne:-51*Ne):Ne+=1:Object(null===(Oe=ge.current)||void 0===Oe?void 0:Oe.state).x<0&&(Object(null===(ye=ge.current)||void 0===ye?void 0:ye.state).x=0,Object(null===(xe=ge.current)||void 0===xe?void 0:xe.state).y=(c(),0)),5!==ze?0===Object(null===(Ce=Ae.current)||void 0===Ce?void 0:Ce.state).x?(Object(null===(we=Ae.current)||void 0===we?void 0:we.state).x=0,Object(null===(Se=Ae.current)||void 0===Se?void 0:Se.state).y=c()?-121*Ne:-51*Ne):Ne+=1:Object(null===(ke=Ae.current)||void 0===ke?void 0:ke.state).x<0&&(Object(null===(Ie=Ae.current)||void 0===Ie?void 0:Ie.state).x=0,Object(null===(Te=Ae.current)||void 0===Te?void 0:Te.state).y=(c(),0)),6!==ze?0===Object(null===(Ee=je.current)||void 0===Ee?void 0:Ee.state).x&&(Object(null===(Me=je.current)||void 0===Me?void 0:Me.state).x=0,Object(null===(Pe=je.current)||void 0===Pe?void 0:Pe.state).y=c()?-121*Ne:-51*Ne):Object(null===(Re=je.current)||void 0===Re?void 0:Re.state).x<0&&(Object(null===(De=je.current)||void 0===De?void 0:De.state).x=0,Object(null===(Be=je.current)||void 0===Be?void 0:Be.state).y=(c(),0))}else if(2===o){var Fe,Qe,Le,Ue,Ge,Ye,He,We,Je,Ke,Ve,Xe,Ze,qe,_e,$e,et,tt,nt,it,ot,at,rt,st,ct,lt,ut,dt,pt,vt,ht,bt,ft,mt,gt,At,jt,Ot,yt=0;0===Object(null===(Fe=he.current)||void 0===Fe?void 0:Fe.state).x?(Object(null===(Le=he.current)||void 0===Le?void 0:Le.state).x=0,Object(null===(Ue=he.current)||void 0===Ue?void 0:Ue.state).y=0):yt+=1,0===Object(null===(Qe=be.current)||void 0===Qe?void 0:Qe.state).x?(Object(null===(Ge=be.current)||void 0===Ge?void 0:Ge.state).x=0,Object(null===(Ye=be.current)||void 0===Ye?void 0:Ye.state).y=c()?-121*yt:-51*yt):yt+=1,2!==ze?Object(null===(He=fe.current)||void 0===He?void 0:He.state).x<0||Object(null===(We=fe.current)||void 0===We?void 0:We.state).x>0?(Object(null===(Je=fe.current)||void 0===Je?void 0:Je.state).x=0,Object(null===(Ke=fe.current)||void 0===Ke?void 0:Ke.state).y=c()?-121*yt:-51*yt):yt+=1:(Object(null===(Ve=fe.current)||void 0===Ve?void 0:Ve.state).x<0||Object(null===(Xe=fe.current)||void 0===Xe?void 0:Xe.state).x>0)&&(Object(null===(Ze=fe.current)||void 0===Ze?void 0:Ze.state).x=0,Object(null===(qe=fe.current)||void 0===qe?void 0:qe.state).y=(c(),0)),3!==ze?0===Object(null===(_e=me.current)||void 0===_e?void 0:_e.state).x?(Object(null===($e=me.current)||void 0===$e?void 0:$e.state).x=0,Object(null===(et=me.current)||void 0===et?void 0:et.state).y=c()?-121*yt:-51*yt):yt+=1:Object(null===(tt=me.current)||void 0===tt?void 0:tt.state).x<0&&(Object(null===(nt=me.current)||void 0===nt?void 0:nt.state).x=0,Object(null===(it=me.current)||void 0===it?void 0:it.state).y=(c(),0)),4!==ze?0===Object(null===(ot=ge.current)||void 0===ot?void 0:ot.state).x?(Object(null===(at=ge.current)||void 0===at?void 0:at.state).x=0,Object(null===(rt=ge.current)||void 0===rt?void 0:rt.state).y=c()?-121*yt:-51*yt):yt+=1:Object(null===(st=ge.current)||void 0===st?void 0:st.state).x<0&&(Object(null===(ct=ge.current)||void 0===ct?void 0:ct.state).x=0,Object(null===(lt=ge.current)||void 0===lt?void 0:lt.state).y=(c(),0)),5!==ze?0===Object(null===(ut=Ae.current)||void 0===ut?void 0:ut.state).x?(Object(null===(dt=Ae.current)||void 0===dt?void 0:dt.state).x=0,Object(null===(pt=Ae.current)||void 0===pt?void 0:pt.state).y=c()?-121*yt:-51*yt):yt+=1:Object(null===(vt=Ae.current)||void 0===vt?void 0:vt.state).x<0&&(Object(null===(ht=Ae.current)||void 0===ht?void 0:ht.state).x=0,Object(null===(bt=Ae.current)||void 0===bt?void 0:bt.state).y=(c(),0)),6!==ze?0===Object(null===(ft=je.current)||void 0===ft?void 0:ft.state).x&&(Object(null===(mt=je.current)||void 0===mt?void 0:mt.state).x=0,Object(null===(gt=je.current)||void 0===gt?void 0:gt.state).y=c()?-121*yt:-51*yt):Object(null===(At=je.current)||void 0===At?void 0:At.state).x<0&&(Object(null===(jt=je.current)||void 0===jt?void 0:jt.state).x=0,Object(null===(Ot=je.current)||void 0===Ot?void 0:Ot.state).y=(c(),0))}else if(3===o){var xt,Ct,wt,St,kt,It,Tt,Et,Mt,Pt,Rt,Dt,Bt,Nt,zt,Ft,Qt,Lt,Ut,Gt,Yt,Ht,Wt,Jt,Kt,Vt,Xt,Zt,qt,_t,$t,en,tn,nn,on,an,rn,sn,cn=0;0===Object(null===(xt=he.current)||void 0===xt?void 0:xt.state).x?(Object(null===(wt=he.current)||void 0===wt?void 0:wt.state).x=0,Object(null===(St=he.current)||void 0===St?void 0:St.state).y=0):cn+=1,0===Object(null===(Ct=be.current)||void 0===Ct?void 0:Ct.state).x?(Object(null===(kt=be.current)||void 0===kt?void 0:kt.state).x=0,Object(null===(It=be.current)||void 0===It?void 0:It.state).y=c()?-121*cn:-51*cn):cn+=1,2!==ze?0===Object(null===(Tt=fe.current)||void 0===Tt?void 0:Tt.state).x?(Object(null===(Et=fe.current)||void 0===Et?void 0:Et.state).x=0,Object(null===(Mt=fe.current)||void 0===Mt?void 0:Mt.state).y=c()?-121*cn:-51*cn):cn+=1:Object(null===(Pt=fe.current)||void 0===Pt?void 0:Pt.state).x<0&&(Object(null===(Rt=fe.current)||void 0===Rt?void 0:Rt.state).x=0,Object(null===(Dt=fe.current)||void 0===Dt?void 0:Dt.state).y=(c(),0)),3!==ze?Object(null===(Bt=me.current)||void 0===Bt?void 0:Bt.state).x<0||Object(null===(Nt=me.current)||void 0===Nt?void 0:Nt.state).x>0?(Object(null===(zt=me.current)||void 0===zt?void 0:zt.state).x=0,Object(null===(Ft=me.current)||void 0===Ft?void 0:Ft.state).y=c()?-121*cn:-51*cn):cn+=1:(Object(null===(Qt=me.current)||void 0===Qt?void 0:Qt.state).x<0||Object(null===(Lt=me.current)||void 0===Lt?void 0:Lt.state).x>0)&&(Object(null===(Ut=me.current)||void 0===Ut?void 0:Ut.state).x=0,Object(null===(Gt=me.current)||void 0===Gt?void 0:Gt.state).y=(c(),0)),4!==ze?0===Object(null===(Yt=ge.current)||void 0===Yt?void 0:Yt.state).x?(Object(null===(Ht=ge.current)||void 0===Ht?void 0:Ht.state).x=0,Object(null===(Wt=ge.current)||void 0===Wt?void 0:Wt.state).y=0):cn+=1:Object(null===(Jt=ge.current)||void 0===Jt?void 0:Jt.state).x<0&&(Object(null===(Kt=ge.current)||void 0===Kt?void 0:Kt.state).x=0,Object(null===(Vt=ge.current)||void 0===Vt?void 0:Vt.state).y=(c(),0)),5!==ze?0===Object(null===(Xt=Ae.current)||void 0===Xt?void 0:Xt.state).x?(Object(null===(Zt=Ae.current)||void 0===Zt?void 0:Zt.state).x=0,Object(null===(qt=Ae.current)||void 0===qt?void 0:qt.state).y=c()?-121*cn:-51*cn):cn+=1:Object(null===(_t=Ae.current)||void 0===_t?void 0:_t.state).x<0&&(Object(null===($t=Ae.current)||void 0===$t?void 0:$t.state).x=0,Object(null===(en=Ae.current)||void 0===en?void 0:en.state).y=(c(),0)),6!==ze?0===Object(null===(tn=je.current)||void 0===tn?void 0:tn.state).x&&(Object(null===(nn=je.current)||void 0===nn?void 0:nn.state).x=0,Object(null===(on=je.current)||void 0===on?void 0:on.state).y=c()?-121*cn:-51*cn):Object(null===(an=je.current)||void 0===an?void 0:an.state).x<0&&(Object(null===(rn=je.current)||void 0===rn?void 0:rn.state).x=0,Object(null===(sn=je.current)||void 0===sn?void 0:sn.state).y=(c(),0))}else if(4===o){var ln,un,dn,pn,vn,hn,bn,fn,mn,gn,An,jn,On,yn,xn,Cn,wn,Sn,kn,In,Tn,En,Mn,Pn,Rn,Dn,Bn,Nn,zn,Fn,Qn,Ln,Un,Gn,Yn,Hn,Wn,Jn,Kn=0;0===Object(null===(ln=he.current)||void 0===ln?void 0:ln.state).x?(Object(null===(dn=he.current)||void 0===dn?void 0:dn.state).x=0,Object(null===(pn=he.current)||void 0===pn?void 0:pn.state).y=0):Kn+=1,0===Object(null===(un=be.current)||void 0===un?void 0:un.state).x?(Object(null===(vn=be.current)||void 0===vn?void 0:vn.state).x=0,Object(null===(hn=be.current)||void 0===hn?void 0:hn.state).y=c()?-121*Kn:-51*Kn):Kn+=1,2!==ze?0===Object(null===(bn=fe.current)||void 0===bn?void 0:bn.state).x?(Object(null===(fn=fe.current)||void 0===fn?void 0:fn.state).x=0,Object(null===(mn=fe.current)||void 0===mn?void 0:mn.state).y=c()?-121*Kn:-51*Kn):Kn+=1:Object(null===(gn=fe.current)||void 0===gn?void 0:gn.state).x<0&&(Object(null===(An=fe.current)||void 0===An?void 0:An.state).x=0,Object(null===(jn=fe.current)||void 0===jn?void 0:jn.state).y=(c(),0)),3!==ze?0===Object(null===(On=me.current)||void 0===On?void 0:On.state).x?(Object(null===(yn=me.current)||void 0===yn?void 0:yn.state).x=0,Object(null===(xn=me.current)||void 0===xn?void 0:xn.state).y=c()?-121*Kn:-51*Kn):Kn+=1:Object(null===(Cn=me.current)||void 0===Cn?void 0:Cn.state).x<0&&(Object(null===(wn=me.current)||void 0===wn?void 0:wn.state).x=0,Object(null===(Sn=me.current)||void 0===Sn?void 0:Sn.state).y=(c(),0)),4!==ze?Object(null===(kn=ge.current)||void 0===kn?void 0:kn.state).x<0||Object(null===(In=ge.current)||void 0===In?void 0:In.state).x>0?(Object(null===(Tn=ge.current)||void 0===Tn?void 0:Tn.state).x=0,Object(null===(En=ge.current)||void 0===En?void 0:En.state).y=c()?-121*Kn:-51*Kn):Kn+=1:(Object(null===(Mn=ge.current)||void 0===Mn?void 0:Mn.state).x<0||Object(null===(Pn=ge.current)||void 0===Pn?void 0:Pn.state).x>0)&&(Object(null===(Rn=ge.current)||void 0===Rn?void 0:Rn.state).x=0,Object(null===(Dn=ge.current)||void 0===Dn?void 0:Dn.state).y=(c(),0)),5!==ze?0===Object(null===(Bn=Ae.current)||void 0===Bn?void 0:Bn.state).x?(Object(null===(Nn=Ae.current)||void 0===Nn?void 0:Nn.state).x=0,Object(null===(zn=Ae.current)||void 0===zn?void 0:zn.state).y=c()?-121*Kn:-51*Kn):Kn+=1:Object(null===(Fn=Ae.current)||void 0===Fn?void 0:Fn.state).x<0&&(Object(null===(Qn=Ae.current)||void 0===Qn?void 0:Qn.state).x=0,Object(null===(Ln=Ae.current)||void 0===Ln?void 0:Ln.state).y=(c(),0)),6!==ze?0===Object(null===(Un=je.current)||void 0===Un?void 0:Un.state).x&&(Object(null===(Gn=je.current)||void 0===Gn?void 0:Gn.state).x=0,Object(null===(Yn=je.current)||void 0===Yn?void 0:Yn.state).y=c()?-121*Kn:-51*Kn):Object(null===(Hn=je.current)||void 0===Hn?void 0:Hn.state).x<0&&(Object(null===(Wn=je.current)||void 0===Wn?void 0:Wn.state).x=0,Object(null===(Jn=je.current)||void 0===Jn?void 0:Jn.state).y=(c(),0))}else if(5===o){var Vn,Xn,Zn,qn,_n,$n,ei,ti,ni,ii,oi,ai,ri,si,ci,li,ui,di,pi,vi,hi,bi,fi,mi,gi,Ai,ji,Oi,yi,xi,Ci,wi,Si,ki,Ii,Ti,Ei,Mi,Pi=0;0===Object(null===(Vn=he.current)||void 0===Vn?void 0:Vn.state).x?(Object(null===(Zn=he.current)||void 0===Zn?void 0:Zn.state).x=0,Object(null===(qn=he.current)||void 0===qn?void 0:qn.state).y=0):Pi+=1,0===Object(null===(Xn=be.current)||void 0===Xn?void 0:Xn.state).x?(Object(null===(_n=be.current)||void 0===_n?void 0:_n.state).x=0,Object(null===($n=be.current)||void 0===$n?void 0:$n.state).y=c()?-121*Pi:-51*Pi):Pi+=1,2!==ze?0===Object(null===(ei=fe.current)||void 0===ei?void 0:ei.state).x?(Object(null===(ti=fe.current)||void 0===ti?void 0:ti.state).x=0,Object(null===(ni=fe.current)||void 0===ni?void 0:ni.state).y=c()?-121*Pi:-51*Pi):Pi+=1:Object(null===(ii=fe.current)||void 0===ii?void 0:ii.state).x<0&&(Object(null===(oi=fe.current)||void 0===oi?void 0:oi.state).x=0,Object(null===(ai=fe.current)||void 0===ai?void 0:ai.state).y=(c(),0)),3!==ze?0===Object(null===(ri=me.current)||void 0===ri?void 0:ri.state).x?(Object(null===(si=me.current)||void 0===si?void 0:si.state).x=0,Object(null===(ci=me.current)||void 0===ci?void 0:ci.state).y=c()?-121*Pi:-51*Pi):Pi+=1:Object(null===(li=me.current)||void 0===li?void 0:li.state).x<0&&(Object(null===(ui=me.current)||void 0===ui?void 0:ui.state).x=0,Object(null===(di=me.current)||void 0===di?void 0:di.state).y=(c(),0)),4!==ze?0===Object(null===(pi=ge.current)||void 0===pi?void 0:pi.state).x?(Object(null===(vi=ge.current)||void 0===vi?void 0:vi.state).x=0,Object(null===(hi=ge.current)||void 0===hi?void 0:hi.state).y=c()?-121*Pi:-51*Pi):Pi+=1:Object(null===(bi=ge.current)||void 0===bi?void 0:bi.state).x<0&&(Object(null===(fi=ge.current)||void 0===fi?void 0:fi.state).x=0,Object(null===(mi=ge.current)||void 0===mi?void 0:mi.state).y=(c(),0)),5!==ze?Object(null===(gi=Ae.current)||void 0===gi?void 0:gi.state).x<0||Object(null===(Ai=Ae.current)||void 0===Ai?void 0:Ai.state).x>0?(Object(null===(ji=Ae.current)||void 0===ji?void 0:ji.state).x=0,Object(null===(Oi=Ae.current)||void 0===Oi?void 0:Oi.state).y=c()?-121*Pi:-51*Pi):Pi+=1:(Object(null===(yi=Ae.current)||void 0===yi?void 0:yi.state).x<0||Object(null===(xi=Ae.current)||void 0===xi?void 0:xi.state).x>0)&&(Object(null===(Ci=Ae.current)||void 0===Ci?void 0:Ci.state).x=0,Object(null===(wi=Ae.current)||void 0===wi?void 0:wi.state).y=(c(),0)),6!==ze?0===Object(null===(Si=je.current)||void 0===Si?void 0:Si.state).x&&(Object(null===(ki=je.current)||void 0===ki?void 0:ki.state).x=0,Object(null===(Ii=je.current)||void 0===Ii?void 0:Ii.state).y=c()?-121*Pi:-51*Pi):Object(null===(Ti=je.current)||void 0===Ti?void 0:Ti.state).x<0&&(Object(null===(Ei=je.current)||void 0===Ei?void 0:Ei.state).x=0,Object(null===(Mi=je.current)||void 0===Mi?void 0:Mi.state).y=(c(),0))}else if(6===o){var Ri,Di,Bi,Ni,zi,Fi,Qi,Li,Ui,Gi,Yi,Hi,Wi,Ji,Ki,Vi,Xi,Zi,qi,_i,$i,eo,to,no,io,oo,ao,ro,so,co,lo,uo,po,vo,ho,bo,fo,mo,go=0;0===Object(null===(Ri=he.current)||void 0===Ri?void 0:Ri.state).x?(Object(null===(Bi=he.current)||void 0===Bi?void 0:Bi.state).x=0,Object(null===(Ni=he.current)||void 0===Ni?void 0:Ni.state).y=0):go+=1,0===Object(null===(Di=be.current)||void 0===Di?void 0:Di.state).x?(Object(null===(zi=be.current)||void 0===zi?void 0:zi.state).x=0,Object(null===(Fi=be.current)||void 0===Fi?void 0:Fi.state).y=c()?-121*go:-51*go):go+=1,2!==ze?0===Object(null===(Qi=fe.current)||void 0===Qi?void 0:Qi.state).x?(Object(null===(Li=fe.current)||void 0===Li?void 0:Li.state).x=0,Object(null===(Ui=fe.current)||void 0===Ui?void 0:Ui.state).y=c()?-121*go:-51*go):go+=1:Object(null===(Gi=fe.current)||void 0===Gi?void 0:Gi.state).x<0&&(Object(null===(Yi=fe.current)||void 0===Yi?void 0:Yi.state).x=0,Object(null===(Hi=fe.current)||void 0===Hi?void 0:Hi.state).y=(c(),0)),3!==ze?0===Object(null===(Wi=me.current)||void 0===Wi?void 0:Wi.state).x?(Object(null===(Ji=me.current)||void 0===Ji?void 0:Ji.state).x=0,Object(null===(Ki=me.current)||void 0===Ki?void 0:Ki.state).y=c()?-121*go:-51*go):go+=1:Object(null===(Vi=me.current)||void 0===Vi?void 0:Vi.state).x<0&&(Object(null===(Xi=me.current)||void 0===Xi?void 0:Xi.state).x=0,Object(null===(Zi=me.current)||void 0===Zi?void 0:Zi.state).y=(c(),0)),4!==ze?0===Object(null===(qi=ge.current)||void 0===qi?void 0:qi.state).x?(Object(null===(_i=ge.current)||void 0===_i?void 0:_i.state).x=0,Object(null===($i=ge.current)||void 0===$i?void 0:$i.state).y=c()?-121*go:-51*go):go+=1:Object(null===(eo=ge.current)||void 0===eo?void 0:eo.state).x<0&&(Object(null===(to=ge.current)||void 0===to?void 0:to.state).x=0,Object(null===(no=ge.current)||void 0===no?void 0:no.state).y=(c(),0)),5!==ze?0===Object(null===(io=Ae.current)||void 0===io?void 0:io.state).x?(Object(null===(oo=Ae.current)||void 0===oo?void 0:oo.state).x=0,Object(null===(ao=Ae.current)||void 0===ao?void 0:ao.state).y=c()?-121*go:-51*go):go+=1:Object(null===(ro=Ae.current)||void 0===ro?void 0:ro.state).x<0&&(Object(null===(so=Ae.current)||void 0===so?void 0:so.state).x=0,Object(null===(co=Ae.current)||void 0===co?void 0:co.state).y=(c(),0)),6!==ze?(Object(null===(lo=je.current)||void 0===lo?void 0:lo.state).x<0||Object(null===(uo=je.current)||void 0===uo?void 0:uo.state).x>0)&&(Object(null===(po=je.current)||void 0===po?void 0:po.state).x=0,Object(null===(vo=je.current)||void 0===vo?void 0:vo.state).y=c()?-121*go:-51*go):(Object(null===(ho=je.current)||void 0===ho?void 0:ho.state).x<0||Object(null===(bo=je.current)||void 0===bo?void 0:bo.state).x>0)&&(Object(null===(fo=je.current)||void 0===fo?void 0:fo.state).x=0,Object(null===(mo=je.current)||void 0===mo?void 0:mo.state).y=(c(),0))}Bv=-2,ee({x:0,y:0}),oe({x:0,y:0}),g(n)}}),100)}else{var D,B,N,z;if(Object(null===(D=xe.current)||void 0===D?void 0:D.state).x<0||Object(null===(B=xe.current)||void 0===B?void 0:B.state).x>0)return;Object(null===(N=xe.current)||void 0===N?void 0:N.state).x=-Math.floor(Math.random()*(t.map.screenSize[0]-500+1)+500),Object(null===(z=xe.current)||void 0===z?void 0:z.state).y=(c(),0)}else{var F,Q,L,U;if(Object(null===(F=je.current)||void 0===F?void 0:F.state).x<0||Object(null===(Q=je.current)||void 0===Q?void 0:Q.state).x>0)return;Object(null===(L=je.current)||void 0===L?void 0:L.state).x=-Math.floor(Math.random()*(t.map.screenSize[0]-500+1)+500),Object(null===(U=je.current)||void 0===U?void 0:U.state).y=Math.floor(101*Math.random()+50)+-25*o}else{var G,Y,H,W;if(Object(null===(G=Ae.current)||void 0===G?void 0:G.state).x<0||Object(null===(Y=Ae.current)||void 0===Y?void 0:Y.state).x>0)return;Object(null===(H=Ae.current)||void 0===H?void 0:H.state).x=-Math.floor(Math.random()*(t.map.screenSize[0]-500+1)+500),Object(null===(W=Ae.current)||void 0===W?void 0:W.state).y=Math.floor(101*Math.random()+50)+-25*o}else{var J,K,V,X;if(Object(null===(J=ge.current)||void 0===J?void 0:J.state).x<0||Object(null===(K=ge.current)||void 0===K?void 0:K.state).x>0)return;Object(null===(V=ge.current)||void 0===V?void 0:V.state).x=-Math.floor(Math.random()*(t.map.screenSize[0]-500+1)+500),Object(null===(X=ge.current)||void 0===X?void 0:X.state).y=Math.floor(101*Math.random()+50)+-25*o}else{var Z,q,_,$;if(Object(null===(Z=me.current)||void 0===Z?void 0:Z.state).x<0||Object(null===(q=me.current)||void 0===q?void 0:q.state).x>0)return;Object(null===(_=me.current)||void 0===_?void 0:_.state).x=-Math.floor(Math.random()*(t.map.screenSize[0]-500+1)+500),Object(null===($=me.current)||void 0===$?void 0:$.state).y=Math.floor(101*Math.random()+50)+-25*o}else{var te,ne,ie,ae;if(Object(null===(te=fe.current)||void 0===te?void 0:te.state).x<0||Object(null===(ne=fe.current)||void 0===ne?void 0:ne.state).x>0)return;Object(null===(ie=fe.current)||void 0===ie?void 0:ie.state).x=-Math.floor(Math.random()*(t.map.screenSize[0]-500+1)+500),Object(null===(ae=fe.current)||void 0===ae?void 0:ae.state).y=Math.floor(101*Math.random()+50)+-25*o}else{var re,se,le,ue;if(Object(null===(re=be.current)||void 0===re?void 0:re.state).x<0||Object(null===(se=be.current)||void 0===se?void 0:se.state).x>0)return;Object(null===(le=be.current)||void 0===le?void 0:le.state).x=-Math.floor(Math.random()*(t.map.screenSize[0]-500+1)+500),Object(null===(ue=be.current)||void 0===ue?void 0:ue.state).y=Math.floor(101*Math.random()+50)+-25*o}else{var de,pe,ve,Oe;if(Object(null===(de=he.current)||void 0===de?void 0:de.state).x<0||Object(null===(pe=he.current)||void 0===pe?void 0:pe.state).x>0)return;Object(null===(ve=he.current)||void 0===ve?void 0:ve.state).x=-Math.floor(Math.random()*(t.map.screenSize[0]-500+1)+500),Object(null===(Oe=he.current)||void 0===Oe?void 0:Oe.state).y=Math.floor(101*Math.random()+50)+-25*o}rt(o),at(o),ce(o),u(!1)}(e.target,n,i,o):(e.target,a=n,r=o,($.x<0||$.x>0)&&se===r||(Fe=!0,!0===s?m===a&&u(!1):!1===s&&u(!0),g(a),ce(r)))}),250)}return Object(Ta.jsx)(pa.a,{children:function(){var i,o,a,r,u,d,p,h,b,f,g,A,j,O,y,x,C,w,S,k,I,T,E,M;return Object(Ta.jsxs)("div",{ref:n,className:e.back,style:{backgroundColor:"#0f5c81"},children:[Object(Ta.jsxs)(ba.a,{pane2Style:!0===s?{display:"block",backgroundColor:"chat"===m?"#0f5c81":"content"===m||"twitch"===m?"#8b5e3c":"blank"!==m?Pe:"white",boxShadow:"blank"!==m?"5px 10px 10px 3px black":"5px 10px 10px 3px white"}:{display:"none",backgroundColor:"#FFF"},className:e.fill,split:"vertical",minSize:0,defaultSize:!0===s?c()?"40%":"73%":"100%",children:[Object(Ta.jsxs)(va.Fragment,{children:[Object(Ta.jsx)(iv,{showAllTracks:false,stores:t}),Object(Ta.jsx)(pa.a,{children:function(){return Object(Ta.jsx)(hv,{transparent:void 0!==ea.mainScreenStream||false,stores:t})}}),Object(Ta.jsx)(xv.a,{ref:he,onDrag:function(e,t){return ot(t,0,"chat")},onStop:function(e,t){return st(t,"",0)},defaultPosition:{x:0,y:0},children:Object(Ta.jsxs)("div",{style:{position:"absolute",right:"0%",top:(c(),0),borderRadius:"5px",display:"flex",zIndex:v?0:"chat"===m||0===se?19:16,height:"100%"},children:[Object(Ta.jsxs)("div",{style:{position:"absolute",right:"0%",top:"0px",borderRadius:"5px",display:"flex",zIndex:v?0:"chat"===m?19:16},onClick:function(e){dt(e,"chat","",0)},onTouchEnd:function(e){dt(e,"chat","",0)},children:[Object(Ta.jsx)("img",{src:"data:image/png;base64,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",style:{width:c()?120:50,height:"auto",position:"relative",top:"0px",left:(c(),"1px"),userSelect:"none",zIndex:v?0:"chat"===m?19:16},draggable:!1,alt:""}),Object(Ta.jsx)("img",{src:Zd,style:{width:c()?120:50,height:c()?120:50,color:"white",position:"absolute",top:"2px",left:c()?"10px":"5px",userSelect:"none",zIndex:v?0:99},draggable:!1,alt:""})]}),Object(Ta.jsxs)("div",{style:{position:"absolute",width:"405px",height:"70%",left:"0px",backgroundColor:"#0f5c81",borderRadius:"2px",minWidth:"280px",top:"0px",display:Object(null===(i=he.current)||void 0===i?void 0:i.state).x<0||Object(null===(o=he.current)||void 0===o?void 0:o.state).x>0?"block":"none",zIndex:-9999},children:[Object(Ta.jsx)(Ov.a,{style:{width:"40px",height:"50px",position:"absolute",right:"25px",color:"white",padding:c()?"10px":"1px",transform:c()?"scale(2)":"scale(1)",zIndex:9999},onClick:function(){ct(0,"chat")},onTouchEnd:function(){ct(0,"chat")}}),Object(Ta.jsx)(ev,{stores:t,type:"chat"})]})]})},0),Object(Ta.jsx)(xv.a,{ref:be,onDrag:function(e,t){return ot(t,1,"content")},onStop:function(e,t){return st(t,"",1)},defaultPosition:{x:0,y:0},children:Object(Ta.jsxs)("div",{style:{position:"absolute",right:"0%",top:c()?119:51,borderRadius:"5px",display:"flex",zIndex:v?0:"content"===m||1===se?19:15,height:"100%"},children:[Object(Ta.jsxs)("div",{style:{position:"absolute",right:"0%",top:"0px",borderRadius:"5px",display:"flex",zIndex:v?0:"content"===m?19:15},onClick:function(e){dt(e,"content","",1)},onTouchEnd:function(e){dt(e,"content","",1)},children:[Object(Ta.jsx)("img",{src:bv,style:{width:c()?120:50,height:"auto",position:"relative",top:"0px",left:(c(),"1px"),userSelect:"none",zIndex:v?0:"content"===m?19:15},draggable:!1,alt:""}),Object(Ta.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAAC4jAAAuIwF4pT92AAADeUlEQVR4nO2c0W3bMBRFj4v+1xtUmaDeIOoEzQZ1N8gGyQjpBHU36AZ1J6izAbOBM0H6QRtxVMVNY1J6F7oHEGIIwiPhEz3yUaJnDw8PGE3ejN0B83osTxjLE8byhLE8YSxPGMsTxvKEsTxhLE8YyxPG8oSxPGEsTxjLE8byhLE8YSxPGMsTxvKEsTxhLE8YyxPG8oSxPGEsTxjLE8byhHk7dgeOMAcWhWK1u7+b3ZEKxR2ViPIWwDXwqWIbX4HLivEHYRZsi9cS+DZQW9937ckSSd4C+D1wm9ICI01Yrkdo8zOwGqHdIkSRN+fvMe4e+AKcAbMTjjPg9kjbsgKjyOubVV6Sv9R0YuwE/PjHNZICo8jrYzNwe3ICpyzvvueclMDI8mrTIi5wyvI2iAucsjwQFzh1eSAscCrytj3n5gefJQVORV7fzPWm55oWIYFR1jZb4Gfn3KxwG1vgXefcHY+LAAlodsf7Z2KEWgudkrxr4KpAnI/AukCck5lK2oQs71eBOMsCMYowJXkAF+QHsafQFOhHESI+Sa/JlrzgfUMW2fJ01tml4fnxb3SmJm9PIgvszjifuzakwKmlzdeQxu7Ac6jdeQse011J9m+VrQrHrYqSvIY8Re/WaiU4P/i8qhC/Ckpps6GOuEPayvGLoiQvDdDG0E/vT0IpbSby6kZL+TskkVPyqnDcqijJg/wFr0fuQxiU0qbpYHnCqKVN13kHKMlrqF/nzXnZklkIlNJmQ/0679gidTiU5KUB2uh71yUsSmkzkeu8C8rtmN2zJadkmZQJWvLAdd4TlNKm6WB5wqilzQX5NYamcNw1ZfYCDoqSvIa6dd4VgV7rewlKabOhfp3XVI5fFCV5qXL8e1znVSOR09ol5VdC0i6u5VVkjdCYVBultGk6WJ4wkeW1Y3dgR3d8DTMuRpHX94W0Q3eihwXwoXMuzBtmUSYsG/JU/bCOuyLXXWmE/kC+45Y958PIi7K5EsptfqzJHYEK+Ujy5uT/6pA7cnaEWj6LMuZBHvdajv9C31jsf4FwPXI/nhDpzjtkuTvOj19WnVsen7CnUXvSQ1R55gVESpvmP7E8YSxPGMsTxvKEsTxhLE8YyxPG8oSxPGEsTxjLE8byhLE8YSxPGMsTxvKEsTxhLE8YyxPG8oSxPGEsTxjLE8byhLE8YSxPGMsT5g9FnpQ4jUiu6wAAAABJRU5ErkJggg==",style:{width:c()?120:50,height:c()?120:50,color:"white",position:"absolute",top:"2px",left:c()?"10px":"5px",userSelect:"none",zIndex:v?0:99},draggable:!1,alt:""})]}),Object(Ta.jsxs)("div",{style:{position:"absolute",width:"405px",height:"70%",left:"0px",backgroundColor:"#8b5e3c",borderRadius:"2px",minWidth:"280px",top:"0px",display:Object(null===(a=be.current)||void 0===a?void 0:a.state).x<0||Object(null===(r=be.current)||void 0===r?void 0:r.state).x>0?"block":"none",zIndex:-9999},children:[Object(Ta.jsx)(Ov.a,{style:{width:"40px",height:"50px",position:"absolute",right:"25px",color:"white",padding:c()?"10px":"1px",transform:c()?"scale(2)":"scale(1)",zIndex:9999},onClick:function(){ct(1,"content")},onTouchEnd:function(){ct(1,"content")}}),Object(Ta.jsx)(ev,{stores:t,type:"content"})]})]})},1),Object(Ta.jsxs)(Ta.Fragment,{children:[Be.filter((function(e){return"appimg"===e.shareType})).map((function(e,n){var i,o,a,r,s,l,u,d,p,h;return Object(Ta.jsx)(xv.a,{bounds:""===e.url?{top:-51*(n+2),left:-(t.map.screenSize[0]-40),right:-40,bottom:t.map.screenSize[1]-(50+51*(n+2))}:{},ref:n+2===2?fe:n+2===3?me:n+2===4?ge:n+2===5?Ae:n+2===6?je:n+2===7?Oe:ye,onDrag:function(t,i){return ot(i,n+2,e.type)},onStop:function(t,i){return st(i,e.url,n+2)},defaultPosition:{x:0,y:0},children:Object(Ta.jsxs)("div",{style:{position:"absolute",right:"0%",top:c()?0+119*(n+2):0+51*(n+2),borderRadius:"5px",display:"flex",zIndex:v?0:m===e.type||se===n+2?19:18-(n+2+2),height:"100%"},children:[Object(Ta.jsxs)("div",{style:{position:"absolute",right:"0%",top:"0px",borderRadius:"5px",display:"flex",zIndex:v?0:m===e.type?19:18-(n+2+2)},onClick:function(t){dt(t,e.type,e.url,n+2)},onTouchEnd:function(t){dt(t,e.type,e.url,n+2)},children:[Object(Ta.jsx)("img",{src:e.baseImage,style:{width:c()?120:50,height:"auto",position:"relative",top:"0px",left:(c(),"1px"),userSelect:"none",zIndex:v?0:m===e.type?19:18-(n+2+2)},draggable:!1,alt:""}),Object(Ta.jsx)("img",{src:e.baseIcon,style:{width:c()?120:50,height:c()?120:50,color:"white",position:"absolute",top:"2px",left:c()?"10px":"5px",userSelect:"none",zIndex:v?0:99},draggable:!1,alt:""})]}),Object(Ta.jsxs)("div",{style:{position:"absolute",width:"405px",height:"70%",left:"0px",backgroundColor:e.baseColor,borderRadius:"2px",minWidth:"280px",top:"0px",display:(Object(null===(i=fe.current)||void 0===i?void 0:i.state).x<0||Object(null===(o=fe.current)||void 0===o?void 0:o.state).x>0)&&n+2===2||(Object(null===(a=me.current)||void 0===a?void 0:a.state).x<0||Object(null===(r=me.current)||void 0===r?void 0:r.state).x>0)&&n+2===3||(Object(null===(s=ge.current)||void 0===s?void 0:s.state).x<0||Object(null===(l=ge.current)||void 0===l?void 0:l.state).x>0)&&n+2===4||(Object(null===(u=Ae.current)||void 0===u?void 0:u.state).x<0||Object(null===(d=Ae.current)||void 0===d?void 0:d.state).x>0)&&n+2===5||(Object(null===(p=je.current)||void 0===p?void 0:p.state).x<0||Object(null===(h=je.current)||void 0===h?void 0:h.state).x>0)&&n+2===6?"block":"none",zIndex:-9999},children:[Object(Ta.jsx)(Ov.a,{style:{width:"40px",height:"50px",position:"absolute",right:"25px",color:"white",padding:c()?"10px":"1px",transform:c()?"scale(2)":"scale(1)",zIndex:9999},onClick:function(){ct(n+2,e.type)},onTouchEnd:function(){ct(n+2,e.type)}}),Object(Ta.jsx)("iframe",{src:e.url,title:e.type,allowTransparency:!0,frameBorder:0,style:{width:"100%",height:"100%"}})]})]})},n+2)})),void 0!==we&&"close"===we&&void 0!==Ce&&""!==Ce?Object(Ta.jsx)(xv.a,{ref:2===ze?fe:3===ze?me:4===ze?ge:5===ze?Ae:6===ze?je:7===ze?Oe:ye,onDrag:function(e,t){return ot(t,ze,"twitch")},onStop:function(e,t){return st(t,Ce,ze)},defaultPosition:{x:0,y:0},children:Object(Ta.jsxs)("div",{style:{position:"absolute",right:"0%",top:c()?0+119*Ne:0+51*Ne,borderRadius:"5px",display:"flex",zIndex:v?0:"twitch"===m||se===Ne?19:18-(Ne+2),height:"100%"},children:[Object(Ta.jsxs)("div",{style:{position:"absolute",right:"0%",top:"0px",borderRadius:"5px",display:"flex",zIndex:v?0:"twitch"===m?19:18-(Ne+2)},onClick:function(e){dt(e,"twitch",Ce,ze)},onTouchEnd:function(e){dt(e,"twitch",Ce,ze)},children:[Object(Ta.jsx)("img",{src:bv,style:{width:c()?120:50,height:"auto",position:"relative",top:"0px",left:(c(),"1px"),userSelect:"none",zIndex:v?0:"twitch"===m?19:18-(Ne+2)},draggable:!1,alt:""}),Object(Ta.jsx)("img",{src:"data:image/png;base64,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",style:{width:c()?120:50,height:c()?120:50,color:"white",position:"absolute",top:"2px",left:c()?"10px":"5px",userSelect:"none",zIndex:v?0:99,display:0===ie.x&&!0===de&&!1===s?"none":"block"},draggable:!1,alt:""})]}),Object(Ta.jsxs)("div",{style:{position:"absolute",width:"405px",height:"70%",left:"0px",backgroundColor:"#8b5e3c",borderRadius:"2px",minWidth:"280px",top:"0px",display:(Object(null===(u=fe.current)||void 0===u?void 0:u.state).x<0||Object(null===(d=fe.current)||void 0===d?void 0:d.state).x>0)&&2===ze||(Object(null===(p=me.current)||void 0===p?void 0:p.state).x<0||Object(null===(h=me.current)||void 0===h?void 0:h.state).x>0)&&3===ze||(Object(null===(b=ge.current)||void 0===b?void 0:b.state).x<0||Object(null===(f=ge.current)||void 0===f?void 0:f.state).x>0)&&4===ze||(Object(null===(g=Ae.current)||void 0===g?void 0:g.state).x<0||Object(null===(A=Ae.current)||void 0===A?void 0:A.state).x>0)&&5===ze||(Object(null===(j=je.current)||void 0===j?void 0:j.state).x<0||Object(null===(O=je.current)||void 0===O?void 0:O.state).x>0)&&6===ze?"block":"none",zIndex:-9999},children:[Object(Ta.jsx)(Ov.a,{style:{width:"40px",height:"50px",position:"absolute",right:"25px",color:"white",padding:c()?"10px":"1px",transform:c()?"scale(2)":"scale(1)",zIndex:9999},onClick:function(){ct(ze,"twitch")},onTouchEnd:function(){ct(ze,"twitch")}}),Object(Ta.jsx)("iframe",{src:Object(null===(y=fe.current)||void 0===y?void 0:y.state).x<0&&Object(null===(x=fe.current)||void 0===x?void 0:x.state).x>-99999999&&2===ze||Object(null===(C=me.current)||void 0===C?void 0:C.state).x<0&&Object(null===(w=me.current)||void 0===w?void 0:w.state).x>-99999999&&3===ze||Object(null===(S=ge.current)||void 0===S?void 0:S.state).x<0&&Object(null===(k=ge.current)||void 0===k?void 0:k.state).x>-99999999&&4===ze||Object(null===(I=Ae.current)||void 0===I?void 0:I.state).x<0&&Object(null===(T=Ae.current)||void 0===T?void 0:T.state).x>-99999999&&5===ze||Object(null===(E=je.current)||void 0===E?void 0:E.state).x<0&&Object(null===(M=je.current)||void 0===M?void 0:M.state).x>-99999999&&6===ze?Ce+"&parent="+Se+"&autoplay=true":"",title:"Twitch",allowTransparency:!0,frameBorder:0,style:{width:"100%",height:"100%"},allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"})]})]})},ze):void 0===Ce&&void 0===we?console.log(""):""]}),Object(Ta.jsx)(sc,{stores:t,height:c()&&l()?100:void 0}),Object(Ta.jsx)(Rv,{stores:t,height:c()&&l()?100:void 0}),Object(Ta.jsx)(Ev,{stores:t,height:c()&&l()?100:void 0})]}),Object(Ta.jsx)("div",{style:{display:!0===s?"block":"none",minWidth:"280px",width:"100%",maxWidth:"280px"},children:Object(Ta.jsx)(ev,{stores:t,type:Dv})})]}),Object(Ta.jsxs)("div",{style:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center",verticalAlign:"center",position:"absolute",backgroundColor:"#5f7ca0",textAlign:"center",display:v?"block":"none"},children:[Object(Ta.jsx)("p",{style:{textAlign:"right",color:"white",position:"relative",right:"24.5px",top:"20px",fontSize:c()?"2.4rem":"1rem",fontWeight:"normal"},children:"Version 3.0.7"}),Object(Ta.jsxs)("div",{style:{position:"relative",top:""===Ee?"20%":"0%"},children:[Object(Ta.jsx)("p",{style:{textAlign:"center",color:"white",fontSize:c()?"3rem":"1.2rem",fontWeight:"normal"},children:"Welcome To"}),Object(Ta.jsx)("p",{style:Le?{textAlign:"center",color:"white",marginTop:c()?"-2.6rem":"-0.8rem",fontSize:c()?"2.8rem":"1.2rem",fontWeight:"bold",opacity:1,transition:"opacity 300ms"}:{textAlign:"center",color:"white",marginTop:c()?"-2.6rem":"-0.8rem",fontSize:c()?"3rem":"1.2rem",fontWeight:"bold",opacity:0},children:Le}),Object(Ta.jsx)("img",{src:Ee,style:Ee?{height:"250px",transform:"scale(1)",opacity:1,transition:"opacity 300ms, transform: 300ms",userSelect:"none"}:{height:"0px",transform:"scale(0)",opacity:0,transition:"0.3s ease-out",userSelect:"none"},draggable:!1,alt:""}),Object(Ta.jsx)("p",{style:{textAlign:"center",color:"#cdcdcd",fontSize:c()?"2.8rem":"1rem",overflow:"hidden",position:"relative",marginTop:"0.5rem",width:"80%",marginLeft:"10%",fontWeight:"normal"},children:Me}),Object(Ta.jsx)("img",{style:{width:c()?"8rem":"4rem",backgroundColor:"#00000020",borderRadius:"50%",position:"relative",marginTop:""!==Ee?"20px":"-15px",userSelect:"none"},src:t.participants.local.information.avatarSrc,draggable:!1,alt:""}),Object(Ta.jsx)("p",{style:{textAlign:"center",color:"black",marginTop:"0.5rem",fontSize:c()?"3rem":"1.2rem",fontWeight:"normal"},children:t.participants.local.information.name}),Object(Ta.jsx)("p",{style:{textAlign:"center",color:"black",marginTop:"1.5rem",fontSize:c()?"3rem":"1.2rem",fontWeight:"normal"},children:"Give your web browser permissions"}),Object(Ta.jsx)("p",{style:{textAlign:"center",color:"black",marginTop:c()?"-2.9rem":"-0.9rem",fontSize:c()?"3rem":"1.2rem",fontWeight:"normal"},children:"to access the mic and camera if necessary."}),Object(Ta.jsx)("img",{style:{width:c()?"18rem":"8rem",position:"relative",userSelect:"none"},src:Aa,draggable:!1,alt:""})]})]}),Object(Ta.jsxs)("div",{ref:ve,style:{position:"relative",width:"130px",height:"130px",maxWidth:"130px",zIndex:-999},children:[Object(Ta.jsx)("div",{style:{position:"absolute",top:"0px",left:"0px"},children:Object(Ta.jsx)("img",{style:{display:""!==Nv?"block":"none"},src:Nv,width:"130px",height:"130px",draggable:!1,alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"0px",left:"0px"},children:Object(Ta.jsx)("img",{style:{display:""!==Lv?"block":"none"},src:Lv,width:"130px",height:"130px",draggable:!1,alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"0px",left:"0px"},children:Object(Ta.jsx)("img",{style:{display:""!==zv?"block":"none"},src:zv,width:"130px",height:"130px",draggable:!1,alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"0px",left:"0px"},children:Object(Ta.jsx)("img",{style:{display:""!==Qv?"block":"none"},src:Qv,width:"130px",height:"130px",draggable:!1,alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"-3px",left:"0px"},children:Object(Ta.jsx)("img",{style:{display:""!==Uv?"block":"none"},src:Uv,width:"130px",height:"130px",draggable:!1,alt:""})}),Object(Ta.jsx)("div",{style:{position:"absolute",top:"0px",left:"0px"},children:Object(Ta.jsx)("img",{style:{display:""!==Gv?"block":"none"},src:Gv,width:"130px",height:"130px",draggable:!1,alt:""})})]}),Object(Ta.jsx)(ka.a,{open:X,onClose:function(){return Z(!1)},onExited:function(){return Z(!1)},keepMounted:!0,PaperProps:{style:{backgroundColor:"white",position:"relative",overflow:"hidden",borderRadius:"20px",width:300,height:350,zIndex:0,left:"250px",transform:c()?"scale(1.5)":"scale(1)"}},BackdropProps:{invisible:!0},children:Object(Ta.jsx)(ya.a,{style:{overflow:"hidden"},children:Object(Ta.jsxs)("div",{children:[Object(Ta.jsx)("div",{style:{position:"relative",left:"0px"},children:Object(Ta.jsx)(Ta.Fragment,{children:Ze.map((function(t,n){return Object(Ta.jsx)("div",{className:n===et?e.activeSlide:e.slide,children:n===et&&Object(Ta.jsx)("img",{src:t,width:"250px",height:"250px",alt:""})},n)}))})}),Object(Ta.jsx)("div",{style:{width:"100%",height:"1px",backgroundColor:"lightgrey",position:"relative",top:"5px"}}),Object(Ta.jsxs)("div",{style:{display:"flex",position:"relative",top:"15px",width:"100%"},children:[Object(Ta.jsx)("div",{onClick:function(){tt(0===et?nt-1:et-1)},children:Object(Ta.jsx)(mv.a,{className:e.previous})}),Object(Ta.jsx)("div",{onClick:function(){tt(et===nt-1?0:et+1)},children:Object(Ta.jsx)(Av.a,{className:e.next})}),Object(Ta.jsx)("div",{style:{display:"flex",width:"80%",justifyContent:"center",position:"relative",top:"15px",left:"10%"},children:qe.map((function(e,t){return Object(Ta.jsx)("div",{style:{position:"relative",width:"12px",height:"12px",borderRadius:"50%",backgroundColor:t===et?"green":"lightgray",alignItems:"center",margin:"3px"}})}))})]})]})})})]})}})};Hv.displayName="App";var Wv=Pl,Jv=function(){};function Kv(e,t,n){var i=ke.a.cloneDeep(t?t.pose:n?n.pose:{position:[0,0],orientation:0});return n&&e.position.forEach((function(t,o){if(e.position[o]>i.position[o]){var a=e.position[o]-i.position[o];i.position[o]+=Math.min(n.size[o],a>0?a:0)}})),S(e,i)}var Vv=function(){function e(t,n,i,o){Object(X.a)(this,e),this.disposers=[],this.disposers.push(Object(fe.c)((function(){var e=t.get(),a=ke.a.clone(e.pose);"user"===e.soundLocalizationBase&&(a.orientation=0);var r=Kv(a,i,n);if(i){var s=!1,c=!1;if(On.yarnPhones.has(i.id)?s=!0:i.closedZone&&(i.closedZone===e.zone?s=!0:c=!0),!c&&!s&&e.zone){var l,u=M(e.zone.pose,e.zone.size);c=!(s=P(i.pose.position,30,u))&&("close"===e.zone.zone||"close"===(null===(l=i.closedZone)||void 0===l?void 0:l.zone))}if(!i.physics.located||c)o.updatePose(k({orientation:0,position:[Ce,Ce]})),Jv("mute ".concat(i.id," loc:").concat(i.physics.located," other:").concat(c," rInL:").concat(s));else{if(s){Jv("In zone: cid:".concat(i.id));var d=x(r.position);d>1e-10&&(r.position=y(1/d,r.position))}o.updatePose(k(r))}}else if(n){var p=!!e.zone&&(n.overlapZones.includes(e.zone)||n.surroundingZones.includes(e.zone)),v=!p&&n.surroundingZones.find((function(e){return"close"===e.zone}));if(p){Jv("In zone: cid:".concat(n.id));var h=x(r.position);h>1e-10&&(r.position=y(1/h,r.position))}else v&&(o.updatePose(k({orientation:0,position:[Ce,Ce]})),Jv("mute ".concat(n.id," other:").concat(v," cInL:").concat(p)));var b=k(r);o.updatePose(b)}else console.error("participant or content must be specified")}))),this.disposers.push(Object(fe.c)((function(){var e=i?i.tracks.audio:ea.getContentTrack(n.id,"audio"),t=new MediaStream;e&&(t.addTrack(e),o.updateStream(t))}))),this.disposers.push(Object(fe.c)((function(){return o.updatePannerConfig(Wv)}))),this.disposers.push(Object(fe.c)((function(){return o.updateBroadcast(!(null===i||void 0===i||!i.physics.onStage))})))}return Object(V.a)(e,[{key:"dispose",value:function(){var e,t=Object(a.a)(this.disposers);try{for(t.s();!(e=t.n()).done;){(0,e.value)()}}catch(n){t.e(n)}finally{t.f()}}}]),e}(),Xv=function(){function e(t,n,i,o){Object(X.a)(this,e),this.disposers=[],this.disposers.push(Object(fe.c)((function(){var e,a=t.get(),r=ke.a.clone(a.pose);"user"===a.soundLocalizationBase&&(r.orientation=0),!i&&o&&(e=ea.findPlayback(o));var s=k(Kv(r,i,e));n.updatePose(s)}))),this.disposers.push(Object(fe.c)((function(){var e,t;!i&&o&&(t=ea.findPlayback(o)),n.playBlob(i?i.audioBlob:null===(e=t)||void 0===e?void 0:e.audioBlob)}))),this.disposers.push(Object(fe.c)((function(){return n.updatePannerConfig(Wv)})))}return Object(V.a)(e,[{key:"dispose",value:function(){var e,t=Object(a.a)(this.disposers);try{for(t.s();!(e=t.n()).done;){(0,e.value)()}}catch(n){t.e(n)}finally{t.f()}}}]),e}(),Zv=function(){function e(){Object(X.a)(this,e),this.audioContext=new window.AudioContext,this.audioDestination=this.audioContext.createMediaStreamDestination(),this.audioElement=new Audio,this.playMode="Pause",this.nodes={},this.audioElement.srcObject=this.audioDestination.stream}return Object(V.a)(e,[{key:"addSpeaker",value:function(e){return r(void 0===this.nodes[e]),this.nodes[e]=new Tl(this.audioContext,this.audioDestination,this.playMode,!this.audioOutputMuted),this.nodes[e]}},{key:"addPlayback",value:function(e){r(void 0===this.nodes[e]);var t=new El(this.audioContext,this.audioDestination,this.playMode,!this.audioOutputMuted);return this.nodes[e]=t,t}},{key:"removeSpeaker",value:function(e){this.nodes[e].disconnect(),delete this.nodes[e]}},{key:"switchPlayMode",value:function(e,t){var n=this;if(r("Pause"!==e),"Pause"===this.playMode&&Object(fe.c)((function(){var e=new Set(Uo.priorityCalculator.tracksToConsume.audios.map((function(e){return"avatar"===e.producer.role?e.producer.peer.peer:e.producer.role})));for(var t in n.nodes)e.has(t)||n.nodes[t]instanceof El?n.nodes[t].setPlayMode(n.playMode):n.nodes[t].setPlayMode("Pause")})),e!==this.playMode||t!==this.audioOutputMuted){switch(this.playMode=e,e){case"Context":var i=setInterval((function(){da.type||("suspended"!==n.audioContext.state&&clearInterval(i),n.audioContext.resume(),n.audioElement.play())}),1e3);for(var o in this.nodes)this.nodes[o].setPlayMode(e);break;case"Element":for(var a in this.audioContext.suspend(),this.audioElement.pause(),this.nodes)this.nodes[a].setPlayMode(e);break;default:console.error("Unsupported play mode: ".concat(e))}this.audioOutputMuted=t}}},{key:"setAudioOutput",value:function(e){for(var t in gl(this.audioElement,e),this.nodes)this.nodes[t].setAudioOutput(e)}},{key:"audioOutputMuted",get:function(){return!(this.audioDestination.stream.getTracks().length>0&&this.audioDestination.stream.getTracks()[0].enabled)},set:function(e){for(var t in this.nodes)this.nodes[t].updateAudibility(!e);this.audioDestination.stream.getTracks().forEach((function(t){t.enabled=!e}))}}]),e}(),qv=new(function(){function e(){var t=this;Object(X.a)(this,e),this.manager=new Zv,this.connectedGroups={},this.remotesMemo=new Map,this.playbacksMemo=new Map,this.contentsMemo=new Map,this.playbackContentsMemo=new Map,this.onRemotesChange=function(){var e=new Map(On.remote),n=s(e,t.remotesMemo);s(t.remotesMemo,e).forEach(t.removeRemote),n.forEach(t.addRemote),t.remotesMemo=e},this.onPlaybacksChange=function(){var e=new Map(On.playback),n=s(e,t.playbacksMemo);s(t.playbacksMemo,e).forEach(t.removePlayback),n.forEach(t.addPlayback),t.playbacksMemo=e},this.onPlaybackContentsChange=function(){var e=new Map(ea.playbackContents),n=s(e,t.playbackContentsMemo);s(t.playbackContentsMemo,e).forEach(t.removePlayback),n.forEach(t.addPlaybackContent),t.playbackContentsMemo=e},this.onScreenContentsChange=function(){var e=ea.getRemoteRtcContentIds().filter((function(e){return ea.getContentTrack(e,"audio")})),n=new Map(e.map((function(e){return[e,ea.find(e)]}))),i=s(n,t.contentsMemo);s(t.contentsMemo,n).forEach(t.removeContent),i.forEach(t.addContent),t.contentsMemo=n},this.removePlayback=function(e){var n=e.id;t.connectedGroups[n].dispose(),delete t.connectedGroups[n],t.manager.removeSpeaker(n)},this.addPlayback=function(e){var n=e.id,i=t.manager.addPlayback(n);t.connectedGroups[n]=new Xv(On.local_,i,e)},this.addPlaybackContent=function(e){var n=e.id,i=t.manager.addPlayback(n);t.connectedGroups[n]=new Xv(On.local_,i,void 0,e.id)},this.removeRemote=function(e){var n=e.id;t.connectedGroups[n].dispose(),delete t.connectedGroups[n],t.manager.removeSpeaker(n)},this.addRemote=function(e){var n=t.manager.addSpeaker(e.id);t.connectedGroups[e.id]=new Vv(On.local_,void 0,e,n)},this.removeContent=function(e){t.connectedGroups[e.id].dispose(),delete t.connectedGroups[e.id],t.manager.removeSpeaker(e.id)},this.addContent=function(e){var n=t.manager.addSpeaker(e.id);t.connectedGroups[e.id]=new Vv(On.local_,e,void 0,n)},null===o.testBot&&(Object(fe.c)(this.onRemotesChange),Object(fe.c)(this.onPlaybacksChange),Object(fe.c)(this.onPlaybackContentsChange),Object(fe.c)(this.onScreenContentsChange),Object(fe.c)((function(){var e=On.local.muteSpeaker||On.local.physics.awayFromKeyboard;t.manager.switchPlayMode(On.local.useStereoAudio?"Context":"Element",e)})))}return Object(V.a)(e,[{key:"setAudioOutput",value:function(e){this.manager.setAudioOutput(e)}}]),e}()),_v=n(36),$v=n.n(_v),eh=n(336),th=n(337),nh=new eh.Holistic({locateFile:function(e){return"https://cdn.jsdelivr.net/npm/@mediapipe/holistic/".concat(e)}});nh.setOptions({modelComplexity:1,smoothLandmarks:!0,minDetectionConfidence:.7,minTrackingConfidence:.7,refineFaceLandmarks:!0});var ih,oh=new th.FaceMesh({locateFile:function(e){return"https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/".concat(e)}});oh.setOptions({maxNumFaces:1,refineLandmarks:!0});var ah=!1;function rh(){ih&&(ih.srcObject=null,ih.remove(),ih=void 0),ah=!1}function sh(){return On.local.muteAudio||On.local.physics.awayFromKeyboard||!On.localId||null!==o.testBot}Object(fe.c)((function(){var e=On.local.devicePreference.audioInputDevice;if(sh())Uo.setLocalMicTrack(void 0).then((function(){On.local.audioLevel=0}));else{var t=Uo.getLocalMicTrack();if(t&&t.deviceId===e)return;new Promise((function(e,t){var n=On.local.devicePreference.audioInputDevice;navigator.mediaDevices.getUserMedia({audio:{deviceId:n}}).then((function(t){var n=t.getAudioTracks()[0];n&&e({track:n,peer:On.local.id,role:"avatar"})})).catch(t)})).then((function(e){var t;sh()?null===(t=e.track)||void 0===t||t.stop():Uo.setLocalMicTrack(e)})).finally(Xi)}})),Object(fe.c)((function(){var e=On.local.devicePreference.audioOutputDevice;e&&qv.setAudioOutput(e)}));function ch(){return On.local.muteVideo||On.local.physics.awayFromKeyboard||!On.localId||null!==o.testBot}function lh(){}function uh(){$v.a.render(Object(Ta.jsx)(Hv,{}),document.getElementById("root"))}Object(fe.c)((function(){var e=On.local.devicePreference.videoInputDevice,t=On.local.information.faceTrack;if(ch())rh(),vs(),Uo.setLocalCameraTrack(void 0).then((function(e){return null===e||void 0===e?void 0:e.track.stop()}));else if(".vrm"===On.local.information.avatarSrc.slice(-4))vs(),function(e,t){rh(),new Promise((function(n,i){t||(t=On.local.devicePreference.videoInputDevice);var o=Object(wn.a)(Object(wn.a)({},config.rtc.videoConstraints.video),{},{width:{ideal:320},height:{ideal:240},frameRate:{ideal:10}});navigator.mediaDevices.getUserMedia({video:Object(wn.a)({deviceId:t},o)}).then((function(t){(ih=window.document.createElement("video")).srcObject=t,ih.autoplay=!0,e?oh.onResults((function(e){var t=e.multiFaceLandmarks[0],n={face:t&&ld.a.solve(t,{runtime:"mediapipe",video:ih})};On.local.vrmRigs=n})):nh.onResults((function(e){var t=e.faceLandmarks,n=e.poseLandmarks,i=e.za,o=e.rightHandLandmarks,a=e.leftHandLandmarks,r={face:t&&ld.a.solve(t,{runtime:"mediapipe",video:ih}),pose:i&&n&&ld.c.solve(i,n,{runtime:"mediapipe",video:ih,imageSize:{height:0,width:0},enableLegs:!0}),leftHand:a&&ld.b.solve(a,"Left"),rightHand:o&&ld.b.solve(o,"Right")};On.local.vrmRigs=r})),ah=!0,function e(t){var n;ah&&(null!==(n=ih)&&void 0!==n&&n.videoWidth?t.send({image:ih}).then((function(){window.setTimeout((function(){e(t)}),to)})):window.setTimeout((function(){e(t)}),to))}(e?oh:nh),n()})).catch(i)}))}(!t);else{rh();var n=Uo.getLocalCameraTrack();if(n&&n.deviceId===e)return;hs(t).then((function(e){ch()?null===e||void 0===e||e.track.stop():Uo.setLocalCameraTrack(e)})).finally(Xi)}})),Object(fe.e)({enforceActions:"never"}),Z.a.use($.e).use(q.a).init(oe).then((function(){var e=F(lh)();e.then(F(uh)),e.then(F(ph))}));var dh="";function ph(){window.addEventListener("beforeunload",(function(e){if(dh="".concat(dh,"beforeunload called. ").concat(Date()," "),localStorage.setItem("log",dh),!da.type&&(ea.getLocalRtcContentIds().length||ea.mainScreenOwner===On.localId))return dh+="Ask user. ",e.preventDefault(),e.stopImmediatePropagation(),e.returnValue="",localStorage.setItem("log",dh),e.returnValue;Uo.leave()})),da.connectionStart(),Object(fe.j)((function(){return""===da.type}),(function(){var e=o.room||"_";Uo.enter(e)}))}}},[[543,1,2]]]);
//# sourceMappingURL=main.7875ea2c.chunk.js.map